22:10:47.104 [MockLedgerManager] ERROR org.apache.bookkeeper.client.MetadataUpdateLoop - UpdateLoop(ledgerId=1234,loopId=5c8504fd) Exception updating
org.apache.bookkeeper.client.BKException$BKLedgerClosedException: Attempt to write to a closed ledger
	at org.apache.bookkeeper.client.MetadataUpdateLoopTest.lambda$testNewestValueCannotBeUsedAfterReadBack$22(MetadataUpdateLoopTest.java:376) ~[test-classes/:?]
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:133) ~[classes/:?]
	at org.apache.bookkeeper.client.MetadataUpdateLoop.lambda$null$0(MetadataUpdateLoop.java:154) ~[classes/:?]
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774) ~[?:1.8.0_292]
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750) ~[?:1.8.0_292]
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488) ~[?:1.8.0_292]
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975) ~[?:1.8.0_292]
	at org.apache.bookkeeper.client.MetadataUpdateLoop.lambda$readLoop$2(MetadataUpdateLoop.java:193) ~[classes/:?]
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774) ~[?:1.8.0_292]
	at java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:750) ~[?:1.8.0_292]
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488) ~[?:1.8.0_292]
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975) ~[?:1.8.0_292]
	at org.apache.bookkeeper.meta.MockLedgerManager.lambda$null$7(MockLedgerManager.java:134) ~[test-classes/:?]
	at org.apache.bookkeeper.meta.MockLedgerManager.executeCallback(MockLedgerManager.java:96) ~[test-classes/:?]
	at org.apache.bookkeeper.client.MetadataUpdateLoopTest$BlockableMockLedgerManager$MockitoMock$157467767.executeCallback$accessor$R3zr612T(Unknown Source) ~[test-classes/:?]
	at org.apache.bookkeeper.client.MetadataUpdateLoopTest$BlockableMockLedgerManager$MockitoMock$157467767$auxiliary$3nq9wTVq.call(Unknown Source) ~[test-classes/:?]
	at org.mockito.internal.invocation.RealMethod$FromCallable$1.call(RealMethod.java:40) ~[mockito-core-3.0.0.jar:?]
	at org.mockito.internal.invocation.RealMethod$FromBehavior.invoke(RealMethod.java:62) ~[mockito-core-3.0.0.jar:?]
	at org.mockito.internal.invocation.InterceptedInvocation.callRealMethod(InterceptedInvocation.java:152) ~[mockito-core-3.0.0.jar:?]
	at org.mockito.internal.stubbing.answers.CallsRealMethods.answer(CallsRealMethods.java:43) ~[mockito-core-3.0.0.jar:?]
	at org.mockito.Answers.answer(Answers.java:100) ~[mockito-core-3.0.0.jar:?]
	at org.mockito.internal.handler.MockHandlerImpl.handle(MockHandlerImpl.java:103) ~[mockito-core-3.0.0.jar:?]
	at org.mockito.internal.handler.NullResultGuardian.handle(NullResultGuardian.java:29) ~[mockito-core-3.0.0.jar:?]
	at org.mockito.internal.handler.InvocationNotifierHandler.handle(InvocationNotifierHandler.java:35) ~[mockito-core-3.0.0.jar:?]
	at org.mockito.internal.creation.bytebuddy.MockMethodInterceptor.doIntercept(MockMethodInterceptor.java:61) ~[mockito-core-3.0.0.jar:?]
	at org.mockito.internal.creation.bytebuddy.MockMethodInterceptor.doIntercept(MockMethodInterceptor.java:49) ~[mockito-core-3.0.0.jar:?]
	at org.mockito.internal.creation.bytebuddy.MockMethodInterceptor$DispatcherDefaultingToRealMethod.interceptSuperCallable(MockMethodInterceptor.java:108) ~[mockito-core-3.0.0.jar:?]
	at org.apache.bookkeeper.client.MetadataUpdateLoopTest$BlockableMockLedgerManager$MockitoMock$157467767.executeCallback(Unknown Source) ~[test-classes/:?]
	at org.apache.bookkeeper.meta.MockLedgerManager.lambda$readLedgerMetadata$9(MockLedgerManager.java:134) ~[test-classes/:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_292]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
