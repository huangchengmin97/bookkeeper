19:53:23.197 [Time-limited test] ERROR org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver 
java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
	at org.apache.bookkeeper.net.ScriptBasedMapping$RawScriptBasedMapping.validateConf(ScriptBasedMapping.java:163) ~[classes/:?]
	at org.apache.bookkeeper.net.AbstractDNSToSwitchMapping.setConf(AbstractDNSToSwitchMapping.java:81) ~[classes/:?]
	at org.apache.bookkeeper.net.ScriptBasedMapping.setConf(ScriptBasedMapping.java:123) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:265) [classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:80) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.initializeEnsemblePlacementPolicy(BookKeeper.java:581) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:505) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeperTestClient.<init>(BookKeeperTestClient.java:51) [test-classes/:?]
	at org.apache.bookkeeper.test.BookKeeperClusterTestCase.startBKCluster(BookKeeperClusterTestCase.java:247) [test-classes/:?]
	at org.apache.bookkeeper.test.BookKeeperClusterTestCase.setUp(BookKeeperClusterTestCase.java:160) [test-classes/:?]
	at org.apache.bookkeeper.test.BookKeeperClusterTestCase.setUp(BookKeeperClusterTestCase.java:145) [test-classes/:?]
	at org.apache.bookkeeper.client.MdcContextTest.setUp(MdcContextTest.java:104) [test-classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_292]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292) [junit-4.12.jar:4.12]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:23.659 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie6674044954328110830test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:24.037 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie8548413282706989536test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:24.330 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie5516702763244313707test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:24.619 [Time-limited test] ERROR org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver 
java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
	at org.apache.bookkeeper.net.ScriptBasedMapping$RawScriptBasedMapping.validateConf(ScriptBasedMapping.java:163) ~[classes/:?]
	at org.apache.bookkeeper.net.AbstractDNSToSwitchMapping.setConf(AbstractDNSToSwitchMapping.java:81) ~[classes/:?]
	at org.apache.bookkeeper.net.ScriptBasedMapping.setConf(ScriptBasedMapping.java:123) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:265) [classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:80) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.initializeEnsemblePlacementPolicy(BookKeeper.java:581) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:505) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:344) [classes/:?]
	at org.apache.bookkeeper.client.MdcContextTest.setUp(MdcContextTest.java:111) [test-classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_292]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292) [junit-4.12.jar:4.12]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:25.404 [bookie-io-26-2] INFO  org.apache.bookkeeper.proto.AuthHandler - Authentication success on server side
19:53:25.407 [bookie-io-17-2] INFO  org.apache.bookkeeper.proto.AuthHandler - Authentication success on server side
19:53:25.410 [bookie-io-8-2] INFO  org.apache.bookkeeper.proto.AuthHandler - Authentication success on server side
19:53:25.410 [bookie-io-8-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channel connected  [id: 0x8bab4b42, L:/127.0.0.1:40583 - R:/127.0.0.1:56744]
19:53:25.408 [bookie-io-17-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channel connected  [id: 0x94cbbeb2, L:/127.0.0.1:39157 - R:/127.0.0.1:33632]
19:53:25.407 [bookie-io-26-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channel connected  [id: 0x0481baa3, L:/127.0.0.1:41457 - R:/127.0.0.1:56656]
19:53:25.399 [bookkeeper-io-37-3] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Successfully connected to bookie: 127.0.0.1:41457 [id: 0x4304a27e, L:/127.0.0.1:56656 - R:127.0.0.1/127.0.0.1:41457]
19:53:25.399 [bookkeeper-io-37-2] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Successfully connected to bookie: 127.0.0.1:39157 [id: 0x53eb4d8e, L:/127.0.0.1:33632 - R:127.0.0.1/127.0.0.1:39157]
19:53:25.397 [bookkeeper-io-37-1] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Successfully connected to bookie: 127.0.0.1:40583 [id: 0x87813b00, L:/127.0.0.1:56744 - R:127.0.0.1/127.0.0.1:40583]
19:53:25.436 [bookkeeper-io-37-3] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - connection [id: 0x4304a27e, L:/127.0.0.1:56656 - R:127.0.0.1/127.0.0.1:41457] authenticated as BookKeeperPrincipal{ANONYMOUS}
19:53:25.437 [bookkeeper-io-37-2] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - connection [id: 0x53eb4d8e, L:/127.0.0.1:33632 - R:127.0.0.1/127.0.0.1:39157] authenticated as BookKeeperPrincipal{ANONYMOUS}
19:53:25.437 [bookkeeper-io-37-1] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - connection [id: 0x87813b00, L:/127.0.0.1:56744 - R:127.0.0.1/127.0.0.1:40583] authenticated as BookKeeperPrincipal{ANONYMOUS}
19:53:25.464 [bookie-io-26-2] INFO  org.apache.bookkeeper.bookie.EntryLogManagerBase - Creating a new entry log file because current active log channel has not initialized yet
19:53:25.464 [bookie-io-8-2] INFO  org.apache.bookkeeper.bookie.EntryLogManagerBase - Creating a new entry log file because current active log channel has not initialized yet
19:53:25.465 [bookie-io-17-2] INFO  org.apache.bookkeeper.bookie.EntryLogManagerBase - Creating a new entry log file because current active log channel has not initialized yet
19:53:25.467 [bookie-io-8-2] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Created new entry log file /tmp/bookie6674044954328110830test/current/0.log for logId 0.
19:53:25.467 [bookie-io-17-2] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Created new entry log file /tmp/bookie8548413282706989536test/current/0.log for logId 0.
19:53:25.467 [bookie-io-26-2] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Created new entry log file /tmp/bookie5516702763244313707test/current/0.log for logId 0.
19:53:25.507 [Time-limited test] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Closing the per channel bookie client for 127.0.0.1:41457
19:53:25.511 [bookkeeper-io-37-3] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Disconnected from bookie channel [id: 0x4304a27e, L:/127.0.0.1:56656 ! R:127.0.0.1/127.0.0.1:41457]
19:53:25.511 [bookie-io-26-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channels disconnected: [id: 0x0481baa3, L:/127.0.0.1:41457 ! R:/127.0.0.1:56656]
19:53:25.511 [Time-limited test] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Closing the per channel bookie client for 127.0.0.1:39157
19:53:25.512 [bookkeeper-io-37-2] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Disconnected from bookie channel [id: 0x53eb4d8e, L:/127.0.0.1:33632 ! R:127.0.0.1/127.0.0.1:39157]
19:53:25.512 [bookie-io-17-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channels disconnected: [id: 0x94cbbeb2, L:/127.0.0.1:39157 ! R:/127.0.0.1:33632]
19:53:25.512 [Time-limited test] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Closing the per channel bookie client for 127.0.0.1:40583
19:53:25.513 [bookkeeper-io-37-1] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Disconnected from bookie channel [id: 0x87813b00, L:/127.0.0.1:56744 ! R:127.0.0.1/127.0.0.1:40583]
19:53:25.514 [bookie-io-8-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channels disconnected: [id: 0x8bab4b42, L:/127.0.0.1:40583 ! R:/127.0.0.1:56744]
19:53:25.523 [Time-limited test-SendThread(localhost:44497)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x1000114404f0005.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x1000114404f0005, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:25.625 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x1000114404f0005 closed
19:53:25.625 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x1000114404f0005
19:53:25.627 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - TearDown
19:53:25.631 [Time-limited test-SendThread(localhost:44497)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x1000114404f0001.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x1000114404f0001, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:25.732 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x1000114404f0001 closed
19:53:25.732 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:25.732 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:25.733 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x1000114404f0001
19:53:25.740 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-40583 with exitCode 0
19:53:25.741 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:25.741 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:25.752 [SyncThread-13-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1635900803722 , logFileOffset - 1024]}.
19:53:25.761 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:25.762 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:25.762 [BookieJournal-40583] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:25.762 [BookieJournal-40583] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:25.762 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:25.763 [Bookie-40583] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:25.763 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:25.763 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:25.763 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:25.763 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:25.763 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:25.764 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:25.765 [pool-12-thread-1] ERROR org.apache.zookeeper.server.NIOServerCnxnFactory - Thread Thread[pool-12-thread-1,5,FailOnTimeoutGroup] died
java.lang.NullPointerException: null
	at org.apache.bookkeeper.bookie.EntryLoggerAllocator.closePreAllocateLog(EntryLoggerAllocator.java:191) ~[classes/:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:25.771 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:25.771 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:25.773 [Time-limited test-SendThread(localhost:44497)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x1000114404f0002.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x1000114404f0002, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:25.874 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x1000114404f0002 closed
19:53:25.874 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x1000114404f0002
19:53:25.875 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:25.875 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:25.877 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-39157 with exitCode 0
19:53:25.877 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:25.877 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:25.888 [SyncThread-22-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1635900804050 , logFileOffset - 1536]}.
19:53:25.897 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:25.897 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:25.898 [BookieJournal-39157] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:25.898 [BookieJournal-39157] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:25.898 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:25.898 [Bookie-39157] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:25.898 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:25.898 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:25.898 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:25.898 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:25.899 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:25.899 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:25.899 [pool-18-thread-1] ERROR org.apache.zookeeper.server.NIOServerCnxnFactory - Thread Thread[pool-18-thread-1,5,FailOnTimeoutGroup] died
java.lang.NullPointerException: null
	at org.apache.bookkeeper.bookie.EntryLoggerAllocator.closePreAllocateLog(EntryLoggerAllocator.java:191) ~[classes/:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:25.902 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:25.902 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:26.007 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x1000114404f0003
19:53:26.008 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x1000114404f0003 closed
19:53:26.008 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:26.009 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:26.011 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-41457 with exitCode 0
19:53:26.011 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:26.011 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:26.022 [SyncThread-31-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1635900804345 , logFileOffset - 1024]}.
19:53:26.031 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:26.031 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:26.031 [BookieJournal-41457] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:26.032 [BookieJournal-41457] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:26.032 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:26.032 [Bookie-41457] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:26.032 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:26.032 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:26.032 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:26.032 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:26.032 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:26.033 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:26.035 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:26.035 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:26.035 [pool-24-thread-1] ERROR org.apache.zookeeper.server.NIOServerCnxnFactory - Thread Thread[pool-24-thread-1,5,FailOnTimeoutGroup] died
java.lang.NullPointerException: null
	at org.apache.bookkeeper.bookie.EntryLoggerAllocator.closePreAllocateLog(EntryLoggerAllocator.java:191) ~[classes/:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:26.040 [Time-limited test-SendThread(localhost:44497)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x1000114404f0004.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x1000114404f0004, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:26.057 [BookieDeathWatcher-39157] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
19:53:26.057 [BookieDeathWatcher-39157] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-39157
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:304) ~[classes/:?]
19:53:26.058 [BookieDeathWatcher-39157] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:26.058 [BookieDeathWatcher-39157] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:26.141 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x1000114404f0004 closed
19:53:26.141 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x1000114404f0004
19:53:26.143 [Time-limited test-SendThread(localhost:44497)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x1000114404f0000.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x1000114404f0000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:26.243 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x1000114404f0000 closed
19:53:26.244 [ConnnectionExpirer] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - ConnnectionExpirerThread interrupted
19:53:26.244 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x1000114404f0000
19:53:26.244 [NIOServerCxnFactory.SelectorThread-0] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - selector thread exitted run method
19:53:26.244 [NIOServerCxnFactory.AcceptThread:/127.0.0.1:0] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - accept thread exitted run method
19:53:26.245 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - shutting down
19:53:26.245 [Time-limited test] INFO  org.apache.zookeeper.server.RequestThrottler - Shutting down
19:53:26.245 [RequestThrottler] INFO  org.apache.zookeeper.server.RequestThrottler - Draining request throttler queue
19:53:26.245 [RequestThrottler] INFO  org.apache.zookeeper.server.RequestThrottler - RequestThrottler shutdown. Dropped 0 requests
19:53:26.245 [Time-limited test] INFO  org.apache.zookeeper.server.SessionTrackerImpl - Shutting down
19:53:26.246 [Time-limited test] INFO  org.apache.zookeeper.server.PrepRequestProcessor - Shutting down
19:53:26.246 [Time-limited test] INFO  org.apache.zookeeper.server.SyncRequestProcessor - Shutting down
19:53:26.246 [ProcessThread(sid:0 cport:44497):] INFO  org.apache.zookeeper.server.PrepRequestProcessor - PrepRequestProcessor exited loop!
19:53:26.246 [SyncThread:0] INFO  org.apache.zookeeper.server.SyncRequestProcessor - SyncRequestProcessor exited!
19:53:26.246 [Time-limited test] INFO  org.apache.zookeeper.server.FinalRequestProcessor - shutdown of request processor complete
19:53:26.248 [Time-limited test] INFO  org.apache.zookeeper.client.FourLetterWordMain - connecting to localhost 44497
19:53:26.260 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Tearing down test testSimpleAdd in 633 ms.
19:53:26.262 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Setting up test class org.apache.bookkeeper.client.MdcContextTest
19:53:26.263 [Time-limited test] INFO  org.apache.zookeeper.server.persistence.FileTxnSnapLog - zookeeper.snapshot.trust.empty : false
19:53:26.263 [Time-limited test] INFO  org.apache.zookeeper.server.watch.WatchManagerFactory - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
19:53:26.263 [Time-limited test] INFO  org.apache.zookeeper.server.watch.WatchManagerFactory - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
19:53:26.263 [Time-limited test] INFO  org.apache.zookeeper.server.ZKDatabase - zookeeper.snapshotSizeFactor = 0.33
19:53:26.264 [Time-limited test] INFO  org.apache.zookeeper.server.ZKDatabase - zookeeper.commitLogCount=500
19:53:26.264 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - minSessionTimeout set to 6000
19:53:26.264 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - maxSessionTimeout set to 60000
19:53:26.264 [Time-limited test] INFO  org.apache.zookeeper.server.ResponseCache - Response cache size is initialized with value 400.
19:53:26.264 [Time-limited test] INFO  org.apache.zookeeper.server.ResponseCache - Response cache size is initialized with value 400.
19:53:26.264 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.slotCapacity = 60
19:53:26.264 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.slotDuration = 15
19:53:26.264 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.maxDepth = 6
19:53:26.264 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.initialDelay = 5
19:53:26.264 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.delay = 5
19:53:26.264 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.enabled = false
19:53:26.264 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - The max bytes for all large requests are set to 104857600
19:53:26.264 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - The large request threshold is set to -1
19:53:26.264 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 clientPortListenBacklog -1 datadir /tmp/zookeeper1638310615355420605test/version-2 snapdir /tmp/zookeeper1638310615355420605test/version-2
19:53:26.264 [Time-limited test] WARN  org.apache.zookeeper.server.ServerCnxnFactory - maxCnxns is not configured, using default value 0.
19:53:26.265 [Time-limited test] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 4 worker threads, and 64 kB direct buffers.
19:53:26.265 [Time-limited test] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - binding to port /127.0.0.1:0
19:53:26.266 [Time-limited test] INFO  org.apache.zookeeper.server.persistence.FileTxnSnapLog - Snapshotting: 0x0 to /tmp/zookeeper1638310615355420605test/version-2/snapshot.0
19:53:26.266 [Time-limited test] INFO  org.apache.zookeeper.server.ZKDatabase - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
19:53:26.267 [Time-limited test] INFO  org.apache.zookeeper.server.persistence.FileTxnSnapLog - Snapshotting: 0x0 to /tmp/zookeeper1638310615355420605test/version-2/snapshot.0
19:53:26.267 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - Snapshot taken in 0 ms
19:53:26.270 [ProcessThread(sid:0 cport:36009):] INFO  org.apache.zookeeper.server.PrepRequestProcessor - PrepRequestProcessor (sid:0) started, reconfigEnabled=false
19:53:26.270 [Time-limited test] INFO  org.apache.zookeeper.client.FourLetterWordMain - connecting to localhost 36009
19:53:26.272 [NIOWorkerThread-1] INFO  org.apache.zookeeper.server.NIOServerCnxn - Processing stat command from /127.0.0.1:36548
19:53:26.272 [NIOWorkerThread-1] INFO  org.apache.zookeeper.server.command.AbstractFourLetterCommand - Stat command output
19:53:26.274 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:36009 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@50c06e5
19:53:26.275 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:26.275 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:26.277 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:36009.
19:53:26.277 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:26.277 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:36550, server: localhost/127.0.0.1:36009
19:53:26.278 [SyncThread:0] INFO  org.apache.zookeeper.server.persistence.FileTxnLog - Creating new log file: log.1
19:53:26.280 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:36009, session id = 0x10001144d620000, negotiated timeout = 10000
19:53:26.280 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:26.290 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:36009/ledgers : zkServers = localhost:36009, ledgersRootPath = /ledgers.
19:53:26.290 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:36009 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@6a336fba
19:53:26.290 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:26.291 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:26.293 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:36009.
19:53:26.293 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:26.293 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:36552, server: localhost/127.0.0.1:36009
19:53:26.295 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:36009, session id = 0x10001144d620001, negotiated timeout = 10000
19:53:26.295 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:26.297 [Time-limited test] ERROR org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver 
java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
	at org.apache.bookkeeper.net.ScriptBasedMapping$RawScriptBasedMapping.validateConf(ScriptBasedMapping.java:163) ~[classes/:?]
	at org.apache.bookkeeper.net.AbstractDNSToSwitchMapping.setConf(AbstractDNSToSwitchMapping.java:81) ~[classes/:?]
	at org.apache.bookkeeper.net.ScriptBasedMapping.setConf(ScriptBasedMapping.java:123) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:265) [classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:80) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.initializeEnsemblePlacementPolicy(BookKeeper.java:581) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:505) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeperTestClient.<init>(BookKeeperTestClient.java:51) [test-classes/:?]
	at org.apache.bookkeeper.test.BookKeeperClusterTestCase.startBKCluster(BookKeeperClusterTestCase.java:247) [test-classes/:?]
	at org.apache.bookkeeper.test.BookKeeperClusterTestCase.setUp(BookKeeperClusterTestCase.java:160) [test-classes/:?]
	at org.apache.bookkeeper.test.BookKeeperClusterTestCase.setUp(BookKeeperClusterTestCase.java:145) [test-classes/:?]
	at org.apache.bookkeeper.client.MdcContextTest.setUp(MdcContextTest.java:104) [test-classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_292]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292) [junit-4.12.jar:4.12]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:26.298 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
19:53:26.298 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Not weighted
19:53:26.298 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeper - Weighted ledger placement is not enabled
19:53:26.307 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Starting new bookie on port: 0
19:53:26.308 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - {
  "diskUsageThreshold" : "0.999",
  "gcWaitTime" : "1000",
  "numAddWorkerThreads" : "0",
  "entryLogFilePreallocationEnabled" : "false",
  "listeningInterface" : "lo",
  "diskUsageWarnThreshold" : "0.99",
  "allowEphemeralPorts" : "true",
  "numReadWorkerThreads" : "0",
  "bookiePort" : "0",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "journalFlushWhenQueueEmpty" : "true",
  "journalFormatVersionToWrite" : "5",
  "readOnlyModeEnabled" : "true",
  "allowLoopback" : "true",
  "preserveMdcForTaskExecution" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "ledgerDirectories" : "/tmp/bookie7661994681744503895test",
  "minUsableSizeForEntryLogCreation" : "9223372036854775807",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "tlsEnabledProtocols" : "[TLSv1.2, TLSv1.1]",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "enableTaskExecutionStats" : "true",
  "metadataServiceUri" : "zk://localhost:36009/ledgers",
  "journalDirectories" : "/tmp/bookie7661994681744503895test"
}
19:53:26.309 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Binding bookie-rpc endpoint to /127.0.0.1:0
19:53:26.313 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:36009/ledgers : zkServers = localhost:36009, ledgersRootPath = /ledgers.
19:53:26.314 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:36009 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@49754b72
19:53:26.314 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:26.315 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:26.319 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:36009.
19:53:26.320 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:26.320 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:36554, server: localhost/127.0.0.1:36009
19:53:26.324 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:36009, session id = 0x10001144d620002, negotiated timeout = 10000
19:53:26.324 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:26.327 [Time-limited test] INFO  org.apache.bookkeeper.discover.ZKRegistrationManager - INSTANCEID not exists in zookeeper. Not considering it for data verification
19:53:26.334 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Stamping new cookies on all dirs [/tmp/bookie7661994681744503895test/current] [/tmp/bookie7661994681744503895test/current]
19:53:26.339 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
19:53:26.340 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie7661994681744503895test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:26.340 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
19:53:26.341 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexPersistenceMgr - openFileLimit = 20000
19:53:26.341 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexInMemPageMgr - maxDirectMemory = 1908932608, pageSize = 8192, pageLimit = 77674
19:53:26.341 [Time-limited test] INFO  org.apache.bookkeeper.bookie.ScanAndCompareGarbageCollector - Over Replicated Ledger Deletion : enabled=true, interval=86400000
19:53:26.342 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
19:53:26.342 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
19:53:26.351 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeperTestClient - Wait for 127.0.0.1:41801 to become writable
19:53:26.353 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished replaying journal in 1 ms.
19:53:26.354 [SyncThread-52-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:26.355 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished reading journal, starting bookie
19:53:26.357 [BookieJournal-41801] INFO  org.apache.bookkeeper.bookie.Journal - Starting journal on /tmp/bookie7661994681744503895test/current
19:53:26.357 [BookieDeathWatcher-41457] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
19:53:26.357 [BookieDeathWatcher-41457] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-41457
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:304) ~[classes/:?]
19:53:26.357 [BookieDeathWatcher-41457] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:26.357 [BookieDeathWatcher-41457] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:26.357 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite Thread started
19:53:26.359 [BookieJournal-41801] INFO  org.apache.bookkeeper.bookie.JournalChannel - Opening journal /tmp/bookie7661994681744503895test/current/17ce34954d6.txn
19:53:26.369 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:41801 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:41801, port=41801, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:26.369 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:41801
19:53:26.521 [SessionTracker] INFO  org.apache.zookeeper.server.SessionTrackerImpl - SessionTrackerImpl exited loop!
19:53:26.618 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - New bookie '127.0.0.1:41801' has been created.
19:53:26.619 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Starting new bookie on port: 0
19:53:26.619 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - {
  "gcWaitTime" : "1000",
  "minUsableSizeForEntryLogCreation" : "9223372036854775807",
  "listeningInterface" : "lo",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "enableTaskExecutionStats" : "true",
  "preserveMdcForTaskExecution" : "true",
  "diskUsageThreshold" : "0.999",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "numAddWorkerThreads" : "0",
  "tlsEnabledProtocols" : "[TLSv1.2, TLSv1.1]",
  "bookiePort" : "0",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "readOnlyModeEnabled" : "true",
  "journalFormatVersionToWrite" : "5",
  "entryLogFilePreallocationEnabled" : "false",
  "allowLoopback" : "true",
  "metadataServiceUri" : "zk://localhost:36009/ledgers",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore",
  "numReadWorkerThreads" : "0",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "allowEphemeralPorts" : "true",
  "journalFlushWhenQueueEmpty" : "true",
  "ledgerDirectories" : "/tmp/bookie2613245417929687622test",
  "journalDirectories" : "/tmp/bookie2613245417929687622test",
  "diskUsageWarnThreshold" : "0.99"
}
19:53:26.625 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Binding bookie-rpc endpoint to /127.0.0.1:0
19:53:26.629 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:36009/ledgers : zkServers = localhost:36009, ledgersRootPath = /ledgers.
19:53:26.629 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:36009 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@3effd016
19:53:26.629 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:26.629 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:26.630 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:36009.
19:53:26.630 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:26.631 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:36556, server: localhost/127.0.0.1:36009
19:53:26.633 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:36009, session id = 0x10001144d620003, negotiated timeout = 10000
19:53:26.633 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:26.635 [Time-limited test] INFO  org.apache.bookkeeper.discover.ZKRegistrationManager - INSTANCEID not exists in zookeeper. Not considering it for data verification
19:53:26.641 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Stamping new cookies on all dirs [/tmp/bookie2613245417929687622test/current] [/tmp/bookie2613245417929687622test/current]
19:53:26.647 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
19:53:26.648 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie2613245417929687622test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:26.648 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
19:53:26.648 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexPersistenceMgr - openFileLimit = 20000
19:53:26.649 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexInMemPageMgr - maxDirectMemory = 1908932608, pageSize = 8192, pageLimit = 77674
19:53:26.649 [Time-limited test] INFO  org.apache.bookkeeper.bookie.ScanAndCompareGarbageCollector - Over Replicated Ledger Deletion : enabled=true, interval=86400000
19:53:26.649 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
19:53:26.649 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
19:53:26.656 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeperTestClient - Wait for 127.0.0.1:39381 to become writable
19:53:26.656 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished replaying journal in 0 ms.
19:53:26.657 [SyncThread-61-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:26.658 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished reading journal, starting bookie
19:53:26.659 [BookieJournal-39381] INFO  org.apache.bookkeeper.bookie.Journal - Starting journal on /tmp/bookie2613245417929687622test/current
19:53:26.659 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite Thread started
19:53:26.661 [BookieJournal-39381] INFO  org.apache.bookkeeper.bookie.JournalChannel - Opening journal /tmp/bookie2613245417929687622test/current/17ce3495604.txn
19:53:26.673 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:39381 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:39381, port=39381, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:26.673 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:39381
19:53:26.765 [BookieDeathWatcher-40583] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
19:53:26.765 [BookieDeathWatcher-40583] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-40583
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:304) ~[classes/:?]
19:53:26.765 [BookieDeathWatcher-40583] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:26.765 [BookieDeathWatcher-40583] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:26.918 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - New bookie '127.0.0.1:39381' has been created.
19:53:26.920 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Starting new bookie on port: 0
19:53:26.920 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - {
  "ledgerDirectories" : "/tmp/bookie715668520487199982test",
  "minUsableSizeForEntryLogCreation" : "9223372036854775807",
  "bookiePort" : "0",
  "diskUsageThreshold" : "0.999",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "journalFlushWhenQueueEmpty" : "true",
  "tlsEnabledProtocols" : "[TLSv1.2, TLSv1.1]",
  "gcWaitTime" : "1000",
  "enableTaskExecutionStats" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore",
  "readOnlyModeEnabled" : "true",
  "allowEphemeralPorts" : "true",
  "allowLoopback" : "true",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "numReadWorkerThreads" : "0",
  "entryLogFilePreallocationEnabled" : "false",
  "preserveMdcForTaskExecution" : "true",
  "journalFormatVersionToWrite" : "5",
  "metadataServiceUri" : "zk://localhost:36009/ledgers",
  "diskUsageWarnThreshold" : "0.99",
  "journalDirectories" : "/tmp/bookie715668520487199982test",
  "listeningInterface" : "lo",
  "numAddWorkerThreads" : "0"
}
19:53:26.922 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Binding bookie-rpc endpoint to /127.0.0.1:0
19:53:26.926 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:36009/ledgers : zkServers = localhost:36009, ledgersRootPath = /ledgers.
19:53:26.926 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:36009 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@19e31f58
19:53:26.927 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:26.927 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:26.927 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:36009.
19:53:26.927 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:26.928 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:36558, server: localhost/127.0.0.1:36009
19:53:26.933 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:36009, session id = 0x10001144d620004, negotiated timeout = 10000
19:53:26.933 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:26.936 [Time-limited test] INFO  org.apache.bookkeeper.discover.ZKRegistrationManager - INSTANCEID not exists in zookeeper. Not considering it for data verification
19:53:26.944 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Stamping new cookies on all dirs [/tmp/bookie715668520487199982test/current] [/tmp/bookie715668520487199982test/current]
19:53:26.951 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
19:53:26.952 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie715668520487199982test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:26.952 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
19:53:26.952 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexPersistenceMgr - openFileLimit = 20000
19:53:26.952 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexInMemPageMgr - maxDirectMemory = 1908932608, pageSize = 8192, pageLimit = 77674
19:53:26.953 [Time-limited test] INFO  org.apache.bookkeeper.bookie.ScanAndCompareGarbageCollector - Over Replicated Ledger Deletion : enabled=true, interval=86400000
19:53:26.953 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
19:53:26.953 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
19:53:26.962 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeperTestClient - Wait for 127.0.0.1:34759 to become writable
19:53:26.963 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished replaying journal in 0 ms.
19:53:26.964 [SyncThread-70-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:26.965 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished reading journal, starting bookie
19:53:26.966 [BookieJournal-34759] INFO  org.apache.bookkeeper.bookie.Journal - Starting journal on /tmp/bookie715668520487199982test/current
19:53:26.969 [BookieJournal-34759] INFO  org.apache.bookkeeper.bookie.JournalChannel - Opening journal /tmp/bookie715668520487199982test/current/17ce349573a.txn
19:53:26.970 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite Thread started
19:53:26.977 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:34759 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:34759, port=34759, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:26.978 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:34759
19:53:27.231 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - New bookie '127.0.0.1:34759' has been created.
19:53:27.231 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Setup testcase testAddWithEnsembleChange @ metadata service zk://localhost:36009/ledgers in 968 ms.
19:53:27.238 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:36009/ledgers : zkServers = localhost:36009, ledgersRootPath = /ledgers.
19:53:27.238 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:36009 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@4934c8ee
19:53:27.239 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:27.239 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:27.241 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:36009.
19:53:27.241 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:27.241 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:36560, server: localhost/127.0.0.1:36009
19:53:27.245 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:36009, session id = 0x10001144d620005, negotiated timeout = 10000
19:53:27.245 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:27.247 [Time-limited test] ERROR org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver 
java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
	at org.apache.bookkeeper.net.ScriptBasedMapping$RawScriptBasedMapping.validateConf(ScriptBasedMapping.java:163) ~[classes/:?]
	at org.apache.bookkeeper.net.AbstractDNSToSwitchMapping.setConf(AbstractDNSToSwitchMapping.java:81) ~[classes/:?]
	at org.apache.bookkeeper.net.ScriptBasedMapping.setConf(ScriptBasedMapping.java:123) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:265) [classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:80) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.initializeEnsemblePlacementPolicy(BookKeeper.java:581) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:505) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:344) [classes/:?]
	at org.apache.bookkeeper.client.MdcContextTest.setUp(MdcContextTest.java:111) [test-classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_292]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292) [junit-4.12.jar:4.12]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:27.248 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
19:53:27.248 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Not weighted
19:53:27.248 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeper - Weighted ledger placement is not enabled
19:53:27.253 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:41801 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:41801, port=41801, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:27.253 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:39381 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:39381, port=39381, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:27.254 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:34759 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:34759, port=34759, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:27.254 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:41801
19:53:27.254 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:34759
19:53:27.254 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:39381
19:53:27.255 [Time-limited test] INFO  org.apache.bookkeeper.client.MdcContextTest - creating ledger
19:53:27.255 [Time-limited test] WARN  org.apache.bookkeeper.client.BookieWatcherImpl - New ensemble: [127.0.0.1:34759, 127.0.0.1:41801, 127.0.0.1:39381] is not adhering to Placement Policy. quarantinedBookies: []
19:53:27.267 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.client.LedgerCreateOp - Ensemble: [127.0.0.1:34759, 127.0.0.1:41801, 127.0.0.1:39381] for ledger: 0
19:53:27.281 [bookkeeper-io-76-1] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Successfully connected to bookie: 127.0.0.1:34759 [id: 0xbd7889ae, L:/127.0.0.1:35184 - R:127.0.0.1/127.0.0.1:34759]
19:53:27.282 [bookkeeper-io-76-1] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - connection [id: 0xbd7889ae, L:/127.0.0.1:35184 - R:127.0.0.1/127.0.0.1:34759] authenticated as BookKeeperPrincipal{ANONYMOUS}
19:53:27.289 [bookkeeper-io-76-2] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Successfully connected to bookie: 127.0.0.1:41801 [id: 0x5ad7f054, L:/127.0.0.1:39268 - R:127.0.0.1/127.0.0.1:41801]
19:53:27.289 [bookie-io-65-2] INFO  org.apache.bookkeeper.proto.AuthHandler - Authentication success on server side
19:53:27.290 [bookie-io-47-2] INFO  org.apache.bookkeeper.proto.AuthHandler - Authentication success on server side
19:53:27.290 [bookkeeper-io-76-2] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - connection [id: 0x5ad7f054, L:/127.0.0.1:39268 - R:127.0.0.1/127.0.0.1:41801] authenticated as BookKeeperPrincipal{ANONYMOUS}
19:53:27.291 [bookie-io-47-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channel connected  [id: 0xad393ba6, L:/127.0.0.1:41801 - R:/127.0.0.1:39268]
19:53:27.295 [bookkeeper-io-76-3] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Successfully connected to bookie: 127.0.0.1:39381 [id: 0x092a7312, L:/127.0.0.1:46264 - R:127.0.0.1/127.0.0.1:39381]
19:53:27.298 [bookkeeper-io-76-3] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - connection [id: 0x092a7312, L:/127.0.0.1:46264 - R:127.0.0.1/127.0.0.1:39381] authenticated as BookKeeperPrincipal{ANONYMOUS}
19:53:27.299 [bookie-io-47-2] INFO  org.apache.bookkeeper.bookie.EntryLogManagerBase - Creating a new entry log file because current active log channel has not initialized yet
19:53:27.299 [bookie-io-56-2] INFO  org.apache.bookkeeper.proto.AuthHandler - Authentication success on server side
19:53:27.300 [bookie-io-47-2] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Created new entry log file /tmp/bookie7661994681744503895test/current/0.log for logId 0.
19:53:27.301 [bookie-io-56-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channel connected  [id: 0x2aed8c00, L:/127.0.0.1:39381 - R:/127.0.0.1:46264]
19:53:27.302 [bookie-io-56-2] INFO  org.apache.bookkeeper.bookie.EntryLogManagerBase - Creating a new entry log file because current active log channel has not initialized yet
19:53:27.302 [bookie-io-65-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channel connected  [id: 0xeb236a9e, L:/127.0.0.1:34759 - R:/127.0.0.1:35184]
19:53:27.304 [bookie-io-56-2] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Created new entry log file /tmp/bookie2613245417929687622test/current/0.log for logId 0.
19:53:27.309 [bookie-io-65-2] INFO  org.apache.bookkeeper.bookie.EntryLogManagerBase - Creating a new entry log file because current active log channel has not initialized yet
19:53:27.310 [bookie-io-65-2] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Created new entry log file /tmp/bookie715668520487199982test/current/0.log for logId 0.
19:53:27.321 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Starting new bookie on port: 0
19:53:27.322 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - {
  "allowLoopback" : "true",
  "ledgerDirectories" : "/tmp/bookie5760940745727821643test",
  "tlsEnabledProtocols" : "[TLSv1.2, TLSv1.1]",
  "minUsableSizeForEntryLogCreation" : "9223372036854775807",
  "numReadWorkerThreads" : "0",
  "journalDirectories" : "/tmp/bookie5760940745727821643test",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "preserveMdcForTaskExecution" : "true",
  "enableTaskExecutionStats" : "true",
  "diskUsageThreshold" : "0.999",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "entryLogFilePreallocationEnabled" : "false",
  "gcWaitTime" : "1000",
  "journalFlushWhenQueueEmpty" : "true",
  "diskUsageWarnThreshold" : "0.99",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "listeningInterface" : "lo",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "journalFormatVersionToWrite" : "5",
  "numAddWorkerThreads" : "0",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore",
  "metadataServiceUri" : "zk://localhost:36009/ledgers",
  "readOnlyModeEnabled" : "true"
}
19:53:27.323 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Binding bookie-rpc endpoint to /127.0.0.1:0
19:53:27.325 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:36009/ledgers : zkServers = localhost:36009, ledgersRootPath = /ledgers.
19:53:27.326 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:36009 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@25866d73
19:53:27.326 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:27.326 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:27.330 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:36009.
19:53:27.331 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:27.331 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:36568, server: localhost/127.0.0.1:36009
19:53:27.334 [Time-limited test-SendThread(localhost:36009)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:36009, session id = 0x10001144d620006, negotiated timeout = 10000
19:53:27.335 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:27.337 [Time-limited test] INFO  org.apache.bookkeeper.discover.ZKRegistrationManager - INSTANCEID not exists in zookeeper. Not considering it for data verification
19:53:27.342 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Stamping new cookies on all dirs [/tmp/bookie5760940745727821643test/current] [/tmp/bookie5760940745727821643test/current]
19:53:27.349 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
19:53:27.350 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie5760940745727821643test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:27.350 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
19:53:27.350 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexPersistenceMgr - openFileLimit = 20000
19:53:27.351 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexInMemPageMgr - maxDirectMemory = 1908932608, pageSize = 8192, pageLimit = 77674
19:53:27.351 [Time-limited test] INFO  org.apache.bookkeeper.bookie.ScanAndCompareGarbageCollector - Over Replicated Ledger Deletion : enabled=true, interval=86400000
19:53:27.352 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
19:53:27.352 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
19:53:27.365 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeperTestClient - Wait for 127.0.0.1:45447 to become writable
19:53:27.366 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished replaying journal in 0 ms.
19:53:27.367 [SyncThread-85-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:27.369 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished reading journal, starting bookie
19:53:27.370 [BookieJournal-45447] INFO  org.apache.bookkeeper.bookie.Journal - Starting journal on /tmp/bookie5760940745727821643test/current
19:53:27.373 [BookieJournal-45447] INFO  org.apache.bookkeeper.bookie.JournalChannel - Opening journal /tmp/bookie5760940745727821643test/current/17ce34958cb.txn
19:53:27.373 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite Thread started
19:53:27.380 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:45447 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:45447, port=45447, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:27.380 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:45447 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:45447, port=45447, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:27.382 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:45447
19:53:27.382 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:45447
19:53:27.630 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - New bookie '127.0.0.1:45447' has been created.
19:53:27.631 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:27.631 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:27.632 [bookkeeper-io-76-2] WARN  org.apache.bookkeeper.proto.PerChannelBookieClient - Exception caught on:[id: 0x5ad7f054, L:/127.0.0.1:39268 - R:127.0.0.1/127.0.0.1:41801] cause: readAddress(..) failed: Connection reset by peer
19:53:27.633 [bookie-io-47-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channels disconnected: [id: 0xad393ba6, L:/127.0.0.1:41801 ! R:/127.0.0.1:39268]
19:53:27.634 [bookkeeper-io-76-2] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Disconnected from bookie channel [id: 0x5ad7f054, L:/127.0.0.1:39268 ! R:127.0.0.1/127.0.0.1:41801]
19:53:27.640 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-41801 with exitCode 0
19:53:27.640 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:27.640 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:27.652 [SyncThread-52-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1635900806358 , logFileOffset - 1024]}.
19:53:27.661 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:27.661 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:27.662 [BookieJournal-41801] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:27.663 [BookieJournal-41801] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:27.663 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:27.663 [Bookie-41801] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:27.664 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:27.664 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:27.664 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:27.664 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:27.665 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:27.666 [pool-39-thread-1] ERROR org.apache.zookeeper.server.NIOServerCnxnFactory - Thread Thread[pool-39-thread-1,5,FailOnTimeoutGroup] died
java.lang.NullPointerException: null
	at org.apache.bookkeeper.bookie.EntryLoggerAllocator.closePreAllocateLog(EntryLoggerAllocator.java:191) ~[classes/:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:27.668 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:27.671 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:27.671 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:27.675 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Invalidate cache for 127.0.0.1:41801
19:53:27.675 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Invalidate cache for 127.0.0.1:41801
19:53:27.677 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Removing a node: /default-rack/127.0.0.1:41801
19:53:27.677 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Removing a node: /default-rack/127.0.0.1:41801
19:53:27.774 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x10001144d620002 closed
19:53:27.775 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x10001144d620002
19:53:27.776 [BookKeeperClientWorker-OrderedExecutor-0-0] INFO  org.apache.bookkeeper.client.DefaultBookieAddressResolver - Cannot resolve 127.0.0.1:41801, bookie is unknown org.apache.bookkeeper.client.BKException$BKBookieHandleNotAvailableException: Bookie handle is not available
19:53:27.777 [BookKeeperClientWorker-OrderedExecutor-0-0] ERROR org.apache.bookkeeper.proto.PerChannelBookieClient - Cannot connect to 127.0.0.1:41801 as endpoint resolution failed (probably bookie is down) err org.apache.bookkeeper.proto.BookieAddressResolver$BookieIdNotResolvedException: Cannot resolve bookieId 127.0.0.1:41801, bookie does not exist or it is not running
19:53:27.778 [BookKeeperClientWorker-OrderedExecutor-0-0] ERROR org.apache.bookkeeper.proto.PerChannelBookieClient - Could not connect to bookie: null/127.0.0.1:41801, current state CONNECTING : 
org.apache.bookkeeper.proto.BookieAddressResolver$BookieIdNotResolvedException: Cannot resolve bookieId 127.0.0.1:41801, bookie does not exist or it is not running
	at org.apache.bookkeeper.client.DefaultBookieAddressResolver.resolve(DefaultBookieAddressResolver.java:63) ~[classes/:?]
	at org.apache.bookkeeper.proto.PerChannelBookieClient.connect(PerChannelBookieClient.java:533) [classes/:?]
	at org.apache.bookkeeper.proto.PerChannelBookieClient.connectIfNeededAndDoOp(PerChannelBookieClient.java:665) [classes/:?]
	at org.apache.bookkeeper.proto.DefaultPerChannelBookieClientPool.obtain(DefaultPerChannelBookieClientPool.java:121) [classes/:?]
	at org.apache.bookkeeper.proto.DefaultPerChannelBookieClientPool.obtain(DefaultPerChannelBookieClientPool.java:116) [classes/:?]
	at org.apache.bookkeeper.proto.BookieClientImpl.addEntry(BookieClientImpl.java:329) [classes/:?]
	at org.apache.bookkeeper.client.PendingAddOp.sendWriteRequest(PendingAddOp.java:152) [classes/:?]
	at org.apache.bookkeeper.client.PendingAddOp.safeRun(PendingAddOp.java:278) [classes/:?]
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36) [classes/:?]
	at org.apache.bookkeeper.common.util.OrderedExecutor$ContextPreservingRunnable.run(OrderedExecutor.java:260) [classes/:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_292]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
Caused by: org.apache.bookkeeper.client.BKException$BKBookieHandleNotAvailableException: Bookie handle is not available
	at org.apache.bookkeeper.discover.ZKRegistrationClient.getBookieServiceInfo(ZKRegistrationClient.java:248) ~[classes/:?]
	at org.apache.bookkeeper.client.DefaultBookieAddressResolver.resolve(DefaultBookieAddressResolver.java:43) ~[classes/:?]
	... 13 more
19:53:27.782 [BookKeeperClientWorker-OrderedExecutor-0-0] WARN  org.apache.bookkeeper.client.PendingAddOp - Failed to write entry (0, 1): Bookie handle is not available
19:53:27.789 [BookKeeperClientWorker-OrderedExecutor-0-0] INFO  org.apache.bookkeeper.client.DefaultBookieAddressResolver - Cannot resolve 127.0.0.1:41801, bookie is unknown org.apache.bookkeeper.client.BKException$BKBookieHandleNotAvailableException: Bookie handle is not available
19:53:27.789 [BookKeeperClientWorker-OrderedExecutor-0-0] ERROR org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy - Cannot resolve bookieId 127.0.0.1:41801 to a network address, resolving as /default-region/default-rack
org.apache.bookkeeper.proto.BookieAddressResolver$BookieIdNotResolvedException: Cannot resolve bookieId 127.0.0.1:41801, bookie does not exist or it is not running
	at org.apache.bookkeeper.client.DefaultBookieAddressResolver.resolve(DefaultBookieAddressResolver.java:63) ~[classes/:?]
	at org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy.resolveNetworkLocation(TopologyAwareEnsemblePlacementPolicy.java:794) ~[classes/:?]
	at org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy.createBookieNode(TopologyAwareEnsemblePlacementPolicy.java:784) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:458) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:120) ~[classes/:?]
	at org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:317) ~[classes/:?]
	at org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71) ~[classes/:?]
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$2(LedgerHandle.java:1935) ~[classes/:?]
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:134) [classes/:?]
	at org.apache.bookkeeper.client.MetadataUpdateLoop.run(MetadataUpdateLoop.java:123) [classes/:?]
	at org.apache.bookkeeper.client.LedgerHandle.ensembleChangeLoop(LedgerHandle.java:1954) [classes/:?]
	at org.apache.bookkeeper.client.LedgerHandle.handleBookieFailure(LedgerHandle.java:1903) [classes/:?]
	at org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:378) [classes/:?]
	at org.apache.bookkeeper.proto.BookieClientImpl$1.safeRun(BookieClientImpl.java:295) [classes/:?]
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36) [classes/:?]
	at org.apache.bookkeeper.common.util.OrderedExecutor$ContextPreservingRunnable.run(OrderedExecutor.java:260) [classes/:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_292]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
Caused by: org.apache.bookkeeper.client.BKException$BKBookieHandleNotAvailableException: Bookie handle is not available
	at org.apache.bookkeeper.discover.ZKRegistrationClient.getBookieServiceInfo(ZKRegistrationClient.java:248) ~[classes/:?]
	at org.apache.bookkeeper.client.DefaultBookieAddressResolver.resolve(DefaultBookieAddressResolver.java:43) ~[classes/:?]
	... 19 more
19:53:27.789 [BookKeeperClientWorker-OrderedExecutor-0-0] INFO  org.apache.bookkeeper.client.DefaultBookieAddressResolver - Cannot resolve 127.0.0.1:41801, bookie is unknown org.apache.bookkeeper.client.BKException$BKBookieHandleNotAvailableException: Bookie handle is not available
19:53:27.790 [BookKeeperClientWorker-OrderedExecutor-0-0] ERROR org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy - Cannot resolve bookieId 127.0.0.1:41801 to a network address, resolving as /default-region/default-rack
org.apache.bookkeeper.proto.BookieAddressResolver$BookieIdNotResolvedException: Cannot resolve bookieId 127.0.0.1:41801, bookie does not exist or it is not running
	at org.apache.bookkeeper.client.DefaultBookieAddressResolver.resolve(DefaultBookieAddressResolver.java:63) ~[classes/:?]
	at org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy.resolveNetworkLocation(TopologyAwareEnsemblePlacementPolicy.java:794) ~[classes/:?]
	at org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy.createBookieNode(TopologyAwareEnsemblePlacementPolicy.java:784) ~[classes/:?]
	at org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy.convertBookiesToNodes(TopologyAwareEnsemblePlacementPolicy.java:807) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:461) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:120) ~[classes/:?]
	at org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:317) ~[classes/:?]
	at org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71) ~[classes/:?]
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$2(LedgerHandle.java:1935) ~[classes/:?]
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:134) [classes/:?]
	at org.apache.bookkeeper.client.MetadataUpdateLoop.run(MetadataUpdateLoop.java:123) [classes/:?]
	at org.apache.bookkeeper.client.LedgerHandle.ensembleChangeLoop(LedgerHandle.java:1954) [classes/:?]
	at org.apache.bookkeeper.client.LedgerHandle.handleBookieFailure(LedgerHandle.java:1903) [classes/:?]
	at org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:378) [classes/:?]
	at org.apache.bookkeeper.proto.BookieClientImpl$1.safeRun(BookieClientImpl.java:295) [classes/:?]
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36) [classes/:?]
	at org.apache.bookkeeper.common.util.OrderedExecutor$ContextPreservingRunnable.run(OrderedExecutor.java:260) [classes/:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_292]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
Caused by: org.apache.bookkeeper.client.BKException$BKBookieHandleNotAvailableException: Bookie handle is not available
	at org.apache.bookkeeper.discover.ZKRegistrationClient.getBookieServiceInfo(ZKRegistrationClient.java:248) ~[classes/:?]
	at org.apache.bookkeeper.client.DefaultBookieAddressResolver.resolve(DefaultBookieAddressResolver.java:43) ~[classes/:?]
	... 20 more
19:53:27.790 [BookKeeperClientWorker-OrderedExecutor-0-0] INFO  org.apache.bookkeeper.client.DefaultBookieAddressResolver - Cannot resolve 127.0.0.1:41801, bookie is unknown org.apache.bookkeeper.client.BKException$BKBookieHandleNotAvailableException: Bookie handle is not available
19:53:27.790 [BookKeeperClientWorker-OrderedExecutor-0-0] ERROR org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy - Cannot resolve bookieId 127.0.0.1:41801 to a network address, resolving as /default-region/default-rack
org.apache.bookkeeper.proto.BookieAddressResolver$BookieIdNotResolvedException: Cannot resolve bookieId 127.0.0.1:41801, bookie does not exist or it is not running
	at org.apache.bookkeeper.client.DefaultBookieAddressResolver.resolve(DefaultBookieAddressResolver.java:63) ~[classes/:?]
	at org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy.resolveNetworkLocation(TopologyAwareEnsemblePlacementPolicy.java:794) ~[classes/:?]
	at org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy.createBookieNode(TopologyAwareEnsemblePlacementPolicy.java:784) ~[classes/:?]
	at org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy.convertBookiesToNodes(TopologyAwareEnsemblePlacementPolicy.java:807) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:462) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:120) ~[classes/:?]
	at org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:317) ~[classes/:?]
	at org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71) ~[classes/:?]
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$2(LedgerHandle.java:1935) ~[classes/:?]
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:134) [classes/:?]
	at org.apache.bookkeeper.client.MetadataUpdateLoop.run(MetadataUpdateLoop.java:123) [classes/:?]
	at org.apache.bookkeeper.client.LedgerHandle.ensembleChangeLoop(LedgerHandle.java:1954) [classes/:?]
	at org.apache.bookkeeper.client.LedgerHandle.handleBookieFailure(LedgerHandle.java:1903) [classes/:?]
	at org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:378) [classes/:?]
	at org.apache.bookkeeper.proto.BookieClientImpl$1.safeRun(BookieClientImpl.java:295) [classes/:?]
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36) [classes/:?]
	at org.apache.bookkeeper.common.util.OrderedExecutor$ContextPreservingRunnable.run(OrderedExecutor.java:260) [classes/:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_292]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
Caused by: org.apache.bookkeeper.client.BKException$BKBookieHandleNotAvailableException: Bookie handle is not available
	at org.apache.bookkeeper.discover.ZKRegistrationClient.getBookieServiceInfo(ZKRegistrationClient.java:248) ~[classes/:?]
	at org.apache.bookkeeper.client.DefaultBookieAddressResolver.resolve(DefaultBookieAddressResolver.java:43) ~[classes/:?]
	... 20 more
19:53:27.792 [BookKeeperClientWorker-OrderedExecutor-0-0] WARN  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to find 1 bookies : excludeBookies [<Bookie:127.0.0.1:34759>, <Bookie:127.0.0.1:45447>, <Bookie:127.0.0.1:41801>, <Bookie:127.0.0.1:39381>], allBookies [<Bookie:127.0.0.1:39381>, <Bookie:127.0.0.1:34759>, <Bookie:127.0.0.1:45447>].
19:53:27.793 [BookKeeperClientWorker-OrderedExecutor-0-0] WARN  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to choose a bookie: excluded [<Bookie:127.0.0.1:41801>, <Bookie:127.0.0.1:39381>, <Bookie:127.0.0.1:34759>], fallback to choose bookie randomly from the cluster.
19:53:27.793 [BookKeeperClientWorker-OrderedExecutor-0-0] WARN  org.apache.bookkeeper.client.BookieWatcherImpl - replaceBookie for bookie: 127.0.0.1:41801 in ensemble: [127.0.0.1:34759, 127.0.0.1:41801, 127.0.0.1:39381] is not adhering to placement policy and chose 127.0.0.1:45447. excludedBookies [127.0.0.1:41801] and quarantinedBookies []
19:53:27.800 [BookKeeperClientWorker-OrderedExecutor-0-0] INFO  org.apache.bookkeeper.client.LedgerHandle - New Ensemble: [127.0.0.1:34759, 127.0.0.1:45447, 127.0.0.1:39381] for ledger: 0
19:53:27.803 [bookkeeper-io-76-4] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Successfully connected to bookie: 127.0.0.1:45447 [id: 0xb0108081, L:/127.0.0.1:45218 - R:127.0.0.1/127.0.0.1:45447]
19:53:27.804 [bookkeeper-io-76-4] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - connection [id: 0xb0108081, L:/127.0.0.1:45218 - R:127.0.0.1/127.0.0.1:45447] authenticated as BookKeeperPrincipal{ANONYMOUS}
19:53:27.806 [bookie-io-80-2] INFO  org.apache.bookkeeper.proto.AuthHandler - Authentication success on server side
19:53:27.806 [bookie-io-80-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channel connected  [id: 0x71e0ad71, L:/127.0.0.1:45447 - R:/127.0.0.1:45218]
19:53:27.807 [bookie-io-80-2] INFO  org.apache.bookkeeper.bookie.EntryLogManagerBase - Creating a new entry log file because current active log channel has not initialized yet
19:53:27.807 [bookie-io-80-2] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Created new entry log file /tmp/bookie5760940745727821643test/current/0.log for logId 0.
19:53:27.820 [Time-limited test] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Closing the per channel bookie client for 127.0.0.1:45447
19:53:27.820 [bookkeeper-io-76-4] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Disconnected from bookie channel [id: 0xb0108081, L:/127.0.0.1:45218 ! R:127.0.0.1/127.0.0.1:45447]
19:53:27.821 [Time-limited test] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Closing the per channel bookie client for 127.0.0.1:34759
19:53:27.821 [bookie-io-80-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channels disconnected: [id: 0x71e0ad71, L:/127.0.0.1:45447 ! R:/127.0.0.1:45218]
19:53:27.821 [bookkeeper-io-76-1] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Disconnected from bookie channel [id: 0xbd7889ae, L:/127.0.0.1:35184 ! R:127.0.0.1/127.0.0.1:34759]
19:53:27.821 [bookie-io-65-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channels disconnected: [id: 0xeb236a9e, L:/127.0.0.1:34759 ! R:/127.0.0.1:35184]
19:53:27.821 [Time-limited test] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Closing the per channel bookie client for 127.0.0.1:41801
19:53:27.823 [Time-limited test] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Closing the per channel bookie client for 127.0.0.1:39381
19:53:27.823 [bookkeeper-io-76-3] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Disconnected from bookie channel [id: 0x092a7312, L:/127.0.0.1:46264 ! R:127.0.0.1/127.0.0.1:39381]
19:53:27.824 [bookie-io-56-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channels disconnected: [id: 0x2aed8c00, L:/127.0.0.1:39381 ! R:/127.0.0.1:46264]
19:53:27.931 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x10001144d620005
19:53:27.931 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x10001144d620005 closed
19:53:27.932 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - TearDown
19:53:28.036 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x10001144d620001 closed
19:53:28.036 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:28.036 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:28.036 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x10001144d620001
19:53:28.046 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-39381 with exitCode 0
19:53:28.046 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:28.046 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:28.057 [SyncThread-61-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1635900806660 , logFileOffset - 2048]}.
19:53:28.067 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:28.067 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:28.067 [BookieJournal-39381] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:28.067 [BookieJournal-39381] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:28.067 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:28.067 [Bookie-39381] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:28.067 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:28.067 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:28.067 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:28.068 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:28.068 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:28.068 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:28.068 [pool-45-thread-1] ERROR org.apache.zookeeper.server.NIOServerCnxnFactory - Thread Thread[pool-45-thread-1,5,FailOnTimeoutGroup] died
java.lang.NullPointerException: null
	at org.apache.bookkeeper.bookie.EntryLoggerAllocator.closePreAllocateLog(EntryLoggerAllocator.java:191) ~[classes/:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:28.070 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:28.070 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:28.079 [Time-limited test-SendThread(localhost:36009)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x10001144d620003.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x10001144d620003, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:28.180 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x10001144d620003
19:53:28.180 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x10001144d620003 closed
19:53:28.181 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:28.181 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:28.185 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-34759 with exitCode 0
19:53:28.185 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:28.185 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:28.196 [SyncThread-70-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1635900806970 , logFileOffset - 2048]}.
19:53:28.205 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:28.205 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:28.206 [BookieJournal-34759] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:28.206 [BookieJournal-34759] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:28.206 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:28.206 [Bookie-34759] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:28.206 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:28.206 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:28.206 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:28.206 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:28.206 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:28.207 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:28.207 [pool-51-thread-1] ERROR org.apache.zookeeper.server.NIOServerCnxnFactory - Thread Thread[pool-51-thread-1,5,FailOnTimeoutGroup] died
java.lang.NullPointerException: null
	at org.apache.bookkeeper.bookie.EntryLoggerAllocator.closePreAllocateLog(EntryLoggerAllocator.java:191) ~[classes/:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:28.208 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:28.209 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:28.214 [Time-limited test-SendThread(localhost:36009)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x10001144d620004.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x10001144d620004, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:28.314 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x10001144d620004
19:53:28.315 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x10001144d620004 closed
19:53:28.317 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:28.317 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:28.326 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-45447 with exitCode 0
19:53:28.326 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:28.326 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:28.337 [SyncThread-85-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1635900807371 , logFileOffset - 1024]}.
19:53:28.346 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:28.346 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:28.347 [BookieJournal-45447] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:28.347 [BookieJournal-45447] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:28.347 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:28.347 [Bookie-45447] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:28.347 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:28.347 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:28.347 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:28.347 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:28.347 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:28.353 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:28.353 [pool-60-thread-1] ERROR org.apache.zookeeper.server.NIOServerCnxnFactory - Thread Thread[pool-60-thread-1,5,FailOnTimeoutGroup] died
java.lang.NullPointerException: null
	at org.apache.bookkeeper.bookie.EntryLoggerAllocator.closePreAllocateLog(EntryLoggerAllocator.java:191) ~[classes/:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:28.354 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:28.354 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:28.356 [Time-limited test-SendThread(localhost:36009)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x10001144d620006.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x10001144d620006, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:28.369 [BookieDeathWatcher-41801] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
19:53:28.369 [BookieDeathWatcher-41801] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-41801
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:304) ~[classes/:?]
19:53:28.369 [BookieDeathWatcher-41801] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:28.369 [BookieDeathWatcher-41801] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:28.456 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x10001144d620006 closed
19:53:28.457 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x10001144d620006
19:53:28.559 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x10001144d620000 closed
19:53:28.559 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x10001144d620000
19:53:28.559 [ConnnectionExpirer] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - ConnnectionExpirerThread interrupted
19:53:28.560 [NIOServerCxnFactory.AcceptThread:/127.0.0.1:0] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - accept thread exitted run method
19:53:28.560 [NIOServerCxnFactory.SelectorThread-0] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - selector thread exitted run method
19:53:28.561 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - shutting down
19:53:28.561 [Time-limited test] INFO  org.apache.zookeeper.server.RequestThrottler - Shutting down
19:53:28.561 [RequestThrottler] INFO  org.apache.zookeeper.server.RequestThrottler - Draining request throttler queue
19:53:28.561 [RequestThrottler] INFO  org.apache.zookeeper.server.RequestThrottler - RequestThrottler shutdown. Dropped 0 requests
19:53:28.561 [Time-limited test] INFO  org.apache.zookeeper.server.SessionTrackerImpl - Shutting down
19:53:28.561 [Time-limited test] INFO  org.apache.zookeeper.server.PrepRequestProcessor - Shutting down
19:53:28.562 [Time-limited test] INFO  org.apache.zookeeper.server.SyncRequestProcessor - Shutting down
19:53:28.562 [ProcessThread(sid:0 cport:36009):] INFO  org.apache.zookeeper.server.PrepRequestProcessor - PrepRequestProcessor exited loop!
19:53:28.562 [SyncThread:0] INFO  org.apache.zookeeper.server.SyncRequestProcessor - SyncRequestProcessor exited!
19:53:28.562 [Time-limited test] INFO  org.apache.zookeeper.server.FinalRequestProcessor - shutdown of request processor complete
19:53:28.563 [Time-limited test] INFO  org.apache.zookeeper.client.FourLetterWordMain - connecting to localhost 36009
19:53:28.568 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Tearing down test testAddWithEnsembleChange in 635 ms.
19:53:28.569 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Setting up test class org.apache.bookkeeper.client.MdcContextTest
19:53:28.569 [Time-limited test] INFO  org.apache.zookeeper.server.persistence.FileTxnSnapLog - zookeeper.snapshot.trust.empty : false
19:53:28.570 [Time-limited test] INFO  org.apache.zookeeper.server.watch.WatchManagerFactory - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
19:53:28.570 [Time-limited test] INFO  org.apache.zookeeper.server.watch.WatchManagerFactory - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
19:53:28.570 [Time-limited test] INFO  org.apache.zookeeper.server.ZKDatabase - zookeeper.snapshotSizeFactor = 0.33
19:53:28.570 [Time-limited test] INFO  org.apache.zookeeper.server.ZKDatabase - zookeeper.commitLogCount=500
19:53:28.570 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - minSessionTimeout set to 6000
19:53:28.570 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - maxSessionTimeout set to 60000
19:53:28.570 [Time-limited test] INFO  org.apache.zookeeper.server.ResponseCache - Response cache size is initialized with value 400.
19:53:28.570 [Time-limited test] INFO  org.apache.zookeeper.server.ResponseCache - Response cache size is initialized with value 400.
19:53:28.570 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.slotCapacity = 60
19:53:28.570 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.slotDuration = 15
19:53:28.570 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.maxDepth = 6
19:53:28.570 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.initialDelay = 5
19:53:28.570 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.delay = 5
19:53:28.570 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.enabled = false
19:53:28.571 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - The max bytes for all large requests are set to 104857600
19:53:28.571 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - The large request threshold is set to -1
19:53:28.571 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 clientPortListenBacklog -1 datadir /tmp/zookeeper4491507889299792368test/version-2 snapdir /tmp/zookeeper4491507889299792368test/version-2
19:53:28.571 [Time-limited test] WARN  org.apache.zookeeper.server.ServerCnxnFactory - maxCnxns is not configured, using default value 0.
19:53:28.571 [Time-limited test] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 4 worker threads, and 64 kB direct buffers.
19:53:28.571 [Time-limited test] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - binding to port /127.0.0.1:0
19:53:28.572 [Time-limited test] INFO  org.apache.zookeeper.server.persistence.FileTxnSnapLog - Snapshotting: 0x0 to /tmp/zookeeper4491507889299792368test/version-2/snapshot.0
19:53:28.572 [Time-limited test] INFO  org.apache.zookeeper.server.ZKDatabase - Snapshot loaded in 0 ms, highest zxid is 0x0, digest is 1371985504
19:53:28.577 [Time-limited test] INFO  org.apache.zookeeper.server.persistence.FileTxnSnapLog - Snapshotting: 0x0 to /tmp/zookeeper4491507889299792368test/version-2/snapshot.0
19:53:28.577 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - Snapshot taken in 0 ms
19:53:28.578 [ProcessThread(sid:0 cport:46535):] INFO  org.apache.zookeeper.server.PrepRequestProcessor - PrepRequestProcessor (sid:0) started, reconfigEnabled=false
19:53:28.579 [Time-limited test] INFO  org.apache.zookeeper.client.FourLetterWordMain - connecting to localhost 46535
19:53:28.580 [NIOWorkerThread-1] INFO  org.apache.zookeeper.server.NIOServerCnxn - Processing stat command from /127.0.0.1:33358
19:53:28.580 [NIOWorkerThread-1] INFO  org.apache.zookeeper.server.command.AbstractFourLetterCommand - Stat command output
19:53:28.581 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:46535 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@3d54f4f9
19:53:28.581 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:28.581 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:28.585 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:46535.
19:53:28.585 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:28.585 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:33360, server: localhost/127.0.0.1:46535
19:53:28.586 [SyncThread:0] INFO  org.apache.zookeeper.server.persistence.FileTxnLog - Creating new log file: log.1
19:53:28.588 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:46535, session id = 0x100011456690000, negotiated timeout = 10000
19:53:28.589 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:28.598 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46535/ledgers : zkServers = localhost:46535, ledgersRootPath = /ledgers.
19:53:28.598 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:46535 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@6fdc755d
19:53:28.598 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:28.598 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:28.600 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:46535.
19:53:28.600 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:28.600 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:33362, server: localhost/127.0.0.1:46535
19:53:28.601 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:46535, session id = 0x100011456690001, negotiated timeout = 10000
19:53:28.601 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:28.603 [Time-limited test] ERROR org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver 
java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
	at org.apache.bookkeeper.net.ScriptBasedMapping$RawScriptBasedMapping.validateConf(ScriptBasedMapping.java:163) ~[classes/:?]
	at org.apache.bookkeeper.net.AbstractDNSToSwitchMapping.setConf(AbstractDNSToSwitchMapping.java:81) ~[classes/:?]
	at org.apache.bookkeeper.net.ScriptBasedMapping.setConf(ScriptBasedMapping.java:123) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:265) [classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:80) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.initializeEnsemblePlacementPolicy(BookKeeper.java:581) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:505) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeperTestClient.<init>(BookKeeperTestClient.java:51) [test-classes/:?]
	at org.apache.bookkeeper.test.BookKeeperClusterTestCase.startBKCluster(BookKeeperClusterTestCase.java:247) [test-classes/:?]
	at org.apache.bookkeeper.test.BookKeeperClusterTestCase.setUp(BookKeeperClusterTestCase.java:160) [test-classes/:?]
	at org.apache.bookkeeper.test.BookKeeperClusterTestCase.setUp(BookKeeperClusterTestCase.java:145) [test-classes/:?]
	at org.apache.bookkeeper.client.MdcContextTest.setUp(MdcContextTest.java:104) [test-classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_292]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292) [junit-4.12.jar:4.12]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:28.603 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
19:53:28.603 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Not weighted
19:53:28.603 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeper - Weighted ledger placement is not enabled
19:53:28.610 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Starting new bookie on port: 0
19:53:28.611 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - {
  "readOnlyModeEnabled" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore",
  "allowEphemeralPorts" : "true",
  "journalDirectories" : "/tmp/bookie4429631176950572823test",
  "enableTaskExecutionStats" : "true",
  "numReadWorkerThreads" : "0",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "journalFlushWhenQueueEmpty" : "true",
  "preserveMdcForTaskExecution" : "true",
  "diskUsageWarnThreshold" : "0.99",
  "gcWaitTime" : "1000",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "numAddWorkerThreads" : "0",
  "metadataServiceUri" : "zk://localhost:46535/ledgers",
  "allowLoopback" : "true",
  "ledgerDirectories" : "/tmp/bookie4429631176950572823test",
  "journalFormatVersionToWrite" : "5",
  "entryLogFilePreallocationEnabled" : "false",
  "tlsEnabledProtocols" : "[TLSv1.2, TLSv1.1]",
  "bookiePort" : "0",
  "minUsableSizeForEntryLogCreation" : "9223372036854775807",
  "listeningInterface" : "lo",
  "diskUsageThreshold" : "0.999"
}
19:53:28.612 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Binding bookie-rpc endpoint to /127.0.0.1:0
19:53:28.614 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46535/ledgers : zkServers = localhost:46535, ledgersRootPath = /ledgers.
19:53:28.614 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:46535 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@434502d8
19:53:28.617 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:28.618 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:28.619 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:46535.
19:53:28.619 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:28.619 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:33364, server: localhost/127.0.0.1:46535
19:53:28.621 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:46535, session id = 0x100011456690002, negotiated timeout = 10000
19:53:28.621 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:28.623 [Time-limited test] INFO  org.apache.bookkeeper.discover.ZKRegistrationManager - INSTANCEID not exists in zookeeper. Not considering it for data verification
19:53:28.626 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Stamping new cookies on all dirs [/tmp/bookie4429631176950572823test/current] [/tmp/bookie4429631176950572823test/current]
19:53:28.633 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
19:53:28.634 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie4429631176950572823test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:28.634 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
19:53:28.634 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexPersistenceMgr - openFileLimit = 20000
19:53:28.634 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexInMemPageMgr - maxDirectMemory = 1908932608, pageSize = 8192, pageLimit = 77674
19:53:28.635 [Time-limited test] INFO  org.apache.bookkeeper.bookie.ScanAndCompareGarbageCollector - Over Replicated Ledger Deletion : enabled=true, interval=86400000
19:53:28.635 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
19:53:28.635 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
19:53:28.644 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeperTestClient - Wait for 127.0.0.1:37281 to become writable
19:53:28.645 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished replaying journal in 0 ms.
19:53:28.645 [SyncThread-100-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:28.646 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished reading journal, starting bookie
19:53:28.649 [BookieJournal-37281] INFO  org.apache.bookkeeper.bookie.Journal - Starting journal on /tmp/bookie4429631176950572823test/current
19:53:28.649 [BookieJournal-37281] INFO  org.apache.bookkeeper.bookie.JournalChannel - Opening journal /tmp/bookie4429631176950572823test/current/17ce3495dca.txn
19:53:28.650 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite Thread started
19:53:28.660 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:37281 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:37281, port=37281, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:28.660 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:37281
19:53:28.668 [BookieDeathWatcher-39381] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
19:53:28.669 [BookieDeathWatcher-39381] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-39381
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:304) ~[classes/:?]
19:53:28.669 [BookieDeathWatcher-39381] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:28.669 [BookieDeathWatcher-39381] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:28.906 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - New bookie '127.0.0.1:37281' has been created.
19:53:28.907 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Starting new bookie on port: 0
19:53:28.907 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - {
  "allowEphemeralPorts" : "true",
  "numReadWorkerThreads" : "0",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "allowLoopback" : "true",
  "diskUsageThreshold" : "0.999",
  "journalFlushWhenQueueEmpty" : "true",
  "diskUsageWarnThreshold" : "0.99",
  "readOnlyModeEnabled" : "true",
  "listeningInterface" : "lo",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "journalFormatVersionToWrite" : "5",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore",
  "minUsableSizeForEntryLogCreation" : "9223372036854775807",
  "metadataServiceUri" : "zk://localhost:46535/ledgers",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "gcWaitTime" : "1000",
  "bookiePort" : "0",
  "numAddWorkerThreads" : "0",
  "journalDirectories" : "/tmp/bookie2939894381028380022test",
  "tlsEnabledProtocols" : "[TLSv1.2, TLSv1.1]",
  "enableTaskExecutionStats" : "true",
  "ledgerDirectories" : "/tmp/bookie2939894381028380022test",
  "entryLogFilePreallocationEnabled" : "false",
  "preserveMdcForTaskExecution" : "true",
  "allocatorPoolingPolicy" : "UnpooledHeap"
}
19:53:28.910 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Binding bookie-rpc endpoint to /127.0.0.1:0
19:53:28.912 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46535/ledgers : zkServers = localhost:46535, ledgersRootPath = /ledgers.
19:53:28.912 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:46535 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@c52de6a
19:53:28.912 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:28.912 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:28.913 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:46535.
19:53:28.914 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:28.914 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:33366, server: localhost/127.0.0.1:46535
19:53:28.915 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:46535, session id = 0x100011456690003, negotiated timeout = 10000
19:53:28.915 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:28.920 [Time-limited test] INFO  org.apache.bookkeeper.discover.ZKRegistrationManager - INSTANCEID not exists in zookeeper. Not considering it for data verification
19:53:28.926 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Stamping new cookies on all dirs [/tmp/bookie2939894381028380022test/current] [/tmp/bookie2939894381028380022test/current]
19:53:28.929 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
19:53:28.930 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie2939894381028380022test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:28.930 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
19:53:28.930 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexPersistenceMgr - openFileLimit = 20000
19:53:28.930 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexInMemPageMgr - maxDirectMemory = 1908932608, pageSize = 8192, pageLimit = 77674
19:53:28.932 [Time-limited test] INFO  org.apache.bookkeeper.bookie.ScanAndCompareGarbageCollector - Over Replicated Ledger Deletion : enabled=true, interval=86400000
19:53:28.932 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
19:53:28.932 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
19:53:28.938 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeperTestClient - Wait for 127.0.0.1:45203 to become writable
19:53:28.938 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished replaying journal in 0 ms.
19:53:28.939 [SyncThread-109-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:28.941 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished reading journal, starting bookie
19:53:28.941 [BookieJournal-45203] INFO  org.apache.bookkeeper.bookie.Journal - Starting journal on /tmp/bookie2939894381028380022test/current
19:53:28.945 [BookieJournal-45203] INFO  org.apache.bookkeeper.bookie.JournalChannel - Opening journal /tmp/bookie2939894381028380022test/current/17ce3495eee.txn
19:53:28.948 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite Thread started
19:53:28.960 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:45203 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:45203, port=45203, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:28.960 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:45203
19:53:28.981 [BookieDeathWatcher-34759] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
19:53:28.982 [BookieDeathWatcher-34759] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-34759
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:304) ~[classes/:?]
19:53:28.982 [BookieDeathWatcher-34759] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:28.982 [BookieDeathWatcher-34759] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:29.208 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - New bookie '127.0.0.1:45203' has been created.
19:53:29.210 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Starting new bookie on port: 0
19:53:29.210 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - {
  "journalDirectories" : "/tmp/bookie8275049878048846001test",
  "ledgerDirectories" : "/tmp/bookie8275049878048846001test",
  "bookiePort" : "0",
  "gcWaitTime" : "1000",
  "metadataServiceUri" : "zk://localhost:46535/ledgers",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "tlsEnabledProtocols" : "[TLSv1.2, TLSv1.1]",
  "allowLoopback" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore",
  "numAddWorkerThreads" : "0",
  "preserveMdcForTaskExecution" : "true",
  "numReadWorkerThreads" : "0",
  "listeningInterface" : "lo",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "entryLogFilePreallocationEnabled" : "false",
  "readOnlyModeEnabled" : "true",
  "minUsableSizeForEntryLogCreation" : "9223372036854775807",
  "enableTaskExecutionStats" : "true",
  "journalFormatVersionToWrite" : "5",
  "diskUsageWarnThreshold" : "0.99",
  "allowEphemeralPorts" : "true",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "journalFlushWhenQueueEmpty" : "true",
  "diskUsageThreshold" : "0.999",
  "dbStorage_writeCacheMaxSizeMb" : "4"
}
19:53:29.212 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Binding bookie-rpc endpoint to /127.0.0.1:0
19:53:29.214 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46535/ledgers : zkServers = localhost:46535, ledgersRootPath = /ledgers.
19:53:29.214 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:46535 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@20e1bc14
19:53:29.214 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:29.215 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:29.227 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:46535.
19:53:29.227 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:29.228 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:33368, server: localhost/127.0.0.1:46535
19:53:29.229 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:46535, session id = 0x100011456690004, negotiated timeout = 10000
19:53:29.229 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:29.232 [Time-limited test] INFO  org.apache.bookkeeper.discover.ZKRegistrationManager - INSTANCEID not exists in zookeeper. Not considering it for data verification
19:53:29.236 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Stamping new cookies on all dirs [/tmp/bookie8275049878048846001test/current] [/tmp/bookie8275049878048846001test/current]
19:53:29.247 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
19:53:29.248 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie8275049878048846001test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:29.248 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
19:53:29.248 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexPersistenceMgr - openFileLimit = 20000
19:53:29.248 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexInMemPageMgr - maxDirectMemory = 1908932608, pageSize = 8192, pageLimit = 77674
19:53:29.249 [Time-limited test] INFO  org.apache.bookkeeper.bookie.ScanAndCompareGarbageCollector - Over Replicated Ledger Deletion : enabled=true, interval=86400000
19:53:29.249 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
19:53:29.249 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
19:53:29.265 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeperTestClient - Wait for 127.0.0.1:43635 to become writable
19:53:29.266 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished replaying journal in 1 ms.
19:53:29.266 [SyncThread-118-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:29.268 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished reading journal, starting bookie
19:53:29.274 [BookieJournal-43635] INFO  org.apache.bookkeeper.bookie.Journal - Starting journal on /tmp/bookie8275049878048846001test/current
19:53:29.274 [BookieJournal-43635] INFO  org.apache.bookkeeper.bookie.JournalChannel - Opening journal /tmp/bookie8275049878048846001test/current/17ce349603b.txn
19:53:29.275 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite Thread started
19:53:29.287 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:43635 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:43635, port=43635, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:29.287 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:43635
19:53:29.380 [BookieDeathWatcher-45447] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
19:53:29.380 [BookieDeathWatcher-45447] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-45447
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:304) ~[classes/:?]
19:53:29.380 [BookieDeathWatcher-45447] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:29.381 [BookieDeathWatcher-45447] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:29.521 [SessionTracker] INFO  org.apache.zookeeper.server.SessionTrackerImpl - SessionTrackerImpl exited loop!
19:53:29.536 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - New bookie '127.0.0.1:43635' has been created.
19:53:29.536 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Setup testcase testReadEntryBeyondLac @ metadata service zk://localhost:46535/ledgers in 967 ms.
19:53:29.538 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:46535/ledgers : zkServers = localhost:46535, ledgersRootPath = /ledgers.
19:53:29.538 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:46535 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@5242426a
19:53:29.538 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:29.538 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:29.539 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:46535.
19:53:29.539 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:29.539 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:33370, server: localhost/127.0.0.1:46535
19:53:29.541 [Time-limited test-SendThread(localhost:46535)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:46535, session id = 0x100011456690005, negotiated timeout = 10000
19:53:29.541 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:29.543 [Time-limited test] ERROR org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver 
java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
	at org.apache.bookkeeper.net.ScriptBasedMapping$RawScriptBasedMapping.validateConf(ScriptBasedMapping.java:163) ~[classes/:?]
	at org.apache.bookkeeper.net.AbstractDNSToSwitchMapping.setConf(AbstractDNSToSwitchMapping.java:81) ~[classes/:?]
	at org.apache.bookkeeper.net.ScriptBasedMapping.setConf(ScriptBasedMapping.java:123) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:265) [classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:80) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.initializeEnsemblePlacementPolicy(BookKeeper.java:581) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:505) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:344) [classes/:?]
	at org.apache.bookkeeper.client.MdcContextTest.setUp(MdcContextTest.java:111) [test-classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_292]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292) [junit-4.12.jar:4.12]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:29.543 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
19:53:29.543 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Not weighted
19:53:29.543 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeper - Weighted ledger placement is not enabled
19:53:29.550 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:37281 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:37281, port=37281, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:29.550 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:43635 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:43635, port=43635, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:29.550 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:45203 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:45203, port=45203, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:29.550 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:37281
19:53:29.551 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:43635
19:53:29.551 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:45203
19:53:29.552 [Time-limited test] INFO  org.apache.bookkeeper.client.MdcContextTest - creating ledger
19:53:29.552 [Time-limited test] WARN  org.apache.bookkeeper.client.BookieWatcherImpl - New ensemble: [127.0.0.1:43635, 127.0.0.1:37281, 127.0.0.1:45203] is not adhering to Placement Policy. quarantinedBookies: []
19:53:29.564 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.client.LedgerCreateOp - Ensemble: [127.0.0.1:43635, 127.0.0.1:37281, 127.0.0.1:45203] for ledger: 0
19:53:29.569 [Time-limited test] ERROR org.apache.bookkeeper.client.LedgerHandle - ReadEntries exception on ledgerId:0 firstEntry:100 lastEntry:100 lastAddConfirmed:-1
19:53:29.675 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x100011456690005 closed
19:53:29.675 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x100011456690005
19:53:29.676 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - TearDown
19:53:29.783 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x100011456690001 closed
19:53:29.783 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:29.783 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x100011456690001
19:53:29.783 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:29.794 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-37281 with exitCode 0
19:53:29.794 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:29.794 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:29.794 [SyncThread-100-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:29.796 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:29.797 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:29.797 [BookieJournal-37281] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:29.797 [BookieJournal-37281] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:29.797 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:29.797 [Bookie-37281] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:29.797 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:29.797 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:29.797 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:29.797 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:29.797 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:29.798 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:29.798 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:29.798 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:29.906 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x100011456690002
19:53:29.906 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x100011456690002 closed
19:53:29.907 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:29.907 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:29.915 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-45203 with exitCode 0
19:53:29.915 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:29.915 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:29.915 [SyncThread-109-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:29.917 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:29.917 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:29.917 [BookieJournal-45203] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:29.917 [BookieJournal-45203] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:29.917 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:29.917 [Bookie-45203] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:29.917 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:29.917 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:29.917 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:29.917 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:29.917 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:29.918 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:29.918 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:29.918 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:29.926 [Time-limited test-SendThread(localhost:46535)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x100011456690003.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x100011456690003, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:30.027 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x100011456690003
19:53:30.027 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x100011456690003 closed
19:53:30.027 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:30.027 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:30.031 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-43635 with exitCode 0
19:53:30.032 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:30.032 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:30.032 [SyncThread-118-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:30.033 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:30.033 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:30.034 [BookieJournal-43635] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:30.034 [BookieJournal-43635] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:30.034 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:30.034 [Bookie-43635] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:30.034 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:30.034 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:30.034 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:30.034 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:30.034 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:30.040 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:30.041 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:30.041 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:30.043 [Time-limited test-SendThread(localhost:46535)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x100011456690004.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x100011456690004, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:30.144 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x100011456690004
19:53:30.143 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x100011456690004 closed
19:53:30.253 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x100011456690000 closed
19:53:30.253 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x100011456690000
19:53:30.254 [ConnnectionExpirer] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - ConnnectionExpirerThread interrupted
19:53:30.255 [NIOServerCxnFactory.AcceptThread:/127.0.0.1:0] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - accept thread exitted run method
19:53:30.255 [NIOServerCxnFactory.SelectorThread-0] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - selector thread exitted run method
19:53:30.255 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - shutting down
19:53:30.255 [Time-limited test] INFO  org.apache.zookeeper.server.RequestThrottler - Shutting down
19:53:30.255 [RequestThrottler] INFO  org.apache.zookeeper.server.RequestThrottler - Draining request throttler queue
19:53:30.255 [RequestThrottler] INFO  org.apache.zookeeper.server.RequestThrottler - RequestThrottler shutdown. Dropped 0 requests
19:53:30.255 [Time-limited test] INFO  org.apache.zookeeper.server.SessionTrackerImpl - Shutting down
19:53:30.255 [Time-limited test] INFO  org.apache.zookeeper.server.PrepRequestProcessor - Shutting down
19:53:30.255 [ProcessThread(sid:0 cport:46535):] INFO  org.apache.zookeeper.server.PrepRequestProcessor - PrepRequestProcessor exited loop!
19:53:30.256 [Time-limited test] INFO  org.apache.zookeeper.server.SyncRequestProcessor - Shutting down
19:53:30.256 [SyncThread:0] INFO  org.apache.zookeeper.server.SyncRequestProcessor - SyncRequestProcessor exited!
19:53:30.256 [Time-limited test] INFO  org.apache.zookeeper.server.FinalRequestProcessor - shutdown of request processor complete
19:53:30.257 [Time-limited test] INFO  org.apache.zookeeper.client.FourLetterWordMain - connecting to localhost 46535
19:53:30.258 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Tearing down test testReadEntryBeyondLac in 582 ms.
19:53:30.260 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Setting up test class org.apache.bookkeeper.client.MdcContextTest
19:53:30.260 [Time-limited test] INFO  org.apache.zookeeper.server.persistence.FileTxnSnapLog - zookeeper.snapshot.trust.empty : false
19:53:30.260 [Time-limited test] INFO  org.apache.zookeeper.server.watch.WatchManagerFactory - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
19:53:30.260 [Time-limited test] INFO  org.apache.zookeeper.server.watch.WatchManagerFactory - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
19:53:30.260 [Time-limited test] INFO  org.apache.zookeeper.server.ZKDatabase - zookeeper.snapshotSizeFactor = 0.33
19:53:30.260 [Time-limited test] INFO  org.apache.zookeeper.server.ZKDatabase - zookeeper.commitLogCount=500
19:53:30.260 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - minSessionTimeout set to 6000
19:53:30.260 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - maxSessionTimeout set to 60000
19:53:30.260 [Time-limited test] INFO  org.apache.zookeeper.server.ResponseCache - Response cache size is initialized with value 400.
19:53:30.260 [Time-limited test] INFO  org.apache.zookeeper.server.ResponseCache - Response cache size is initialized with value 400.
19:53:30.260 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.slotCapacity = 60
19:53:30.260 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.slotDuration = 15
19:53:30.260 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.maxDepth = 6
19:53:30.260 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.initialDelay = 5
19:53:30.261 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.delay = 5
19:53:30.261 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.enabled = false
19:53:30.261 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - The max bytes for all large requests are set to 104857600
19:53:30.261 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - The large request threshold is set to -1
19:53:30.261 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 clientPortListenBacklog -1 datadir /tmp/zookeeper3037737900242543382test/version-2 snapdir /tmp/zookeeper3037737900242543382test/version-2
19:53:30.261 [Time-limited test] WARN  org.apache.zookeeper.server.ServerCnxnFactory - maxCnxns is not configured, using default value 0.
19:53:30.261 [Time-limited test] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 4 worker threads, and 64 kB direct buffers.
19:53:30.261 [Time-limited test] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - binding to port /127.0.0.1:0
19:53:30.263 [Time-limited test] INFO  org.apache.zookeeper.server.persistence.FileTxnSnapLog - Snapshotting: 0x0 to /tmp/zookeeper3037737900242543382test/version-2/snapshot.0
19:53:30.263 [Time-limited test] INFO  org.apache.zookeeper.server.ZKDatabase - Snapshot loaded in 0 ms, highest zxid is 0x0, digest is 1371985504
19:53:30.263 [Time-limited test] INFO  org.apache.zookeeper.server.persistence.FileTxnSnapLog - Snapshotting: 0x0 to /tmp/zookeeper3037737900242543382test/version-2/snapshot.0
19:53:30.264 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - Snapshot taken in 1 ms
19:53:30.265 [ProcessThread(sid:0 cport:34651):] INFO  org.apache.zookeeper.server.PrepRequestProcessor - PrepRequestProcessor (sid:0) started, reconfigEnabled=false
19:53:30.266 [Time-limited test] INFO  org.apache.zookeeper.client.FourLetterWordMain - connecting to localhost 34651
19:53:30.266 [NIOWorkerThread-1] INFO  org.apache.zookeeper.server.NIOServerCnxn - Processing stat command from /127.0.0.1:47788
19:53:30.266 [NIOWorkerThread-1] INFO  org.apache.zookeeper.server.command.AbstractFourLetterCommand - Stat command output
19:53:30.267 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:34651 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@47dae801
19:53:30.267 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:30.267 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:30.269 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:34651.
19:53:30.269 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:30.269 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:47790, server: localhost/127.0.0.1:34651
19:53:30.270 [SyncThread:0] INFO  org.apache.zookeeper.server.persistence.FileTxnLog - Creating new log file: log.1
19:53:30.277 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:34651, session id = 0x10001145cff0000, negotiated timeout = 10000
19:53:30.279 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:30.286 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:34651/ledgers : zkServers = localhost:34651, ledgersRootPath = /ledgers.
19:53:30.286 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:34651 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@4b92ef22
19:53:30.286 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:30.286 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:30.286 [BookieDeathWatcher-43635] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
19:53:30.286 [BookieDeathWatcher-43635] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-43635
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:304) ~[classes/:?]
19:53:30.289 [BookieDeathWatcher-43635] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:30.289 [BookieDeathWatcher-43635] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:30.289 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:34651.
19:53:30.289 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:30.289 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:47792, server: localhost/127.0.0.1:34651
19:53:30.290 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:34651, session id = 0x10001145cff0001, negotiated timeout = 10000
19:53:30.291 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:30.292 [Time-limited test] ERROR org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver 
java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
	at org.apache.bookkeeper.net.ScriptBasedMapping$RawScriptBasedMapping.validateConf(ScriptBasedMapping.java:163) ~[classes/:?]
	at org.apache.bookkeeper.net.AbstractDNSToSwitchMapping.setConf(AbstractDNSToSwitchMapping.java:81) ~[classes/:?]
	at org.apache.bookkeeper.net.ScriptBasedMapping.setConf(ScriptBasedMapping.java:123) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:265) [classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:80) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.initializeEnsemblePlacementPolicy(BookKeeper.java:581) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:505) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeperTestClient.<init>(BookKeeperTestClient.java:51) [test-classes/:?]
	at org.apache.bookkeeper.test.BookKeeperClusterTestCase.startBKCluster(BookKeeperClusterTestCase.java:247) [test-classes/:?]
	at org.apache.bookkeeper.test.BookKeeperClusterTestCase.setUp(BookKeeperClusterTestCase.java:160) [test-classes/:?]
	at org.apache.bookkeeper.test.BookKeeperClusterTestCase.setUp(BookKeeperClusterTestCase.java:145) [test-classes/:?]
	at org.apache.bookkeeper.client.MdcContextTest.setUp(MdcContextTest.java:104) [test-classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_292]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292) [junit-4.12.jar:4.12]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:30.293 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
19:53:30.293 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Not weighted
19:53:30.293 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeper - Weighted ledger placement is not enabled
19:53:30.297 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Starting new bookie on port: 0
19:53:30.297 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - {
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "preserveMdcForTaskExecution" : "true",
  "numReadWorkerThreads" : "0",
  "minUsableSizeForEntryLogCreation" : "9223372036854775807",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore",
  "diskUsageWarnThreshold" : "0.99",
  "allowLoopback" : "true",
  "bookiePort" : "0",
  "ledgerDirectories" : "/tmp/bookie4680962886260515789test",
  "metadataServiceUri" : "zk://localhost:34651/ledgers",
  "journalDirectories" : "/tmp/bookie4680962886260515789test",
  "entryLogFilePreallocationEnabled" : "false",
  "numAddWorkerThreads" : "0",
  "enableTaskExecutionStats" : "true",
  "journalFlushWhenQueueEmpty" : "true",
  "readOnlyModeEnabled" : "true",
  "allowEphemeralPorts" : "true",
  "journalFormatVersionToWrite" : "5",
  "diskUsageThreshold" : "0.999",
  "listeningInterface" : "lo",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "gcWaitTime" : "1000",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "tlsEnabledProtocols" : "[TLSv1.2, TLSv1.1]"
}
19:53:30.298 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Binding bookie-rpc endpoint to /127.0.0.1:0
19:53:30.300 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:34651/ledgers : zkServers = localhost:34651, ledgersRootPath = /ledgers.
19:53:30.300 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:34651 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@42a6c655
19:53:30.300 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:30.300 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:30.300 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:34651.
19:53:30.300 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:30.300 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:47794, server: localhost/127.0.0.1:34651
19:53:30.302 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:34651, session id = 0x10001145cff0002, negotiated timeout = 10000
19:53:30.302 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:30.303 [Time-limited test] INFO  org.apache.bookkeeper.discover.ZKRegistrationManager - INSTANCEID not exists in zookeeper. Not considering it for data verification
19:53:30.309 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Stamping new cookies on all dirs [/tmp/bookie4680962886260515789test/current] [/tmp/bookie4680962886260515789test/current]
19:53:30.314 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
19:53:30.315 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie4680962886260515789test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:30.315 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
19:53:30.315 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexPersistenceMgr - openFileLimit = 20000
19:53:30.315 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexInMemPageMgr - maxDirectMemory = 1908932608, pageSize = 8192, pageLimit = 77674
19:53:30.316 [Time-limited test] INFO  org.apache.bookkeeper.bookie.ScanAndCompareGarbageCollector - Over Replicated Ledger Deletion : enabled=true, interval=86400000
19:53:30.316 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
19:53:30.316 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
19:53:30.321 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeperTestClient - Wait for 127.0.0.1:34439 to become writable
19:53:30.321 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished replaying journal in 0 ms.
19:53:30.325 [SyncThread-139-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:30.326 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished reading journal, starting bookie
19:53:30.327 [BookieJournal-34439] INFO  org.apache.bookkeeper.bookie.Journal - Starting journal on /tmp/bookie4680962886260515789test/current
19:53:30.329 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite Thread started
19:53:30.329 [BookieJournal-34439] INFO  org.apache.bookkeeper.bookie.JournalChannel - Opening journal /tmp/bookie4680962886260515789test/current/17ce349645a.txn
19:53:30.337 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:34439 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:34439, port=34439, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:30.337 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:34439
19:53:30.585 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - New bookie '127.0.0.1:34439' has been created.
19:53:30.586 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Starting new bookie on port: 0
19:53:30.586 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - {
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "journalDirectories" : "/tmp/bookie690341278297604218test",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore",
  "journalFormatVersionToWrite" : "5",
  "tlsEnabledProtocols" : "[TLSv1.2, TLSv1.1]",
  "minUsableSizeForEntryLogCreation" : "9223372036854775807",
  "allowLoopback" : "true",
  "diskUsageThreshold" : "0.999",
  "ledgerDirectories" : "/tmp/bookie690341278297604218test",
  "bookiePort" : "0",
  "gcWaitTime" : "1000",
  "diskUsageWarnThreshold" : "0.99",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "preserveMdcForTaskExecution" : "true",
  "enableTaskExecutionStats" : "true",
  "journalFlushWhenQueueEmpty" : "true",
  "listeningInterface" : "lo",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "numReadWorkerThreads" : "0",
  "numAddWorkerThreads" : "0",
  "metadataServiceUri" : "zk://localhost:34651/ledgers",
  "readOnlyModeEnabled" : "true",
  "entryLogFilePreallocationEnabled" : "false",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "allowEphemeralPorts" : "true"
}
19:53:30.588 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Binding bookie-rpc endpoint to /127.0.0.1:0
19:53:30.590 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:34651/ledgers : zkServers = localhost:34651, ledgersRootPath = /ledgers.
19:53:30.590 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:34651 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@2487aa6b
19:53:30.591 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:30.591 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:30.595 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:34651.
19:53:30.595 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:30.595 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:47796, server: localhost/127.0.0.1:34651
19:53:30.596 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:34651, session id = 0x10001145cff0003, negotiated timeout = 10000
19:53:30.599 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:30.605 [Time-limited test] INFO  org.apache.bookkeeper.discover.ZKRegistrationManager - INSTANCEID not exists in zookeeper. Not considering it for data verification
19:53:30.609 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Stamping new cookies on all dirs [/tmp/bookie690341278297604218test/current] [/tmp/bookie690341278297604218test/current]
19:53:30.612 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
19:53:30.613 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie690341278297604218test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:30.613 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
19:53:30.613 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexPersistenceMgr - openFileLimit = 20000
19:53:30.613 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexInMemPageMgr - maxDirectMemory = 1908932608, pageSize = 8192, pageLimit = 77674
19:53:30.614 [Time-limited test] INFO  org.apache.bookkeeper.bookie.ScanAndCompareGarbageCollector - Over Replicated Ledger Deletion : enabled=true, interval=86400000
19:53:30.614 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
19:53:30.614 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
19:53:30.617 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeperTestClient - Wait for 127.0.0.1:41747 to become writable
19:53:30.617 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished replaying journal in 0 ms.
19:53:30.621 [SyncThread-148-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:30.622 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished reading journal, starting bookie
19:53:30.622 [BookieJournal-41747] INFO  org.apache.bookkeeper.bookie.Journal - Starting journal on /tmp/bookie690341278297604218test/current
19:53:30.625 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite Thread started
19:53:30.625 [BookieJournal-41747] INFO  org.apache.bookkeeper.bookie.JournalChannel - Opening journal /tmp/bookie690341278297604218test/current/17ce3496582.txn
19:53:30.632 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:41747 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:41747, port=41747, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:30.632 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:41747
19:53:30.657 [BookieDeathWatcher-37281] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
19:53:30.657 [BookieDeathWatcher-37281] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-37281
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:304) ~[classes/:?]
19:53:30.657 [BookieDeathWatcher-37281] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:30.657 [BookieDeathWatcher-37281] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:30.883 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - New bookie '127.0.0.1:41747' has been created.
19:53:30.884 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Starting new bookie on port: 0
19:53:30.884 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - {
  "allowEphemeralPorts" : "true",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "metadataServiceUri" : "zk://localhost:34651/ledgers",
  "preserveMdcForTaskExecution" : "true",
  "journalDirectories" : "/tmp/bookie6947153960523188826test",
  "diskUsageThreshold" : "0.999",
  "enableTaskExecutionStats" : "true",
  "numAddWorkerThreads" : "0",
  "allowLoopback" : "true",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "numReadWorkerThreads" : "0",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore",
  "minUsableSizeForEntryLogCreation" : "9223372036854775807",
  "bookiePort" : "0",
  "journalFlushWhenQueueEmpty" : "true",
  "gcWaitTime" : "1000",
  "listeningInterface" : "lo",
  "ledgerDirectories" : "/tmp/bookie6947153960523188826test",
  "tlsEnabledProtocols" : "[TLSv1.2, TLSv1.1]",
  "readOnlyModeEnabled" : "true",
  "journalFormatVersionToWrite" : "5",
  "diskUsageWarnThreshold" : "0.99",
  "entryLogFilePreallocationEnabled" : "false"
}
19:53:30.886 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Binding bookie-rpc endpoint to /127.0.0.1:0
19:53:30.888 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:34651/ledgers : zkServers = localhost:34651, ledgersRootPath = /ledgers.
19:53:30.888 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:34651 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@6cafd9
19:53:30.888 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:30.888 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:30.889 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:34651.
19:53:30.889 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:30.890 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:47798, server: localhost/127.0.0.1:34651
19:53:30.891 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:34651, session id = 0x10001145cff0004, negotiated timeout = 10000
19:53:30.891 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:30.897 [Time-limited test] INFO  org.apache.bookkeeper.discover.ZKRegistrationManager - INSTANCEID not exists in zookeeper. Not considering it for data verification
19:53:30.901 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Stamping new cookies on all dirs [/tmp/bookie6947153960523188826test/current] [/tmp/bookie6947153960523188826test/current]
19:53:30.905 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
19:53:30.906 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie6947153960523188826test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:30.906 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
19:53:30.907 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexPersistenceMgr - openFileLimit = 20000
19:53:30.907 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexInMemPageMgr - maxDirectMemory = 1908932608, pageSize = 8192, pageLimit = 77674
19:53:30.907 [Time-limited test] INFO  org.apache.bookkeeper.bookie.ScanAndCompareGarbageCollector - Over Replicated Ledger Deletion : enabled=true, interval=86400000
19:53:30.908 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
19:53:30.908 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
19:53:30.911 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeperTestClient - Wait for 127.0.0.1:42907 to become writable
19:53:30.911 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished replaying journal in 0 ms.
19:53:30.913 [SyncThread-157-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:30.915 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished reading journal, starting bookie
19:53:30.917 [BookieJournal-42907] INFO  org.apache.bookkeeper.bookie.Journal - Starting journal on /tmp/bookie6947153960523188826test/current
19:53:30.917 [BookieJournal-42907] INFO  org.apache.bookkeeper.bookie.JournalChannel - Opening journal /tmp/bookie6947153960523188826test/current/17ce34966a6.txn
19:53:30.917 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite Thread started
19:53:30.929 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:42907 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:42907, port=42907, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:30.930 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:42907
19:53:30.959 [BookieDeathWatcher-45203] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
19:53:30.959 [BookieDeathWatcher-45203] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-45203
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:304) ~[classes/:?]
19:53:30.959 [BookieDeathWatcher-45203] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:30.959 [BookieDeathWatcher-45203] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:31.175 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - New bookie '127.0.0.1:42907' has been created.
19:53:31.176 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Setup testcase testLedgerCreateFails @ metadata service zk://localhost:34651/ledgers in 915 ms.
19:53:31.178 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:34651/ledgers : zkServers = localhost:34651, ledgersRootPath = /ledgers.
19:53:31.178 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:34651 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@56dc3c81
19:53:31.178 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:31.178 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:31.181 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:34651.
19:53:31.181 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:31.181 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:47800, server: localhost/127.0.0.1:34651
19:53:31.182 [Time-limited test-SendThread(localhost:34651)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:34651, session id = 0x10001145cff0005, negotiated timeout = 10000
19:53:31.183 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:31.184 [Time-limited test] ERROR org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver 
java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
	at org.apache.bookkeeper.net.ScriptBasedMapping$RawScriptBasedMapping.validateConf(ScriptBasedMapping.java:163) ~[classes/:?]
	at org.apache.bookkeeper.net.AbstractDNSToSwitchMapping.setConf(AbstractDNSToSwitchMapping.java:81) ~[classes/:?]
	at org.apache.bookkeeper.net.ScriptBasedMapping.setConf(ScriptBasedMapping.java:123) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:265) [classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:80) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.initializeEnsemblePlacementPolicy(BookKeeper.java:581) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:505) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:344) [classes/:?]
	at org.apache.bookkeeper.client.MdcContextTest.setUp(MdcContextTest.java:111) [test-classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_292]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292) [junit-4.12.jar:4.12]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:31.184 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
19:53:31.184 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Not weighted
19:53:31.185 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeper - Weighted ledger placement is not enabled
19:53:31.193 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:34439 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:34439, port=34439, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:31.193 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:42907 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:42907, port=42907, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:31.193 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:41747 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:41747, port=41747, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:31.193 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:34439
19:53:31.193 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:41747
19:53:31.193 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:42907
19:53:31.194 [Time-limited test] INFO  org.apache.bookkeeper.client.MdcContextTest - creating ledger
19:53:31.194 [Time-limited test] WARN  org.apache.bookkeeper.client.BookieWatcherImpl - New ensemble: [127.0.0.1:42907, 127.0.0.1:34439, 127.0.0.1:41747] is not adhering to Placement Policy. quarantinedBookies: []
19:53:31.205 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.client.LedgerCreateOp - Ensemble: [127.0.0.1:42907, 127.0.0.1:34439, 127.0.0.1:41747] for ledger: 0
19:53:31.222 [Time-limited test] WARN  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to find 96 bookies : excludeBookies [<Bookie:127.0.0.1:34439>, <Bookie:127.0.0.1:42907>, <Bookie:127.0.0.1:41747>], allBookies [<Bookie:127.0.0.1:42907>, <Bookie:127.0.0.1:41747>, <Bookie:127.0.0.1:34439>].
19:53:31.223 [Time-limited test] WARN  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to find 96 bookies : excludeBookies [<Bookie:127.0.0.1:34439>, <Bookie:127.0.0.1:41747>, <Bookie:127.0.0.1:42907>], allBookies [<Bookie:127.0.0.1:34439>, <Bookie:127.0.0.1:41747>, <Bookie:127.0.0.1:42907>].
19:53:31.223 [Time-limited test] ERROR org.apache.bookkeeper.client.LedgerCreateOp - Not enough bookies to create ledger with ensembleSize=99, writeQuorumSize=3 and ackQuorumSize=2
19:53:31.351 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x10001145cff0005 closed
19:53:31.351 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x10001145cff0005
19:53:31.354 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - TearDown
19:53:31.359 [Time-limited test-SendThread(localhost:34651)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x10001145cff0001.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x10001145cff0001, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:31.460 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x10001145cff0001 closed
19:53:31.460 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x10001145cff0001
19:53:31.460 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:31.460 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:31.462 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-34439 with exitCode 0
19:53:31.462 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:31.462 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:31.462 [SyncThread-139-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:31.464 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:31.464 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:31.464 [BookieJournal-34439] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:31.464 [BookieJournal-34439] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:31.467 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:31.467 [Bookie-34439] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:31.468 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:31.468 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:31.468 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:31.468 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:31.468 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:31.468 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:31.468 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:31.468 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:31.473 [Time-limited test-SendThread(localhost:34651)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x10001145cff0002.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x10001145cff0002, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:31.573 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x10001145cff0002 closed
19:53:31.573 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x10001145cff0002
19:53:31.573 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:31.573 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:31.580 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-41747 with exitCode 0
19:53:31.580 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:31.580 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:31.580 [SyncThread-148-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:31.581 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:31.582 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:31.582 [BookieJournal-41747] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:31.582 [BookieJournal-41747] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:31.582 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:31.582 [Bookie-41747] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:31.582 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:31.582 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:31.582 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:31.582 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:31.582 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:31.582 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:31.582 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:31.582 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:31.590 [Time-limited test-SendThread(localhost:34651)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x10001145cff0003.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x10001145cff0003, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:31.691 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x10001145cff0003 closed
19:53:31.691 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:31.691 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:31.691 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x10001145cff0003
19:53:31.697 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-42907 with exitCode 0
19:53:31.697 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:31.697 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:31.698 [SyncThread-157-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:31.699 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:31.699 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:31.699 [BookieJournal-42907] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:31.699 [BookieJournal-42907] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:31.699 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:31.700 [Bookie-42907] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:31.700 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:31.700 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:31.700 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:31.700 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:31.700 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:31.700 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:31.700 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:31.700 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:31.708 [Time-limited test-SendThread(localhost:34651)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x10001145cff0004.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x10001145cff0004, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:31.808 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x10001145cff0004 closed
19:53:31.809 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x10001145cff0004
19:53:31.812 [Time-limited test-SendThread(localhost:34651)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x10001145cff0000.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x10001145cff0000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:31.912 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x10001145cff0000 closed
19:53:31.912 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x10001145cff0000
19:53:31.912 [ConnnectionExpirer] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - ConnnectionExpirerThread interrupted
19:53:31.913 [NIOServerCxnFactory.AcceptThread:/127.0.0.1:0] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - accept thread exitted run method
19:53:31.914 [NIOServerCxnFactory.SelectorThread-0] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - selector thread exitted run method
19:53:31.914 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - shutting down
19:53:31.914 [Time-limited test] INFO  org.apache.zookeeper.server.RequestThrottler - Shutting down
19:53:31.914 [RequestThrottler] INFO  org.apache.zookeeper.server.RequestThrottler - Draining request throttler queue
19:53:31.914 [RequestThrottler] INFO  org.apache.zookeeper.server.RequestThrottler - RequestThrottler shutdown. Dropped 0 requests
19:53:31.914 [Time-limited test] INFO  org.apache.zookeeper.server.SessionTrackerImpl - Shutting down
19:53:31.914 [Time-limited test] INFO  org.apache.zookeeper.server.PrepRequestProcessor - Shutting down
19:53:31.914 [Time-limited test] INFO  org.apache.zookeeper.server.SyncRequestProcessor - Shutting down
19:53:31.914 [ProcessThread(sid:0 cport:34651):] INFO  org.apache.zookeeper.server.PrepRequestProcessor - PrepRequestProcessor exited loop!
19:53:31.914 [SyncThread:0] INFO  org.apache.zookeeper.server.SyncRequestProcessor - SyncRequestProcessor exited!
19:53:31.914 [Time-limited test] INFO  org.apache.zookeeper.server.FinalRequestProcessor - shutdown of request processor complete
19:53:31.915 [Time-limited test] INFO  org.apache.zookeeper.client.FourLetterWordMain - connecting to localhost 34651
19:53:31.917 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Tearing down test testLedgerCreateFails in 562 ms.
19:53:31.919 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Setting up test class org.apache.bookkeeper.client.MdcContextTest
19:53:31.919 [Time-limited test] INFO  org.apache.zookeeper.server.persistence.FileTxnSnapLog - zookeeper.snapshot.trust.empty : false
19:53:31.920 [Time-limited test] INFO  org.apache.zookeeper.server.watch.WatchManagerFactory - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
19:53:31.920 [Time-limited test] INFO  org.apache.zookeeper.server.watch.WatchManagerFactory - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
19:53:31.920 [Time-limited test] INFO  org.apache.zookeeper.server.ZKDatabase - zookeeper.snapshotSizeFactor = 0.33
19:53:31.920 [Time-limited test] INFO  org.apache.zookeeper.server.ZKDatabase - zookeeper.commitLogCount=500
19:53:31.920 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - minSessionTimeout set to 6000
19:53:31.920 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - maxSessionTimeout set to 60000
19:53:31.920 [Time-limited test] INFO  org.apache.zookeeper.server.ResponseCache - Response cache size is initialized with value 400.
19:53:31.920 [Time-limited test] INFO  org.apache.zookeeper.server.ResponseCache - Response cache size is initialized with value 400.
19:53:31.920 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.slotCapacity = 60
19:53:31.920 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.slotDuration = 15
19:53:31.920 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.maxDepth = 6
19:53:31.920 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.initialDelay = 5
19:53:31.920 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.delay = 5
19:53:31.920 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.enabled = false
19:53:31.920 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - The max bytes for all large requests are set to 104857600
19:53:31.920 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - The large request threshold is set to -1
19:53:31.920 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 clientPortListenBacklog -1 datadir /tmp/zookeeper4414251898515741138test/version-2 snapdir /tmp/zookeeper4414251898515741138test/version-2
19:53:31.920 [Time-limited test] WARN  org.apache.zookeeper.server.ServerCnxnFactory - maxCnxns is not configured, using default value 0.
19:53:31.920 [Time-limited test] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 4 worker threads, and 64 kB direct buffers.
19:53:31.920 [Time-limited test] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - binding to port /127.0.0.1:0
19:53:31.921 [Time-limited test] INFO  org.apache.zookeeper.server.persistence.FileTxnSnapLog - Snapshotting: 0x0 to /tmp/zookeeper4414251898515741138test/version-2/snapshot.0
19:53:31.921 [Time-limited test] INFO  org.apache.zookeeper.server.ZKDatabase - Snapshot loaded in 0 ms, highest zxid is 0x0, digest is 1371985504
19:53:31.921 [Time-limited test] INFO  org.apache.zookeeper.server.persistence.FileTxnSnapLog - Snapshotting: 0x0 to /tmp/zookeeper4414251898515741138test/version-2/snapshot.0
19:53:31.921 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - Snapshot taken in 0 ms
19:53:31.925 [Time-limited test] INFO  org.apache.zookeeper.client.FourLetterWordMain - connecting to localhost 35459
19:53:31.925 [BookieDeathWatcher-42907] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
19:53:31.925 [BookieDeathWatcher-42907] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-42907
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:304) ~[classes/:?]
19:53:31.926 [BookieDeathWatcher-42907] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:31.926 [BookieDeathWatcher-42907] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:31.926 [ProcessThread(sid:0 cport:35459):] INFO  org.apache.zookeeper.server.PrepRequestProcessor - PrepRequestProcessor (sid:0) started, reconfigEnabled=false
19:53:31.927 [NIOWorkerThread-1] INFO  org.apache.zookeeper.server.NIOServerCnxn - Processing stat command from /127.0.0.1:45996
19:53:31.927 [NIOWorkerThread-1] INFO  org.apache.zookeeper.server.command.AbstractFourLetterCommand - Stat command output
19:53:31.927 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:35459 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@40efb794
19:53:31.927 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:31.927 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:31.928 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:35459.
19:53:31.928 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:31.928 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:45998, server: localhost/127.0.0.1:35459
19:53:31.934 [SyncThread:0] INFO  org.apache.zookeeper.server.persistence.FileTxnLog - Creating new log file: log.1
19:53:31.937 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:35459, session id = 0x100011463780000, negotiated timeout = 10000
19:53:31.937 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:31.947 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35459/ledgers : zkServers = localhost:35459, ledgersRootPath = /ledgers.
19:53:31.947 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:35459 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@58d0767a
19:53:31.947 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:31.947 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:31.948 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:35459.
19:53:31.948 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:31.948 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:46000, server: localhost/127.0.0.1:35459
19:53:31.952 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:35459, session id = 0x100011463780001, negotiated timeout = 10000
19:53:31.952 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:31.953 [Time-limited test] ERROR org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver 
java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
	at org.apache.bookkeeper.net.ScriptBasedMapping$RawScriptBasedMapping.validateConf(ScriptBasedMapping.java:163) ~[classes/:?]
	at org.apache.bookkeeper.net.AbstractDNSToSwitchMapping.setConf(AbstractDNSToSwitchMapping.java:81) ~[classes/:?]
	at org.apache.bookkeeper.net.ScriptBasedMapping.setConf(ScriptBasedMapping.java:123) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:265) [classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:80) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.initializeEnsemblePlacementPolicy(BookKeeper.java:581) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:505) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeperTestClient.<init>(BookKeeperTestClient.java:51) [test-classes/:?]
	at org.apache.bookkeeper.test.BookKeeperClusterTestCase.startBKCluster(BookKeeperClusterTestCase.java:247) [test-classes/:?]
	at org.apache.bookkeeper.test.BookKeeperClusterTestCase.setUp(BookKeeperClusterTestCase.java:160) [test-classes/:?]
	at org.apache.bookkeeper.test.BookKeeperClusterTestCase.setUp(BookKeeperClusterTestCase.java:145) [test-classes/:?]
	at org.apache.bookkeeper.client.MdcContextTest.setUp(MdcContextTest.java:104) [test-classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_292]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292) [junit-4.12.jar:4.12]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:31.953 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
19:53:31.953 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Not weighted
19:53:31.954 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeper - Weighted ledger placement is not enabled
19:53:31.961 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Starting new bookie on port: 0
19:53:31.962 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - {
  "numReadWorkerThreads" : "0",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "tlsEnabledProtocols" : "[TLSv1.2, TLSv1.1]",
  "gcWaitTime" : "1000",
  "entryLogFilePreallocationEnabled" : "false",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "metadataServiceUri" : "zk://localhost:35459/ledgers",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "listeningInterface" : "lo",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore",
  "ledgerDirectories" : "/tmp/bookie8839158773578134133test",
  "diskUsageThreshold" : "0.999",
  "journalFormatVersionToWrite" : "5",
  "journalDirectories" : "/tmp/bookie8839158773578134133test",
  "journalFlushWhenQueueEmpty" : "true",
  "numAddWorkerThreads" : "0",
  "enableTaskExecutionStats" : "true",
  "allowLoopback" : "true",
  "preserveMdcForTaskExecution" : "true",
  "bookiePort" : "0",
  "allowEphemeralPorts" : "true",
  "diskUsageWarnThreshold" : "0.99",
  "readOnlyModeEnabled" : "true",
  "minUsableSizeForEntryLogCreation" : "9223372036854775807"
}
19:53:31.963 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Binding bookie-rpc endpoint to /127.0.0.1:0
19:53:31.965 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35459/ledgers : zkServers = localhost:35459, ledgersRootPath = /ledgers.
19:53:31.965 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:35459 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@818d782
19:53:31.965 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:31.965 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:31.973 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:35459.
19:53:31.973 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:31.973 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:46002, server: localhost/127.0.0.1:35459
19:53:31.974 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:35459, session id = 0x100011463780002, negotiated timeout = 10000
19:53:31.974 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:31.976 [Time-limited test] INFO  org.apache.bookkeeper.discover.ZKRegistrationManager - INSTANCEID not exists in zookeeper. Not considering it for data verification
19:53:31.979 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Stamping new cookies on all dirs [/tmp/bookie8839158773578134133test/current] [/tmp/bookie8839158773578134133test/current]
19:53:31.984 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
19:53:31.985 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie8839158773578134133test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:31.985 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
19:53:31.985 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexPersistenceMgr - openFileLimit = 20000
19:53:31.985 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexInMemPageMgr - maxDirectMemory = 1908932608, pageSize = 8192, pageLimit = 77674
19:53:31.986 [Time-limited test] INFO  org.apache.bookkeeper.bookie.ScanAndCompareGarbageCollector - Over Replicated Ledger Deletion : enabled=true, interval=86400000
19:53:31.986 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
19:53:31.986 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
19:53:31.990 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeperTestClient - Wait for 127.0.0.1:34673 to become writable
19:53:31.990 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished replaying journal in 0 ms.
19:53:31.991 [SyncThread-178-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:31.993 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished reading journal, starting bookie
19:53:31.997 [BookieJournal-34673] INFO  org.apache.bookkeeper.bookie.Journal - Starting journal on /tmp/bookie8839158773578134133test/current
19:53:31.997 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite Thread started
19:53:32.001 [BookieJournal-34673] INFO  org.apache.bookkeeper.bookie.JournalChannel - Opening journal /tmp/bookie8839158773578134133test/current/17ce3496ae2.txn
19:53:32.012 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:34673 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:34673, port=34673, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:32.013 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:34673
19:53:32.262 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - New bookie '127.0.0.1:34673' has been created.
19:53:32.263 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Starting new bookie on port: 0
19:53:32.263 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - {
  "diskUsageThreshold" : "0.999",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "minUsableSizeForEntryLogCreation" : "9223372036854775807",
  "metadataServiceUri" : "zk://localhost:35459/ledgers",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "enableTaskExecutionStats" : "true",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore",
  "journalFlushWhenQueueEmpty" : "true",
  "preserveMdcForTaskExecution" : "true",
  "gcWaitTime" : "1000",
  "readOnlyModeEnabled" : "true",
  "bookiePort" : "0",
  "listeningInterface" : "lo",
  "tlsEnabledProtocols" : "[TLSv1.2, TLSv1.1]",
  "numAddWorkerThreads" : "0",
  "entryLogFilePreallocationEnabled" : "false",
  "diskUsageWarnThreshold" : "0.99",
  "allowLoopback" : "true",
  "journalFormatVersionToWrite" : "5",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "ledgerDirectories" : "/tmp/bookie6452386217520728603test",
  "journalDirectories" : "/tmp/bookie6452386217520728603test",
  "numReadWorkerThreads" : "0",
  "allowEphemeralPorts" : "true"
}
19:53:32.265 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Binding bookie-rpc endpoint to /127.0.0.1:0
19:53:32.267 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35459/ledgers : zkServers = localhost:35459, ledgersRootPath = /ledgers.
19:53:32.267 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:35459 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@7c222e1d
19:53:32.267 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:32.267 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:32.268 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:35459.
19:53:32.268 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:32.268 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:46004, server: localhost/127.0.0.1:35459
19:53:32.270 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:35459, session id = 0x100011463780003, negotiated timeout = 10000
19:53:32.270 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:32.271 [Time-limited test] INFO  org.apache.bookkeeper.discover.ZKRegistrationManager - INSTANCEID not exists in zookeeper. Not considering it for data verification
19:53:32.276 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Stamping new cookies on all dirs [/tmp/bookie6452386217520728603test/current] [/tmp/bookie6452386217520728603test/current]
19:53:32.282 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
19:53:32.282 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie6452386217520728603test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:32.282 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
19:53:32.283 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexPersistenceMgr - openFileLimit = 20000
19:53:32.283 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexInMemPageMgr - maxDirectMemory = 1908932608, pageSize = 8192, pageLimit = 77674
19:53:32.284 [Time-limited test] INFO  org.apache.bookkeeper.bookie.ScanAndCompareGarbageCollector - Over Replicated Ledger Deletion : enabled=true, interval=86400000
19:53:32.284 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
19:53:32.284 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
19:53:32.288 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeperTestClient - Wait for 127.0.0.1:42345 to become writable
19:53:32.293 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished replaying journal in 1 ms.
19:53:32.293 [SyncThread-187-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:32.294 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished reading journal, starting bookie
19:53:32.296 [BookieJournal-42345] INFO  org.apache.bookkeeper.bookie.Journal - Starting journal on /tmp/bookie6452386217520728603test/current
19:53:32.300 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite Thread started
19:53:32.300 [BookieJournal-42345] INFO  org.apache.bookkeeper.bookie.JournalChannel - Opening journal /tmp/bookie6452386217520728603test/current/17ce3496c0d.txn
19:53:32.304 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:42345 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:42345, port=42345, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:32.305 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:42345
19:53:32.335 [BookieDeathWatcher-34439] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
19:53:32.335 [BookieDeathWatcher-34439] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-34439
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:304) ~[classes/:?]
19:53:32.335 [BookieDeathWatcher-34439] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:32.335 [BookieDeathWatcher-34439] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:32.521 [SessionTracker] INFO  org.apache.zookeeper.server.SessionTrackerImpl - SessionTrackerImpl exited loop!
19:53:32.521 [SessionTracker] INFO  org.apache.zookeeper.server.SessionTrackerImpl - SessionTrackerImpl exited loop!
19:53:32.554 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - New bookie '127.0.0.1:42345' has been created.
19:53:32.555 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Starting new bookie on port: 0
19:53:32.556 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - {
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "journalFormatVersionToWrite" : "5",
  "entryLogFilePreallocationEnabled" : "false",
  "diskUsageWarnThreshold" : "0.99",
  "tlsEnabledProtocols" : "[TLSv1.2, TLSv1.1]",
  "preserveMdcForTaskExecution" : "true",
  "enableTaskExecutionStats" : "true",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "listeningInterface" : "lo",
  "bookiePort" : "0",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore",
  "allowEphemeralPorts" : "true",
  "metadataServiceUri" : "zk://localhost:35459/ledgers",
  "journalFlushWhenQueueEmpty" : "true",
  "numAddWorkerThreads" : "0",
  "diskUsageThreshold" : "0.999",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "gcWaitTime" : "1000",
  "ledgerDirectories" : "/tmp/bookie608886319783919354test",
  "readOnlyModeEnabled" : "true",
  "allowLoopback" : "true",
  "numReadWorkerThreads" : "0",
  "minUsableSizeForEntryLogCreation" : "9223372036854775807",
  "journalDirectories" : "/tmp/bookie608886319783919354test"
}
19:53:32.557 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Binding bookie-rpc endpoint to /127.0.0.1:0
19:53:32.559 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35459/ledgers : zkServers = localhost:35459, ledgersRootPath = /ledgers.
19:53:32.559 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:35459 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@79efa95a
19:53:32.559 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:32.559 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:32.560 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:35459.
19:53:32.560 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:32.560 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:46006, server: localhost/127.0.0.1:35459
19:53:32.562 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:35459, session id = 0x100011463780004, negotiated timeout = 10000
19:53:32.562 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:32.563 [Time-limited test] INFO  org.apache.bookkeeper.discover.ZKRegistrationManager - INSTANCEID not exists in zookeeper. Not considering it for data verification
19:53:32.567 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Stamping new cookies on all dirs [/tmp/bookie608886319783919354test/current] [/tmp/bookie608886319783919354test/current]
19:53:32.571 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
19:53:32.571 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie608886319783919354test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:32.571 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
19:53:32.572 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexPersistenceMgr - openFileLimit = 20000
19:53:32.572 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexInMemPageMgr - maxDirectMemory = 1908932608, pageSize = 8192, pageLimit = 77674
19:53:32.573 [Time-limited test] INFO  org.apache.bookkeeper.bookie.ScanAndCompareGarbageCollector - Over Replicated Ledger Deletion : enabled=true, interval=86400000
19:53:32.573 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
19:53:32.573 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
19:53:32.575 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeperTestClient - Wait for 127.0.0.1:40255 to become writable
19:53:32.576 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished replaying journal in 0 ms.
19:53:32.576 [SyncThread-196-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:32.577 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished reading journal, starting bookie
19:53:32.578 [BookieJournal-40255] INFO  org.apache.bookkeeper.bookie.Journal - Starting journal on /tmp/bookie608886319783919354test/current
19:53:32.582 [BookieJournal-40255] INFO  org.apache.bookkeeper.bookie.JournalChannel - Opening journal /tmp/bookie608886319783919354test/current/17ce3496d27.txn
19:53:32.582 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite Thread started
19:53:32.587 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:40255 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:40255, port=40255, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:32.588 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:40255
19:53:32.633 [BookieDeathWatcher-41747] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
19:53:32.633 [BookieDeathWatcher-41747] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-41747
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:304) ~[classes/:?]
19:53:32.633 [BookieDeathWatcher-41747] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:32.633 [BookieDeathWatcher-41747] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:32.837 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - New bookie '127.0.0.1:40255' has been created.
19:53:32.838 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Setup testcase testReadFromDeletedLedger @ metadata service zk://localhost:35459/ledgers in 918 ms.
19:53:32.842 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:35459/ledgers : zkServers = localhost:35459, ledgersRootPath = /ledgers.
19:53:32.842 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:35459 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@4baaf890
19:53:32.842 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:32.842 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:32.845 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:35459.
19:53:32.845 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:32.845 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:46008, server: localhost/127.0.0.1:35459
19:53:32.847 [Time-limited test-SendThread(localhost:35459)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:35459, session id = 0x100011463780005, negotiated timeout = 10000
19:53:32.847 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:32.848 [Time-limited test] ERROR org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver 
java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
	at org.apache.bookkeeper.net.ScriptBasedMapping$RawScriptBasedMapping.validateConf(ScriptBasedMapping.java:163) ~[classes/:?]
	at org.apache.bookkeeper.net.AbstractDNSToSwitchMapping.setConf(AbstractDNSToSwitchMapping.java:81) ~[classes/:?]
	at org.apache.bookkeeper.net.ScriptBasedMapping.setConf(ScriptBasedMapping.java:123) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:265) [classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:80) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.initializeEnsemblePlacementPolicy(BookKeeper.java:581) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:505) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:344) [classes/:?]
	at org.apache.bookkeeper.client.MdcContextTest.setUp(MdcContextTest.java:111) [test-classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_292]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292) [junit-4.12.jar:4.12]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:32.848 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
19:53:32.848 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Not weighted
19:53:32.848 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeper - Weighted ledger placement is not enabled
19:53:32.850 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:34673 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:34673, port=34673, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:32.850 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:40255 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:40255, port=40255, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:32.850 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:42345 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:42345, port=42345, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:32.851 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:34673
19:53:32.851 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:42345
19:53:32.851 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:40255
19:53:32.851 [Time-limited test] INFO  org.apache.bookkeeper.client.MdcContextTest - creating ledger
19:53:32.852 [Time-limited test] WARN  org.apache.bookkeeper.client.BookieWatcherImpl - New ensemble: [127.0.0.1:34673, 127.0.0.1:42345, 127.0.0.1:40255] is not adhering to Placement Policy. quarantinedBookies: []
19:53:32.860 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.client.LedgerCreateOp - Ensemble: [127.0.0.1:34673, 127.0.0.1:42345, 127.0.0.1:40255] for ledger: 0
19:53:32.870 [bookkeeper-io-202-2] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Successfully connected to bookie: 127.0.0.1:42345 [id: 0x5efc15e9, L:/127.0.0.1:39032 - R:127.0.0.1/127.0.0.1:42345]
19:53:32.871 [bookkeeper-io-202-2] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - connection [id: 0x5efc15e9, L:/127.0.0.1:39032 - R:127.0.0.1/127.0.0.1:42345] authenticated as BookKeeperPrincipal{ANONYMOUS}
19:53:32.884 [bookkeeper-io-202-1] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Successfully connected to bookie: 127.0.0.1:34673 [id: 0x531eeb57, L:/127.0.0.1:41410 - R:127.0.0.1/127.0.0.1:34673]
19:53:32.884 [bookie-io-182-2] INFO  org.apache.bookkeeper.proto.AuthHandler - Authentication success on server side
19:53:32.887 [bookkeeper-io-202-3] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Successfully connected to bookie: 127.0.0.1:40255 [id: 0x95b33b8d, L:/127.0.0.1:51754 - R:127.0.0.1/127.0.0.1:40255]
19:53:32.888 [bookkeeper-io-202-3] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - connection [id: 0x95b33b8d, L:/127.0.0.1:51754 - R:127.0.0.1/127.0.0.1:40255] authenticated as BookKeeperPrincipal{ANONYMOUS}
19:53:32.888 [bookie-io-173-2] INFO  org.apache.bookkeeper.proto.AuthHandler - Authentication success on server side
19:53:32.889 [bookie-io-173-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channel connected  [id: 0x8e9dd308, L:/127.0.0.1:34673 - R:/127.0.0.1:41410]
19:53:32.891 [bookie-io-182-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channel connected  [id: 0xf8f88d88, L:/127.0.0.1:42345 - R:/127.0.0.1:39032]
19:53:32.890 [bookkeeper-io-202-1] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - connection [id: 0x531eeb57, L:/127.0.0.1:41410 - R:127.0.0.1/127.0.0.1:34673] authenticated as BookKeeperPrincipal{ANONYMOUS}
19:53:32.892 [bookie-io-173-2] INFO  org.apache.bookkeeper.bookie.EntryLogManagerBase - Creating a new entry log file because current active log channel has not initialized yet
19:53:32.892 [bookie-io-182-2] INFO  org.apache.bookkeeper.bookie.EntryLogManagerBase - Creating a new entry log file because current active log channel has not initialized yet
19:53:32.892 [bookie-io-173-2] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Created new entry log file /tmp/bookie8839158773578134133test/current/0.log for logId 0.
19:53:32.895 [bookie-io-182-2] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Created new entry log file /tmp/bookie6452386217520728603test/current/0.log for logId 0.
19:53:32.898 [bookie-io-191-2] INFO  org.apache.bookkeeper.proto.AuthHandler - Authentication success on server side
19:53:32.903 [bookie-io-191-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channel connected  [id: 0xb51991f0, L:/127.0.0.1:40255 - R:/127.0.0.1:51754]
19:53:32.903 [bookie-io-191-2] INFO  org.apache.bookkeeper.bookie.EntryLogManagerBase - Creating a new entry log file because current active log channel has not initialized yet
19:53:32.904 [bookie-io-191-2] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Created new entry log file /tmp/bookie608886319783919354test/current/0.log for logId 0.
19:53:32.953 [Time-limited test] ERROR org.apache.bookkeeper.client.LedgerHandle - ReadEntries exception on ledgerId:0 firstEntry:100 lastEntry:100 lastAddConfirmed:0
19:53:32.954 [Time-limited test] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Closing the per channel bookie client for 127.0.0.1:34673
19:53:32.955 [bookkeeper-io-202-1] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Disconnected from bookie channel [id: 0x531eeb57, L:/127.0.0.1:41410 ! R:127.0.0.1/127.0.0.1:34673]
19:53:32.955 [bookie-io-173-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channels disconnected: [id: 0x8e9dd308, L:/127.0.0.1:34673 ! R:/127.0.0.1:41410]
19:53:32.956 [Time-limited test] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Closing the per channel bookie client for 127.0.0.1:42345
19:53:32.956 [Time-limited test] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Closing the per channel bookie client for 127.0.0.1:40255
19:53:32.956 [bookkeeper-io-202-2] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Disconnected from bookie channel [id: 0x5efc15e9, L:/127.0.0.1:39032 ! R:127.0.0.1/127.0.0.1:42345]
19:53:32.956 [bookie-io-182-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channels disconnected: [id: 0xf8f88d88, L:/127.0.0.1:42345 ! R:/127.0.0.1:39032]
19:53:32.956 [bookkeeper-io-202-3] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Disconnected from bookie channel [id: 0x95b33b8d, L:/127.0.0.1:51754 ! R:127.0.0.1/127.0.0.1:40255]
19:53:32.957 [bookie-io-191-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channels disconnected: [id: 0xb51991f0, L:/127.0.0.1:40255 ! R:/127.0.0.1:51754]
19:53:32.959 [Time-limited test-SendThread(localhost:35459)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x100011463780005.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x100011463780005, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:33.060 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x100011463780005 closed
19:53:33.061 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - TearDown
19:53:33.061 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x100011463780005
19:53:33.166 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x100011463780001 closed
19:53:33.166 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:33.166 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:33.167 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x100011463780001
19:53:33.167 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-34673 with exitCode 0
19:53:33.167 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:33.167 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:33.169 [SyncThread-178-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1635900812002 , logFileOffset - 1024]}.
19:53:33.178 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:33.178 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:33.179 [BookieJournal-34673] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:33.179 [BookieJournal-34673] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:33.179 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:33.179 [Bookie-34673] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:33.179 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:33.179 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:33.179 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:33.179 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:33.179 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:33.180 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:33.180 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:33.180 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:33.180 [pool-126-thread-1] ERROR org.apache.zookeeper.server.NIOServerCnxnFactory - Thread Thread[pool-126-thread-1,5,FailOnTimeoutGroup] died
java.lang.NullPointerException: null
	at org.apache.bookkeeper.bookie.EntryLoggerAllocator.closePreAllocateLog(EntryLoggerAllocator.java:191) ~[classes/:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:33.287 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x100011463780002 closed
19:53:33.287 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:33.287 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:33.288 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x100011463780002
19:53:33.290 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-42345 with exitCode 0
19:53:33.290 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:33.290 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:33.302 [SyncThread-187-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1635900812301 , logFileOffset - 1536]}.
19:53:33.311 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:33.311 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:33.311 [BookieJournal-42345] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:33.311 [BookieJournal-42345] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:33.311 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:33.311 [Bookie-42345] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:33.311 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:33.311 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:33.311 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:33.311 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:33.311 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:33.312 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:33.312 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:33.312 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:33.312 [pool-132-thread-1] ERROR org.apache.zookeeper.server.NIOServerCnxnFactory - Thread Thread[pool-132-thread-1,5,FailOnTimeoutGroup] died
java.lang.NullPointerException: null
	at org.apache.bookkeeper.bookie.EntryLoggerAllocator.closePreAllocateLog(EntryLoggerAllocator.java:191) ~[classes/:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:33.319 [Time-limited test-SendThread(localhost:35459)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x100011463780003.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x100011463780003, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:33.420 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x100011463780003 closed
19:53:33.420 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:33.420 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:33.420 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x100011463780003
19:53:33.421 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-40255 with exitCode 0
19:53:33.421 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:33.421 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:33.436 [SyncThread-196-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1635900812583 , logFileOffset - 1024]}.
19:53:33.445 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:33.446 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:33.446 [BookieJournal-40255] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:33.446 [BookieJournal-40255] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:33.446 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:33.446 [Bookie-40255] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:33.446 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:33.446 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:33.446 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:33.446 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:33.446 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:33.447 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:33.447 [pool-138-thread-1] ERROR org.apache.zookeeper.server.NIOServerCnxnFactory - Thread Thread[pool-138-thread-1,5,FailOnTimeoutGroup] died
java.lang.NullPointerException: null
	at org.apache.bookkeeper.bookie.EntryLoggerAllocator.closePreAllocateLog(EntryLoggerAllocator.java:191) ~[classes/:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:33.452 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:33.452 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:33.456 [Time-limited test-SendThread(localhost:35459)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x100011463780004.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x100011463780004, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:33.556 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x100011463780004 closed
19:53:33.557 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x100011463780004
19:53:33.558 [Time-limited test-SendThread(localhost:35459)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x100011463780000.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x100011463780000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:33.588 [BookieDeathWatcher-40255] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
19:53:33.588 [BookieDeathWatcher-40255] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-40255
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:304) ~[classes/:?]
19:53:33.588 [BookieDeathWatcher-40255] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:33.588 [BookieDeathWatcher-40255] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:33.659 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x100011463780000 closed
19:53:33.659 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x100011463780000
19:53:33.659 [ConnnectionExpirer] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - ConnnectionExpirerThread interrupted
19:53:33.659 [NIOServerCxnFactory.SelectorThread-0] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - selector thread exitted run method
19:53:33.660 [NIOServerCxnFactory.AcceptThread:/127.0.0.1:0] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - accept thread exitted run method
19:53:33.661 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - shutting down
19:53:33.661 [Time-limited test] INFO  org.apache.zookeeper.server.RequestThrottler - Shutting down
19:53:33.661 [RequestThrottler] INFO  org.apache.zookeeper.server.RequestThrottler - Draining request throttler queue
19:53:33.661 [RequestThrottler] INFO  org.apache.zookeeper.server.RequestThrottler - RequestThrottler shutdown. Dropped 0 requests
19:53:33.661 [Time-limited test] INFO  org.apache.zookeeper.server.SessionTrackerImpl - Shutting down
19:53:33.661 [Time-limited test] INFO  org.apache.zookeeper.server.PrepRequestProcessor - Shutting down
19:53:33.661 [Time-limited test] INFO  org.apache.zookeeper.server.SyncRequestProcessor - Shutting down
19:53:33.661 [ProcessThread(sid:0 cport:35459):] INFO  org.apache.zookeeper.server.PrepRequestProcessor - PrepRequestProcessor exited loop!
19:53:33.661 [SyncThread:0] INFO  org.apache.zookeeper.server.SyncRequestProcessor - SyncRequestProcessor exited!
19:53:33.661 [Time-limited test] INFO  org.apache.zookeeper.server.FinalRequestProcessor - shutdown of request processor complete
19:53:33.662 [Time-limited test] INFO  org.apache.zookeeper.client.FourLetterWordMain - connecting to localhost 35459
19:53:33.664 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Tearing down test testReadFromDeletedLedger in 602 ms.
19:53:33.666 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Setting up test class org.apache.bookkeeper.client.MdcContextTest
19:53:33.666 [Time-limited test] INFO  org.apache.zookeeper.server.persistence.FileTxnSnapLog - zookeeper.snapshot.trust.empty : false
19:53:33.666 [Time-limited test] INFO  org.apache.zookeeper.server.watch.WatchManagerFactory - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
19:53:33.666 [Time-limited test] INFO  org.apache.zookeeper.server.watch.WatchManagerFactory - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
19:53:33.666 [Time-limited test] INFO  org.apache.zookeeper.server.ZKDatabase - zookeeper.snapshotSizeFactor = 0.33
19:53:33.666 [Time-limited test] INFO  org.apache.zookeeper.server.ZKDatabase - zookeeper.commitLogCount=500
19:53:33.666 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - minSessionTimeout set to 6000
19:53:33.666 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - maxSessionTimeout set to 60000
19:53:33.666 [Time-limited test] INFO  org.apache.zookeeper.server.ResponseCache - Response cache size is initialized with value 400.
19:53:33.666 [Time-limited test] INFO  org.apache.zookeeper.server.ResponseCache - Response cache size is initialized with value 400.
19:53:33.666 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.slotCapacity = 60
19:53:33.666 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.slotDuration = 15
19:53:33.666 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.maxDepth = 6
19:53:33.666 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.initialDelay = 5
19:53:33.666 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.delay = 5
19:53:33.666 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.enabled = false
19:53:33.666 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - The max bytes for all large requests are set to 104857600
19:53:33.666 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - The large request threshold is set to -1
19:53:33.666 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 clientPortListenBacklog -1 datadir /tmp/zookeeper4772043095635159080test/version-2 snapdir /tmp/zookeeper4772043095635159080test/version-2
19:53:33.666 [Time-limited test] WARN  org.apache.zookeeper.server.ServerCnxnFactory - maxCnxns is not configured, using default value 0.
19:53:33.667 [Time-limited test] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 4 worker threads, and 64 kB direct buffers.
19:53:33.667 [Time-limited test] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - binding to port /127.0.0.1:0
19:53:33.667 [Time-limited test] INFO  org.apache.zookeeper.server.persistence.FileTxnSnapLog - Snapshotting: 0x0 to /tmp/zookeeper4772043095635159080test/version-2/snapshot.0
19:53:33.667 [Time-limited test] INFO  org.apache.zookeeper.server.ZKDatabase - Snapshot loaded in 0 ms, highest zxid is 0x0, digest is 1371985504
19:53:33.667 [Time-limited test] INFO  org.apache.zookeeper.server.persistence.FileTxnSnapLog - Snapshotting: 0x0 to /tmp/zookeeper4772043095635159080test/version-2/snapshot.0
19:53:33.668 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - Snapshot taken in 1 ms
19:53:33.669 [Time-limited test] INFO  org.apache.zookeeper.client.FourLetterWordMain - connecting to localhost 43067
19:53:33.673 [ProcessThread(sid:0 cport:43067):] INFO  org.apache.zookeeper.server.PrepRequestProcessor - PrepRequestProcessor (sid:0) started, reconfigEnabled=false
19:53:33.673 [NIOWorkerThread-1] INFO  org.apache.zookeeper.server.NIOServerCnxn - Processing stat command from /127.0.0.1:52420
19:53:33.673 [NIOWorkerThread-1] INFO  org.apache.zookeeper.server.command.AbstractFourLetterCommand - Stat command output
19:53:33.674 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:43067 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@26d5246a
19:53:33.674 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:33.674 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:33.677 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:43067.
19:53:33.677 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:33.677 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:52422, server: localhost/127.0.0.1:43067
19:53:33.677 [SyncThread:0] INFO  org.apache.zookeeper.server.persistence.FileTxnLog - Creating new log file: log.1
19:53:33.681 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:43067, session id = 0x10001146a4b0000, negotiated timeout = 10000
19:53:33.681 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:33.689 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:43067/ledgers : zkServers = localhost:43067, ledgersRootPath = /ledgers.
19:53:33.689 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:43067 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@3ddbe016
19:53:33.689 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:33.689 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:33.693 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:43067.
19:53:33.693 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:33.693 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:52424, server: localhost/127.0.0.1:43067
19:53:33.694 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:43067, session id = 0x10001146a4b0001, negotiated timeout = 10000
19:53:33.694 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:33.695 [Time-limited test] ERROR org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver 
java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
	at org.apache.bookkeeper.net.ScriptBasedMapping$RawScriptBasedMapping.validateConf(ScriptBasedMapping.java:163) ~[classes/:?]
	at org.apache.bookkeeper.net.AbstractDNSToSwitchMapping.setConf(AbstractDNSToSwitchMapping.java:81) ~[classes/:?]
	at org.apache.bookkeeper.net.ScriptBasedMapping.setConf(ScriptBasedMapping.java:123) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:265) [classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:80) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.initializeEnsemblePlacementPolicy(BookKeeper.java:581) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:505) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeperTestClient.<init>(BookKeeperTestClient.java:51) [test-classes/:?]
	at org.apache.bookkeeper.test.BookKeeperClusterTestCase.startBKCluster(BookKeeperClusterTestCase.java:247) [test-classes/:?]
	at org.apache.bookkeeper.test.BookKeeperClusterTestCase.setUp(BookKeeperClusterTestCase.java:160) [test-classes/:?]
	at org.apache.bookkeeper.test.BookKeeperClusterTestCase.setUp(BookKeeperClusterTestCase.java:145) [test-classes/:?]
	at org.apache.bookkeeper.client.MdcContextTest.setUp(MdcContextTest.java:104) [test-classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_292]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292) [junit-4.12.jar:4.12]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:33.695 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
19:53:33.696 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Not weighted
19:53:33.696 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeper - Weighted ledger placement is not enabled
19:53:33.701 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Starting new bookie on port: 0
19:53:33.701 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - {
  "tlsEnabledProtocols" : "[TLSv1.2, TLSv1.1]",
  "journalFlushWhenQueueEmpty" : "true",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "journalDirectories" : "/tmp/bookie6285039923079989412test",
  "entryLogFilePreallocationEnabled" : "false",
  "bookiePort" : "0",
  "numAddWorkerThreads" : "0",
  "metadataServiceUri" : "zk://localhost:43067/ledgers",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore",
  "readOnlyModeEnabled" : "true",
  "allowLoopback" : "true",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "gcWaitTime" : "1000",
  "ledgerDirectories" : "/tmp/bookie6285039923079989412test",
  "preserveMdcForTaskExecution" : "true",
  "allowEphemeralPorts" : "true",
  "diskUsageWarnThreshold" : "0.99",
  "diskUsageThreshold" : "0.999",
  "enableTaskExecutionStats" : "true",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "numReadWorkerThreads" : "0",
  "listeningInterface" : "lo",
  "journalFormatVersionToWrite" : "5",
  "minUsableSizeForEntryLogCreation" : "9223372036854775807"
}
19:53:33.703 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Binding bookie-rpc endpoint to /127.0.0.1:0
19:53:33.704 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:43067/ledgers : zkServers = localhost:43067, ledgersRootPath = /ledgers.
19:53:33.704 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:43067 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@3cd7f599
19:53:33.704 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:33.704 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:33.708 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:43067.
19:53:33.708 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:33.709 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:52426, server: localhost/127.0.0.1:43067
19:53:33.710 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:43067, session id = 0x10001146a4b0002, negotiated timeout = 10000
19:53:33.713 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:33.714 [Time-limited test] INFO  org.apache.bookkeeper.discover.ZKRegistrationManager - INSTANCEID not exists in zookeeper. Not considering it for data verification
19:53:33.718 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Stamping new cookies on all dirs [/tmp/bookie6285039923079989412test/current] [/tmp/bookie6285039923079989412test/current]
19:53:33.722 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
19:53:33.722 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie6285039923079989412test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:33.722 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
19:53:33.722 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexPersistenceMgr - openFileLimit = 20000
19:53:33.723 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexInMemPageMgr - maxDirectMemory = 1908932608, pageSize = 8192, pageLimit = 77674
19:53:33.723 [Time-limited test] INFO  org.apache.bookkeeper.bookie.ScanAndCompareGarbageCollector - Over Replicated Ledger Deletion : enabled=true, interval=86400000
19:53:33.723 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
19:53:33.723 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
19:53:33.735 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeperTestClient - Wait for 127.0.0.1:46029 to become writable
19:53:33.736 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished replaying journal in 0 ms.
19:53:33.736 [SyncThread-217-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:33.737 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished reading journal, starting bookie
19:53:33.738 [BookieJournal-46029] INFO  org.apache.bookkeeper.bookie.Journal - Starting journal on /tmp/bookie6285039923079989412test/current
19:53:33.741 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite Thread started
19:53:33.741 [BookieJournal-46029] INFO  org.apache.bookkeeper.bookie.JournalChannel - Opening journal /tmp/bookie6285039923079989412test/current/17ce34971ab.txn
19:53:33.749 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:46029 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:46029, port=46029, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:33.750 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:46029
19:53:33.999 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - New bookie '127.0.0.1:46029' has been created.
19:53:34.000 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Starting new bookie on port: 0
19:53:34.000 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - {
  "enableTaskExecutionStats" : "true",
  "bookiePort" : "0",
  "journalFormatVersionToWrite" : "5",
  "journalFlushWhenQueueEmpty" : "true",
  "ledgerDirectories" : "/tmp/bookie8873309142781519004test",
  "diskUsageWarnThreshold" : "0.99",
  "entryLogFilePreallocationEnabled" : "false",
  "listeningInterface" : "lo",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "readOnlyModeEnabled" : "true",
  "tlsEnabledProtocols" : "[TLSv1.2, TLSv1.1]",
  "metadataServiceUri" : "zk://localhost:43067/ledgers",
  "diskUsageThreshold" : "0.999",
  "allowEphemeralPorts" : "true",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "preserveMdcForTaskExecution" : "true",
  "gcWaitTime" : "1000",
  "numAddWorkerThreads" : "0",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore",
  "minUsableSizeForEntryLogCreation" : "9223372036854775807",
  "allowLoopback" : "true",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "numReadWorkerThreads" : "0",
  "journalDirectories" : "/tmp/bookie8873309142781519004test"
}
19:53:34.002 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Binding bookie-rpc endpoint to /127.0.0.1:0
19:53:34.003 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:43067/ledgers : zkServers = localhost:43067, ledgersRootPath = /ledgers.
19:53:34.003 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:43067 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@67c2eeb0
19:53:34.003 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:34.003 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:34.004 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:43067.
19:53:34.004 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:34.004 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:52428, server: localhost/127.0.0.1:43067
19:53:34.005 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:43067, session id = 0x10001146a4b0003, negotiated timeout = 10000
19:53:34.006 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:34.008 [Time-limited test] INFO  org.apache.bookkeeper.discover.ZKRegistrationManager - INSTANCEID not exists in zookeeper. Not considering it for data verification
19:53:34.012 [BookieDeathWatcher-34673] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
19:53:34.012 [BookieDeathWatcher-34673] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-34673
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:304) ~[classes/:?]
19:53:34.012 [BookieDeathWatcher-34673] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:34.012 [BookieDeathWatcher-34673] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:34.013 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Stamping new cookies on all dirs [/tmp/bookie8873309142781519004test/current] [/tmp/bookie8873309142781519004test/current]
19:53:34.021 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
19:53:34.022 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie8873309142781519004test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:34.022 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
19:53:34.022 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexPersistenceMgr - openFileLimit = 20000
19:53:34.022 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexInMemPageMgr - maxDirectMemory = 1908932608, pageSize = 8192, pageLimit = 77674
19:53:34.022 [Time-limited test] INFO  org.apache.bookkeeper.bookie.ScanAndCompareGarbageCollector - Over Replicated Ledger Deletion : enabled=true, interval=86400000
19:53:34.022 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
19:53:34.022 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
19:53:34.026 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeperTestClient - Wait for 127.0.0.1:45335 to become writable
19:53:34.026 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished replaying journal in 0 ms.
19:53:34.027 [SyncThread-226-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:34.028 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished reading journal, starting bookie
19:53:34.033 [BookieJournal-45335] INFO  org.apache.bookkeeper.bookie.Journal - Starting journal on /tmp/bookie8873309142781519004test/current
19:53:34.033 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite Thread started
19:53:34.033 [BookieJournal-45335] INFO  org.apache.bookkeeper.bookie.JournalChannel - Opening journal /tmp/bookie8873309142781519004test/current/17ce34972d2.txn
19:53:34.038 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:45335 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:45335, port=45335, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:34.038 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:45335
19:53:34.287 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - New bookie '127.0.0.1:45335' has been created.
19:53:34.288 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Starting new bookie on port: 0
19:53:34.290 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - {
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "bookiePort" : "0",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "metadataServiceUri" : "zk://localhost:43067/ledgers",
  "minUsableSizeForEntryLogCreation" : "9223372036854775807",
  "journalDirectories" : "/tmp/bookie4024360682904196356test",
  "entryLogFilePreallocationEnabled" : "false",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore",
  "diskUsageWarnThreshold" : "0.99",
  "numReadWorkerThreads" : "0",
  "listeningInterface" : "lo",
  "enableTaskExecutionStats" : "true",
  "preserveMdcForTaskExecution" : "true",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "ledgerDirectories" : "/tmp/bookie4024360682904196356test",
  "diskUsageThreshold" : "0.999",
  "allowEphemeralPorts" : "true",
  "gcWaitTime" : "1000",
  "journalFlushWhenQueueEmpty" : "true",
  "allowLoopback" : "true",
  "journalFormatVersionToWrite" : "5",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "numAddWorkerThreads" : "0",
  "tlsEnabledProtocols" : "[TLSv1.2, TLSv1.1]",
  "readOnlyModeEnabled" : "true"
}
19:53:34.291 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Binding bookie-rpc endpoint to /127.0.0.1:0
19:53:34.292 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:43067/ledgers : zkServers = localhost:43067, ledgersRootPath = /ledgers.
19:53:34.292 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:43067 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@7572ac37
19:53:34.292 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:34.292 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:34.294 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:43067.
19:53:34.294 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:34.294 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:52430, server: localhost/127.0.0.1:43067
19:53:34.296 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:43067, session id = 0x10001146a4b0004, negotiated timeout = 10000
19:53:34.296 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:34.297 [Time-limited test] INFO  org.apache.bookkeeper.discover.ZKRegistrationManager - INSTANCEID not exists in zookeeper. Not considering it for data verification
19:53:34.302 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Stamping new cookies on all dirs [/tmp/bookie4024360682904196356test/current] [/tmp/bookie4024360682904196356test/current]
19:53:34.304 [BookieDeathWatcher-42345] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
19:53:34.304 [BookieDeathWatcher-42345] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-42345
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:304) ~[classes/:?]
19:53:34.305 [BookieDeathWatcher-42345] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:34.305 [BookieDeathWatcher-42345] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:34.307 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
19:53:34.309 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie4024360682904196356test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:34.309 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
19:53:34.310 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexPersistenceMgr - openFileLimit = 20000
19:53:34.310 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexInMemPageMgr - maxDirectMemory = 1908932608, pageSize = 8192, pageLimit = 77674
19:53:34.310 [Time-limited test] INFO  org.apache.bookkeeper.bookie.ScanAndCompareGarbageCollector - Over Replicated Ledger Deletion : enabled=true, interval=86400000
19:53:34.310 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
19:53:34.310 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
19:53:34.316 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeperTestClient - Wait for 127.0.0.1:45863 to become writable
19:53:34.317 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished replaying journal in 0 ms.
19:53:34.319 [SyncThread-235-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:34.321 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished reading journal, starting bookie
19:53:34.321 [BookieJournal-45863] INFO  org.apache.bookkeeper.bookie.Journal - Starting journal on /tmp/bookie4024360682904196356test/current
19:53:34.325 [BookieJournal-45863] INFO  org.apache.bookkeeper.bookie.JournalChannel - Opening journal /tmp/bookie4024360682904196356test/current/17ce34973f6.txn
19:53:34.326 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite Thread started
19:53:34.332 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:45863 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:45863, port=45863, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:34.333 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:45863
19:53:34.582 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - New bookie '127.0.0.1:45863' has been created.
19:53:34.583 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Setup testcase testAddFailsWithReadOnlyBookie @ metadata service zk://localhost:43067/ledgers in 917 ms.
19:53:34.585 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:43067/ledgers : zkServers = localhost:43067, ledgersRootPath = /ledgers.
19:53:34.585 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:43067 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@12455886
19:53:34.585 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:34.585 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:34.590 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:43067.
19:53:34.590 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:34.590 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:52432, server: localhost/127.0.0.1:43067
19:53:34.591 [Time-limited test-SendThread(localhost:43067)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:43067, session id = 0x10001146a4b0005, negotiated timeout = 10000
19:53:34.591 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:34.593 [Time-limited test] ERROR org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver 
java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
	at org.apache.bookkeeper.net.ScriptBasedMapping$RawScriptBasedMapping.validateConf(ScriptBasedMapping.java:163) ~[classes/:?]
	at org.apache.bookkeeper.net.AbstractDNSToSwitchMapping.setConf(AbstractDNSToSwitchMapping.java:81) ~[classes/:?]
	at org.apache.bookkeeper.net.ScriptBasedMapping.setConf(ScriptBasedMapping.java:123) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:265) [classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:80) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.initializeEnsemblePlacementPolicy(BookKeeper.java:581) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:505) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:344) [classes/:?]
	at org.apache.bookkeeper.client.MdcContextTest.setUp(MdcContextTest.java:111) [test-classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_292]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292) [junit-4.12.jar:4.12]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:34.593 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
19:53:34.593 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Not weighted
19:53:34.593 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeper - Weighted ledger placement is not enabled
19:53:34.595 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:45335 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:45335, port=45335, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:34.595 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:46029 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:46029, port=46029, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:34.595 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:45863 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:45863, port=45863, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:34.595 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:45863
19:53:34.595 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:46029
19:53:34.596 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:45335
19:53:34.596 [Time-limited test] INFO  org.apache.bookkeeper.client.MdcContextTest - creating ledger
19:53:34.596 [Time-limited test] WARN  org.apache.bookkeeper.client.BookieWatcherImpl - New ensemble: [127.0.0.1:45863, 127.0.0.1:46029, 127.0.0.1:45335] is not adhering to Placement Policy. quarantinedBookies: []
19:53:34.606 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.client.LedgerCreateOp - Ensemble: [127.0.0.1:45863, 127.0.0.1:46029, 127.0.0.1:45335] for ledger: 0
19:53:34.610 [Time-limited test] WARN  org.apache.bookkeeper.bookie.LedgerDirsManager - /tmp/bookie6285039923079989412test/current is out of space. Adding it to filled dirs list
19:53:34.610 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Suspend Major Compaction triggered by thread: Time-limited test
19:53:34.610 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Suspend Minor Compaction triggered by thread: Time-limited test
19:53:34.610 [Time-limited test] WARN  org.apache.bookkeeper.bookie.LedgerDirsManager - /tmp/bookie8873309142781519004test/current is out of space. Adding it to filled dirs list
19:53:34.610 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Suspend Major Compaction triggered by thread: Time-limited test
19:53:34.611 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Suspend Minor Compaction triggered by thread: Time-limited test
19:53:34.611 [Time-limited test] WARN  org.apache.bookkeeper.bookie.LedgerDirsManager - /tmp/bookie4024360682904196356test/current is out of space. Adding it to filled dirs list
19:53:34.611 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Suspend Major Compaction triggered by thread: Time-limited test
19:53:34.611 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Suspend Minor Compaction triggered by thread: Time-limited test
19:53:34.616 [bookkeeper-io-241-1] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Successfully connected to bookie: 127.0.0.1:45863 [id: 0x8da72a87, L:/127.0.0.1:37350 - R:127.0.0.1/127.0.0.1:45863]
19:53:34.618 [bookie-io-230-2] INFO  org.apache.bookkeeper.proto.AuthHandler - Authentication success on server side
19:53:34.624 [bookkeeper-io-241-2] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Successfully connected to bookie: 127.0.0.1:46029 [id: 0xc2895f12, L:/127.0.0.1:35586 - R:127.0.0.1/127.0.0.1:46029]
19:53:34.625 [bookkeeper-io-241-2] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - connection [id: 0xc2895f12, L:/127.0.0.1:35586 - R:127.0.0.1/127.0.0.1:46029] authenticated as BookKeeperPrincipal{ANONYMOUS}
19:53:34.626 [bookie-io-230-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channel connected  [id: 0x81b951f2, L:/127.0.0.1:45863 - R:/127.0.0.1:37350]
19:53:34.626 [bookkeeper-io-241-1] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - connection [id: 0x8da72a87, L:/127.0.0.1:37350 - R:127.0.0.1/127.0.0.1:45863] authenticated as BookKeeperPrincipal{ANONYMOUS}
19:53:34.628 [bookie-io-230-2] INFO  org.apache.bookkeeper.bookie.LedgerDirsManager - No writable ledger dirs below diskUsageThreshold. But Dirs that can accommodate 104857600 are: [/tmp/bookie4024360682904196356test/current]
19:53:34.629 [bookie-io-230-2] INFO  org.apache.bookkeeper.bookie.EntryLogManagerBase - Creating a new entry log file because current active log channel has not initialized yet
19:53:34.629 [bookie-io-230-2] ERROR org.apache.bookkeeper.bookie.LedgerDirsManager - All ledger directories are non writable and no reserved space (9223372036854775807) left.
org.apache.bookkeeper.bookie.LedgerDirsManager$NoWritableLedgerDirException: All ledger directories are non writable and no reserved space (9223372036854775807) left.
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getDirsAboveUsableThresholdSize(LedgerDirsManager.java:203) [classes/:?]
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getWritableLedgerDirsForNewLog(LedgerDirsManager.java:179) [classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerBase.selectDirForNextEntryLog(EntryLogManagerBase.java:175) [classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerBase.createNewLog(EntryLogManagerBase.java:170) [classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerForSingleEntryLog.getCurrentLogForLedgerForAddEntry(EntryLogManagerForSingleEntryLog.java:95) [classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerBase.addEntry(EntryLogManagerBase.java:72) [classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerForSingleEntryLog.addEntry(EntryLogManagerForSingleEntryLog.java:87) [classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogger.addEntry(EntryLogger.java:626) [classes/:?]
	at org.apache.bookkeeper.bookie.InterleavedLedgerStorage.processEntry(InterleavedLedgerStorage.java:534) [classes/:?]
	at org.apache.bookkeeper.bookie.InterleavedLedgerStorage.processEntry(InterleavedLedgerStorage.java:521) [classes/:?]
	at org.apache.bookkeeper.bookie.InterleavedLedgerStorage.addEntry(InterleavedLedgerStorage.java:375) [classes/:?]
	at org.apache.bookkeeper.bookie.LedgerDescriptorImpl.addEntry(LedgerDescriptorImpl.java:156) [classes/:?]
	at org.apache.bookkeeper.bookie.BookieImpl.addEntryInternal(BookieImpl.java:1279) [classes/:?]
	at org.apache.bookkeeper.bookie.BookieImpl.addEntry(BookieImpl.java:1414) [classes/:?]
	at org.apache.bookkeeper.proto.WriteEntryProcessorV3.getAddResponse(WriteEntryProcessorV3.java:125) [classes/:?]
	at org.apache.bookkeeper.proto.WriteEntryProcessorV3.safeRun(WriteEntryProcessorV3.java:165) [classes/:?]
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36) [classes/:?]
	at org.apache.bookkeeper.proto.BookieRequestProcessor.processAddRequestV3(BookieRequestProcessor.java:434) [classes/:?]
	at org.apache.bookkeeper.proto.BookieRequestProcessor.processRequest(BookieRequestProcessor.java:312) [classes/:?]
	at org.apache.bookkeeper.proto.BookieRequestHandler.channelRead(BookieRequestHandler.java:80) [classes/:?]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at org.apache.bookkeeper.proto.AuthHandler$ServerSideHandler.channelRead(AuthHandler.java:95) [classes/:?]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at org.apache.bookkeeper.proto.BookieProtoEncoding$RequestDecoder.channelRead(BookieProtoEncoding.java:450) [classes/:?]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) [netty-codec-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) [netty-codec-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:795) [netty-transport-native-epoll-4.1.68.Final-linux-x86_64.jar:4.1.68.Final]
	at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480) [netty-transport-native-epoll-4.1.68.Final-linux-x86_64.jar:4.1.68.Final]
	at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) [netty-transport-native-epoll-4.1.68.Final-linux-x86_64.jar:4.1.68.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:34.635 [bookie-io-230-2] ERROR org.apache.bookkeeper.proto.WriteEntryProcessorV3 - Error writing entry:0 to ledger:0
java.io.IOException: org.apache.bookkeeper.bookie.LedgerDirsManager$NoWritableLedgerDirException: All ledger directories are non writable and no reserved space (9223372036854775807) left.
	at org.apache.bookkeeper.bookie.BookieImpl.addEntry(BookieImpl.java:1419) ~[classes/:?]
	at org.apache.bookkeeper.proto.WriteEntryProcessorV3.getAddResponse(WriteEntryProcessorV3.java:125) [classes/:?]
	at org.apache.bookkeeper.proto.WriteEntryProcessorV3.safeRun(WriteEntryProcessorV3.java:165) [classes/:?]
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36) [classes/:?]
	at org.apache.bookkeeper.proto.BookieRequestProcessor.processAddRequestV3(BookieRequestProcessor.java:434) [classes/:?]
	at org.apache.bookkeeper.proto.BookieRequestProcessor.processRequest(BookieRequestProcessor.java:312) [classes/:?]
	at org.apache.bookkeeper.proto.BookieRequestHandler.channelRead(BookieRequestHandler.java:80) [classes/:?]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at org.apache.bookkeeper.proto.AuthHandler$ServerSideHandler.channelRead(AuthHandler.java:95) [classes/:?]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at org.apache.bookkeeper.proto.BookieProtoEncoding$RequestDecoder.channelRead(BookieProtoEncoding.java:450) [classes/:?]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) [netty-codec-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) [netty-codec-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:795) [netty-transport-native-epoll-4.1.68.Final-linux-x86_64.jar:4.1.68.Final]
	at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480) [netty-transport-native-epoll-4.1.68.Final-linux-x86_64.jar:4.1.68.Final]
	at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) [netty-transport-native-epoll-4.1.68.Final-linux-x86_64.jar:4.1.68.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
Caused by: org.apache.bookkeeper.bookie.LedgerDirsManager$NoWritableLedgerDirException: All ledger directories are non writable and no reserved space (9223372036854775807) left.
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getDirsAboveUsableThresholdSize(LedgerDirsManager.java:203) ~[classes/:?]
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getWritableLedgerDirsForNewLog(LedgerDirsManager.java:179) ~[classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerBase.selectDirForNextEntryLog(EntryLogManagerBase.java:175) ~[classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerBase.createNewLog(EntryLogManagerBase.java:170) ~[classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerForSingleEntryLog.getCurrentLogForLedgerForAddEntry(EntryLogManagerForSingleEntryLog.java:95) ~[classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerBase.addEntry(EntryLogManagerBase.java:72) ~[classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerForSingleEntryLog.addEntry(EntryLogManagerForSingleEntryLog.java:87) ~[classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogger.addEntry(EntryLogger.java:626) ~[classes/:?]
	at org.apache.bookkeeper.bookie.InterleavedLedgerStorage.processEntry(InterleavedLedgerStorage.java:534) ~[classes/:?]
	at org.apache.bookkeeper.bookie.InterleavedLedgerStorage.processEntry(InterleavedLedgerStorage.java:521) ~[classes/:?]
	at org.apache.bookkeeper.bookie.InterleavedLedgerStorage.addEntry(InterleavedLedgerStorage.java:375) ~[classes/:?]
	at org.apache.bookkeeper.bookie.LedgerDescriptorImpl.addEntry(LedgerDescriptorImpl.java:156) ~[classes/:?]
	at org.apache.bookkeeper.bookie.BookieImpl.addEntryInternal(BookieImpl.java:1279) ~[classes/:?]
	at org.apache.bookkeeper.bookie.BookieImpl.addEntry(BookieImpl.java:1414) ~[classes/:?]
	... 34 more
19:53:34.637 [BookieStateManagerService-0] INFO  org.apache.bookkeeper.bookie.BookieStateManager - Transitioning Bookie to ReadOnly mode, and will serve only read requests from clients!
19:53:34.638 [BookKeeperClientWorker-OrderedExecutor-0-0] ERROR org.apache.bookkeeper.proto.PerChannelBookieClient - Add for failed on bookie 127.0.0.1:45863 code EIO
19:53:34.638 [BookKeeperClientWorker-OrderedExecutor-0-0] WARN  org.apache.bookkeeper.client.PendingAddOp - Failed to write entry (0, 0): Write failed on bookie
19:53:34.639 [BookKeeperClientWorker-OrderedExecutor-0-0] WARN  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to find 1 bookies : excludeBookies [<Bookie:127.0.0.1:45335>, <Bookie:127.0.0.1:46029>, <Bookie:127.0.0.1:45863>], allBookies [<Bookie:127.0.0.1:46029>, <Bookie:127.0.0.1:45863>, <Bookie:127.0.0.1:45335>].
19:53:34.639 [BookKeeperClientWorker-OrderedExecutor-0-0] WARN  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to choose a bookie: excluded [<Bookie:127.0.0.1:45335>, <Bookie:127.0.0.1:45863>, <Bookie:127.0.0.1:46029>], fallback to choose bookie randomly from the cluster.
19:53:34.640 [BookKeeperClientWorker-OrderedExecutor-0-0] WARN  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to find 1 bookies : excludeBookies [<Bookie:127.0.0.1:45863>, <Bookie:127.0.0.1:45335>, <Bookie:127.0.0.1:46029>], allBookies [<Bookie:127.0.0.1:45863>, <Bookie:127.0.0.1:46029>, <Bookie:127.0.0.1:45335>].
19:53:34.641 [BookKeeperClientWorker-OrderedExecutor-0-0] WARN  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to find 1 bookies : excludeBookies [<Bookie:127.0.0.1:45335>, <Bookie:127.0.0.1:46029>, <Bookie:127.0.0.1:45863>], allBookies [<Bookie:127.0.0.1:45863>, <Bookie:127.0.0.1:45335>, <Bookie:127.0.0.1:46029>].
19:53:34.642 [bookkeeper-io-241-3] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Successfully connected to bookie: 127.0.0.1:45335 [id: 0xc52d7f23, L:/127.0.0.1:46578 - R:127.0.0.1/127.0.0.1:45335]
19:53:34.642 [BookKeeperClientWorker-OrderedExecutor-0-0] WARN  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to choose a bookie: excluded [<Bookie:127.0.0.1:45863>, <Bookie:127.0.0.1:45335>, <Bookie:127.0.0.1:46029>], fallback to choose bookie randomly from the cluster.
19:53:34.643 [BookKeeperClientWorker-OrderedExecutor-0-0] WARN  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to find 1 bookies : excludeBookies [<Bookie:127.0.0.1:45335>, <Bookie:127.0.0.1:45863>, <Bookie:127.0.0.1:46029>], allBookies [<Bookie:127.0.0.1:46029>, <Bookie:127.0.0.1:45863>, <Bookie:127.0.0.1:45335>].
19:53:34.643 [BookKeeperClientWorker-OrderedExecutor-0-0] ERROR org.apache.bookkeeper.client.MetadataUpdateLoop - UpdateLoop(ledgerId=0,loopId=7793c6ac) Exception updating
org.apache.bookkeeper.client.BKException$BKNotEnoughBookiesException: Not enough non-faulty bookies available
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.selectRandomInternal(RackawareEnsemblePlacementPolicyImpl.java:780) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.selectRandom(RackawareEnsemblePlacementPolicyImpl.java:698) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.selectFromNetworkLocation(RackawareEnsemblePlacementPolicyImpl.java:587) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.selectFromNetworkLocation(RackawareEnsemblePlacementPolicy.java:206) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.selectFromNetworkLocation(RackawareEnsemblePlacementPolicyImpl.java:547) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.selectFromNetworkLocation(RackawareEnsemblePlacementPolicy.java:227) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:475) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:120) ~[classes/:?]
	at org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:334) ~[classes/:?]
	at org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71) ~[classes/:?]
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$2(LedgerHandle.java:1935) ~[classes/:?]
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:134) [classes/:?]
	at org.apache.bookkeeper.client.MetadataUpdateLoop.run(MetadataUpdateLoop.java:123) [classes/:?]
	at org.apache.bookkeeper.client.LedgerHandle.ensembleChangeLoop(LedgerHandle.java:1954) [classes/:?]
	at org.apache.bookkeeper.client.LedgerHandle.handleBookieFailure(LedgerHandle.java:1903) [classes/:?]
	at org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:378) [classes/:?]
	at org.apache.bookkeeper.proto.PerChannelBookieClient$AddCompletion.writeComplete(PerChannelBookieClient.java:2159) [classes/:?]
	at org.apache.bookkeeper.proto.PerChannelBookieClient$AddCompletion.handleResponse(PerChannelBookieClient.java:2216) [classes/:?]
	at org.apache.bookkeeper.proto.PerChannelBookieClient$AddCompletion.handleV3Response(PerChannelBookieClient.java:2205) [classes/:?]
	at org.apache.bookkeeper.proto.PerChannelBookieClient$3.safeRun(PerChannelBookieClient.java:1473) [classes/:?]
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36) [classes/:?]
	at org.apache.bookkeeper.common.util.OrderedExecutor$ContextPreservingRunnable.run(OrderedExecutor.java:260) [classes/:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_292]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:34.644 [bookkeeper-io-241-3] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - connection [id: 0xc52d7f23, L:/127.0.0.1:46578 - R:127.0.0.1/127.0.0.1:45335] authenticated as BookKeeperPrincipal{ANONYMOUS}
19:53:34.646 [bookie-io-212-2] INFO  org.apache.bookkeeper.proto.AuthHandler - Authentication success on server side
19:53:34.647 [bookie-io-212-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channel connected  [id: 0xa5807dcf, L:/127.0.0.1:46029 - R:/127.0.0.1:35586]
19:53:34.647 [bookie-io-212-2] INFO  org.apache.bookkeeper.bookie.LedgerDirsManager - No writable ledger dirs below diskUsageThreshold. But Dirs that can accommodate 104857600 are: [/tmp/bookie6285039923079989412test/current]
19:53:34.648 [bookie-io-212-2] INFO  org.apache.bookkeeper.bookie.EntryLogManagerBase - Creating a new entry log file because current active log channel has not initialized yet
19:53:34.648 [bookie-io-212-2] ERROR org.apache.bookkeeper.bookie.LedgerDirsManager - All ledger directories are non writable and no reserved space (9223372036854775807) left.
org.apache.bookkeeper.bookie.LedgerDirsManager$NoWritableLedgerDirException: All ledger directories are non writable and no reserved space (9223372036854775807) left.
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getDirsAboveUsableThresholdSize(LedgerDirsManager.java:203) [classes/:?]
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getWritableLedgerDirsForNewLog(LedgerDirsManager.java:179) [classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerBase.selectDirForNextEntryLog(EntryLogManagerBase.java:175) [classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerBase.createNewLog(EntryLogManagerBase.java:170) [classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerForSingleEntryLog.getCurrentLogForLedgerForAddEntry(EntryLogManagerForSingleEntryLog.java:95) [classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerBase.addEntry(EntryLogManagerBase.java:72) [classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerForSingleEntryLog.addEntry(EntryLogManagerForSingleEntryLog.java:87) [classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogger.addEntry(EntryLogger.java:626) [classes/:?]
	at org.apache.bookkeeper.bookie.InterleavedLedgerStorage.processEntry(InterleavedLedgerStorage.java:534) [classes/:?]
	at org.apache.bookkeeper.bookie.InterleavedLedgerStorage.processEntry(InterleavedLedgerStorage.java:521) [classes/:?]
	at org.apache.bookkeeper.bookie.InterleavedLedgerStorage.addEntry(InterleavedLedgerStorage.java:375) [classes/:?]
	at org.apache.bookkeeper.bookie.LedgerDescriptorImpl.addEntry(LedgerDescriptorImpl.java:156) [classes/:?]
	at org.apache.bookkeeper.bookie.BookieImpl.addEntryInternal(BookieImpl.java:1279) [classes/:?]
	at org.apache.bookkeeper.bookie.BookieImpl.addEntry(BookieImpl.java:1414) [classes/:?]
	at org.apache.bookkeeper.proto.WriteEntryProcessorV3.getAddResponse(WriteEntryProcessorV3.java:125) [classes/:?]
	at org.apache.bookkeeper.proto.WriteEntryProcessorV3.safeRun(WriteEntryProcessorV3.java:165) [classes/:?]
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36) [classes/:?]
	at org.apache.bookkeeper.proto.BookieRequestProcessor.processAddRequestV3(BookieRequestProcessor.java:434) [classes/:?]
	at org.apache.bookkeeper.proto.BookieRequestProcessor.processRequest(BookieRequestProcessor.java:312) [classes/:?]
	at org.apache.bookkeeper.proto.BookieRequestHandler.channelRead(BookieRequestHandler.java:80) [classes/:?]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at org.apache.bookkeeper.proto.AuthHandler$ServerSideHandler.channelRead(AuthHandler.java:95) [classes/:?]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at org.apache.bookkeeper.proto.BookieProtoEncoding$RequestDecoder.channelRead(BookieProtoEncoding.java:450) [classes/:?]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) [netty-codec-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) [netty-codec-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:795) [netty-transport-native-epoll-4.1.68.Final-linux-x86_64.jar:4.1.68.Final]
	at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480) [netty-transport-native-epoll-4.1.68.Final-linux-x86_64.jar:4.1.68.Final]
	at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) [netty-transport-native-epoll-4.1.68.Final-linux-x86_64.jar:4.1.68.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:34.649 [BookKeeperClientWorker-OrderedExecutor-0-0] WARN  org.apache.bookkeeper.client.LedgerHandle - [EnsembleChange(ledger:0, change-id:0000000001)][attempt:1] Exception changing ensemble
org.apache.bookkeeper.client.BKException$BKNotEnoughBookiesException: Not enough non-faulty bookies available
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.selectRandomInternal(RackawareEnsemblePlacementPolicyImpl.java:780) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.selectRandom(RackawareEnsemblePlacementPolicyImpl.java:698) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.selectFromNetworkLocation(RackawareEnsemblePlacementPolicyImpl.java:587) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.selectFromNetworkLocation(RackawareEnsemblePlacementPolicy.java:206) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.selectFromNetworkLocation(RackawareEnsemblePlacementPolicyImpl.java:547) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.selectFromNetworkLocation(RackawareEnsemblePlacementPolicy.java:227) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.replaceBookie(RackawareEnsemblePlacementPolicyImpl.java:475) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicy.replaceBookie(RackawareEnsemblePlacementPolicy.java:120) ~[classes/:?]
	at org.apache.bookkeeper.client.BookieWatcherImpl.replaceBookie(BookieWatcherImpl.java:334) ~[classes/:?]
	at org.apache.bookkeeper.client.EnsembleUtils.replaceBookiesInEnsemble(EnsembleUtils.java:71) ~[classes/:?]
	at org.apache.bookkeeper.client.LedgerHandle.lambda$ensembleChangeLoop$2(LedgerHandle.java:1935) ~[classes/:?]
	at org.apache.bookkeeper.client.MetadataUpdateLoop.writeLoop(MetadataUpdateLoop.java:134) ~[classes/:?]
	at org.apache.bookkeeper.client.MetadataUpdateLoop.run(MetadataUpdateLoop.java:123) ~[classes/:?]
	at org.apache.bookkeeper.client.LedgerHandle.ensembleChangeLoop(LedgerHandle.java:1954) ~[classes/:?]
	at org.apache.bookkeeper.client.LedgerHandle.handleBookieFailure(LedgerHandle.java:1903) ~[classes/:?]
	at org.apache.bookkeeper.client.PendingAddOp.writeComplete(PendingAddOp.java:378) ~[classes/:?]
	at org.apache.bookkeeper.proto.PerChannelBookieClient$AddCompletion.writeComplete(PerChannelBookieClient.java:2159) ~[classes/:?]
	at org.apache.bookkeeper.proto.PerChannelBookieClient$AddCompletion.handleResponse(PerChannelBookieClient.java:2216) ~[classes/:?]
	at org.apache.bookkeeper.proto.PerChannelBookieClient$AddCompletion.handleV3Response(PerChannelBookieClient.java:2205) ~[classes/:?]
	at org.apache.bookkeeper.proto.PerChannelBookieClient$3.safeRun(PerChannelBookieClient.java:1473) ~[classes/:?]
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36) ~[classes/:?]
	at org.apache.bookkeeper.common.util.OrderedExecutor$ContextPreservingRunnable.run(OrderedExecutor.java:260) [classes/:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_292]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:34.649 [bookie-io-221-2] INFO  org.apache.bookkeeper.proto.AuthHandler - Authentication success on server side
19:53:34.649 [BookKeeperClientWorker-OrderedExecutor-0-0] ERROR org.apache.bookkeeper.client.LedgerHandle - Closing ledger 0 due to NotEnoughBookiesException: Not enough non-faulty bookies available
19:53:34.650 [bookie-io-221-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channel connected  [id: 0x565395b1, L:/127.0.0.1:45335 - R:/127.0.0.1:46578]
19:53:34.650 [BookieStateManagerService-0] INFO  org.apache.bookkeeper.bookie.BookieStateManager - Transitioning Bookie to ReadOnly mode, and will serve only read requests from clients!
19:53:34.650 [bookie-io-221-2] INFO  org.apache.bookkeeper.bookie.LedgerDirsManager - No writable ledger dirs below diskUsageThreshold. But Dirs that can accommodate 104857600 are: [/tmp/bookie8873309142781519004test/current]
19:53:34.651 [bookie-io-221-2] INFO  org.apache.bookkeeper.bookie.EntryLogManagerBase - Creating a new entry log file because current active log channel has not initialized yet
19:53:34.652 [bookie-io-221-2] ERROR org.apache.bookkeeper.bookie.LedgerDirsManager - All ledger directories are non writable and no reserved space (9223372036854775807) left.
org.apache.bookkeeper.bookie.LedgerDirsManager$NoWritableLedgerDirException: All ledger directories are non writable and no reserved space (9223372036854775807) left.
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getDirsAboveUsableThresholdSize(LedgerDirsManager.java:203) [classes/:?]
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getWritableLedgerDirsForNewLog(LedgerDirsManager.java:179) [classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerBase.selectDirForNextEntryLog(EntryLogManagerBase.java:175) [classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerBase.createNewLog(EntryLogManagerBase.java:170) [classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerForSingleEntryLog.getCurrentLogForLedgerForAddEntry(EntryLogManagerForSingleEntryLog.java:95) [classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerBase.addEntry(EntryLogManagerBase.java:72) [classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerForSingleEntryLog.addEntry(EntryLogManagerForSingleEntryLog.java:87) [classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogger.addEntry(EntryLogger.java:626) [classes/:?]
	at org.apache.bookkeeper.bookie.InterleavedLedgerStorage.processEntry(InterleavedLedgerStorage.java:534) [classes/:?]
	at org.apache.bookkeeper.bookie.InterleavedLedgerStorage.processEntry(InterleavedLedgerStorage.java:521) [classes/:?]
	at org.apache.bookkeeper.bookie.InterleavedLedgerStorage.addEntry(InterleavedLedgerStorage.java:375) [classes/:?]
	at org.apache.bookkeeper.bookie.LedgerDescriptorImpl.addEntry(LedgerDescriptorImpl.java:156) [classes/:?]
	at org.apache.bookkeeper.bookie.BookieImpl.addEntryInternal(BookieImpl.java:1279) [classes/:?]
	at org.apache.bookkeeper.bookie.BookieImpl.addEntry(BookieImpl.java:1414) [classes/:?]
	at org.apache.bookkeeper.proto.WriteEntryProcessorV3.getAddResponse(WriteEntryProcessorV3.java:125) [classes/:?]
	at org.apache.bookkeeper.proto.WriteEntryProcessorV3.safeRun(WriteEntryProcessorV3.java:165) [classes/:?]
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36) [classes/:?]
	at org.apache.bookkeeper.proto.BookieRequestProcessor.processAddRequestV3(BookieRequestProcessor.java:434) [classes/:?]
	at org.apache.bookkeeper.proto.BookieRequestProcessor.processRequest(BookieRequestProcessor.java:312) [classes/:?]
	at org.apache.bookkeeper.proto.BookieRequestHandler.channelRead(BookieRequestHandler.java:80) [classes/:?]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at org.apache.bookkeeper.proto.AuthHandler$ServerSideHandler.channelRead(AuthHandler.java:95) [classes/:?]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at org.apache.bookkeeper.proto.BookieProtoEncoding$RequestDecoder.channelRead(BookieProtoEncoding.java:450) [classes/:?]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) [netty-codec-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) [netty-codec-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:795) [netty-transport-native-epoll-4.1.68.Final-linux-x86_64.jar:4.1.68.Final]
	at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480) [netty-transport-native-epoll-4.1.68.Final-linux-x86_64.jar:4.1.68.Final]
	at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) [netty-transport-native-epoll-4.1.68.Final-linux-x86_64.jar:4.1.68.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:34.652 [BookKeeperClientWorker-OrderedExecutor-0-0] ERROR org.apache.bookkeeper.client.PendingAddOp - Write of ledger entry to quorum failed: L0 E0
19:53:34.652 [bookie-io-212-2] ERROR org.apache.bookkeeper.proto.WriteEntryProcessorV3 - Error writing entry:0 to ledger:0
java.io.IOException: org.apache.bookkeeper.bookie.LedgerDirsManager$NoWritableLedgerDirException: All ledger directories are non writable and no reserved space (9223372036854775807) left.
	at org.apache.bookkeeper.bookie.BookieImpl.addEntry(BookieImpl.java:1419) ~[classes/:?]
	at org.apache.bookkeeper.proto.WriteEntryProcessorV3.getAddResponse(WriteEntryProcessorV3.java:125) [classes/:?]
	at org.apache.bookkeeper.proto.WriteEntryProcessorV3.safeRun(WriteEntryProcessorV3.java:165) [classes/:?]
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36) [classes/:?]
	at org.apache.bookkeeper.proto.BookieRequestProcessor.processAddRequestV3(BookieRequestProcessor.java:434) [classes/:?]
	at org.apache.bookkeeper.proto.BookieRequestProcessor.processRequest(BookieRequestProcessor.java:312) [classes/:?]
	at org.apache.bookkeeper.proto.BookieRequestHandler.channelRead(BookieRequestHandler.java:80) [classes/:?]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at org.apache.bookkeeper.proto.AuthHandler$ServerSideHandler.channelRead(AuthHandler.java:95) [classes/:?]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at org.apache.bookkeeper.proto.BookieProtoEncoding$RequestDecoder.channelRead(BookieProtoEncoding.java:450) [classes/:?]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) [netty-codec-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) [netty-codec-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:795) [netty-transport-native-epoll-4.1.68.Final-linux-x86_64.jar:4.1.68.Final]
	at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480) [netty-transport-native-epoll-4.1.68.Final-linux-x86_64.jar:4.1.68.Final]
	at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) [netty-transport-native-epoll-4.1.68.Final-linux-x86_64.jar:4.1.68.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
Caused by: org.apache.bookkeeper.bookie.LedgerDirsManager$NoWritableLedgerDirException: All ledger directories are non writable and no reserved space (9223372036854775807) left.
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getDirsAboveUsableThresholdSize(LedgerDirsManager.java:203) ~[classes/:?]
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getWritableLedgerDirsForNewLog(LedgerDirsManager.java:179) ~[classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerBase.selectDirForNextEntryLog(EntryLogManagerBase.java:175) ~[classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerBase.createNewLog(EntryLogManagerBase.java:170) ~[classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerForSingleEntryLog.getCurrentLogForLedgerForAddEntry(EntryLogManagerForSingleEntryLog.java:95) ~[classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerBase.addEntry(EntryLogManagerBase.java:72) ~[classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerForSingleEntryLog.addEntry(EntryLogManagerForSingleEntryLog.java:87) ~[classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogger.addEntry(EntryLogger.java:626) ~[classes/:?]
	at org.apache.bookkeeper.bookie.InterleavedLedgerStorage.processEntry(InterleavedLedgerStorage.java:534) ~[classes/:?]
	at org.apache.bookkeeper.bookie.InterleavedLedgerStorage.processEntry(InterleavedLedgerStorage.java:521) ~[classes/:?]
	at org.apache.bookkeeper.bookie.InterleavedLedgerStorage.addEntry(InterleavedLedgerStorage.java:375) ~[classes/:?]
	at org.apache.bookkeeper.bookie.LedgerDescriptorImpl.addEntry(LedgerDescriptorImpl.java:156) ~[classes/:?]
	at org.apache.bookkeeper.bookie.BookieImpl.addEntryInternal(BookieImpl.java:1279) ~[classes/:?]
	at org.apache.bookkeeper.bookie.BookieImpl.addEntry(BookieImpl.java:1414) ~[classes/:?]
	... 34 more
19:53:34.654 [BookieStateManagerService-0] INFO  org.apache.bookkeeper.bookie.BookieStateManager - Transitioning Bookie to ReadOnly mode, and will serve only read requests from clients!
19:53:34.654 [bookie-io-221-2] ERROR org.apache.bookkeeper.proto.WriteEntryProcessorV3 - Error writing entry:0 to ledger:0
java.io.IOException: org.apache.bookkeeper.bookie.LedgerDirsManager$NoWritableLedgerDirException: All ledger directories are non writable and no reserved space (9223372036854775807) left.
	at org.apache.bookkeeper.bookie.BookieImpl.addEntry(BookieImpl.java:1419) ~[classes/:?]
	at org.apache.bookkeeper.proto.WriteEntryProcessorV3.getAddResponse(WriteEntryProcessorV3.java:125) [classes/:?]
	at org.apache.bookkeeper.proto.WriteEntryProcessorV3.safeRun(WriteEntryProcessorV3.java:165) [classes/:?]
	at org.apache.bookkeeper.common.util.SafeRunnable.run(SafeRunnable.java:36) [classes/:?]
	at org.apache.bookkeeper.proto.BookieRequestProcessor.processAddRequestV3(BookieRequestProcessor.java:434) [classes/:?]
	at org.apache.bookkeeper.proto.BookieRequestProcessor.processRequest(BookieRequestProcessor.java:312) [classes/:?]
	at org.apache.bookkeeper.proto.BookieRequestHandler.channelRead(BookieRequestHandler.java:80) [classes/:?]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at org.apache.bookkeeper.proto.AuthHandler$ServerSideHandler.channelRead(AuthHandler.java:95) [classes/:?]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at org.apache.bookkeeper.proto.BookieProtoEncoding$RequestDecoder.channelRead(BookieProtoEncoding.java:450) [classes/:?]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) [netty-codec-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) [netty-codec-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) [netty-transport-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:795) [netty-transport-native-epoll-4.1.68.Final-linux-x86_64.jar:4.1.68.Final]
	at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:480) [netty-transport-native-epoll-4.1.68.Final-linux-x86_64.jar:4.1.68.Final]
	at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378) [netty-transport-native-epoll-4.1.68.Final-linux-x86_64.jar:4.1.68.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
Caused by: org.apache.bookkeeper.bookie.LedgerDirsManager$NoWritableLedgerDirException: All ledger directories are non writable and no reserved space (9223372036854775807) left.
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getDirsAboveUsableThresholdSize(LedgerDirsManager.java:203) ~[classes/:?]
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getWritableLedgerDirsForNewLog(LedgerDirsManager.java:179) ~[classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerBase.selectDirForNextEntryLog(EntryLogManagerBase.java:175) ~[classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerBase.createNewLog(EntryLogManagerBase.java:170) ~[classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerForSingleEntryLog.getCurrentLogForLedgerForAddEntry(EntryLogManagerForSingleEntryLog.java:95) ~[classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerBase.addEntry(EntryLogManagerBase.java:72) ~[classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogManagerForSingleEntryLog.addEntry(EntryLogManagerForSingleEntryLog.java:87) ~[classes/:?]
	at org.apache.bookkeeper.bookie.EntryLogger.addEntry(EntryLogger.java:626) ~[classes/:?]
	at org.apache.bookkeeper.bookie.InterleavedLedgerStorage.processEntry(InterleavedLedgerStorage.java:534) ~[classes/:?]
	at org.apache.bookkeeper.bookie.InterleavedLedgerStorage.processEntry(InterleavedLedgerStorage.java:521) ~[classes/:?]
	at org.apache.bookkeeper.bookie.InterleavedLedgerStorage.addEntry(InterleavedLedgerStorage.java:375) ~[classes/:?]
	at org.apache.bookkeeper.bookie.LedgerDescriptorImpl.addEntry(LedgerDescriptorImpl.java:156) ~[classes/:?]
	at org.apache.bookkeeper.bookie.BookieImpl.addEntryInternal(BookieImpl.java:1279) ~[classes/:?]
	at org.apache.bookkeeper.bookie.BookieImpl.addEntry(BookieImpl.java:1414) ~[classes/:?]
	... 34 more
19:53:34.659 [BookKeeperClientWorker-OrderedExecutor-0-0] ERROR org.apache.bookkeeper.proto.PerChannelBookieClient - Add for failed on bookie 127.0.0.1:45335 code EIO
19:53:34.659 [BookKeeperClientWorker-OrderedExecutor-0-0] WARN  org.apache.bookkeeper.client.PendingAddOp - Failed to write entry (0, 0): Write failed on bookie
19:53:34.659 [BookKeeperClientWorker-OrderedExecutor-0-0] ERROR org.apache.bookkeeper.proto.PerChannelBookieClient - Add for failed on bookie 127.0.0.1:46029 code EIO
19:53:34.659 [BookKeeperClientWorker-OrderedExecutor-0-0] WARN  org.apache.bookkeeper.client.PendingAddOp - Failed to write entry (0, 0): Write failed on bookie
19:53:34.660 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Invalidate cache for 127.0.0.1:45863
19:53:34.660 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Invalidate cache for 127.0.0.1:45863
19:53:34.663 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Removing a node: /default-rack/127.0.0.1:45863
19:53:34.663 [Time-limited test] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Closing the per channel bookie client for 127.0.0.1:46029
19:53:34.663 [bookkeeper-io-241-2] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Disconnected from bookie channel [id: 0xc2895f12, L:/127.0.0.1:35586 ! R:127.0.0.1/127.0.0.1:46029]
19:53:34.664 [Time-limited test] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Closing the per channel bookie client for 127.0.0.1:45863
19:53:34.664 [bookie-io-212-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channels disconnected: [id: 0xa5807dcf, L:/127.0.0.1:46029 ! R:/127.0.0.1:35586]
19:53:34.664 [bookkeeper-io-241-1] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Disconnected from bookie channel [id: 0x8da72a87, L:/127.0.0.1:37350 ! R:127.0.0.1/127.0.0.1:45863]
19:53:34.665 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Removing a node: /default-rack/127.0.0.1:45863
19:53:34.666 [Time-limited test] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Closing the per channel bookie client for 127.0.0.1:45335
19:53:34.666 [bookkeeper-io-241-3] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Disconnected from bookie channel [id: 0xc52d7f23, L:/127.0.0.1:46578 ! R:127.0.0.1/127.0.0.1:45335]
19:53:34.666 [bookie-io-221-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channels disconnected: [id: 0x565395b1, L:/127.0.0.1:45335 ! R:/127.0.0.1:46578]
19:53:34.667 [bookie-io-230-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channels disconnected: [id: 0x81b951f2, L:/127.0.0.1:45863 ! R:/127.0.0.1:37350]
19:53:34.673 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Invalidate cache for 127.0.0.1:45335
19:53:34.673 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Invalidate cache for 127.0.0.1:45335
19:53:34.673 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Invalidate cache for 127.0.0.1:46029
19:53:34.673 [Time-limited test-EventThread] WARN  org.apache.bookkeeper.discover.ZKRegistrationClient - Failed to schedule watch bookies task
java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask@7399733b rejected from java.util.concurrent.ScheduledThreadPoolExecutor@369be32c[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 10]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063) ~[?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830) ~[?:1.8.0_292]
	at java.util.concurrent.ScheduledThreadPoolExecutor.delayedExecute(ScheduledThreadPoolExecutor.java:326) ~[?:1.8.0_292]
	at java.util.concurrent.ScheduledThreadPoolExecutor.schedule(ScheduledThreadPoolExecutor.java:533) ~[?:1.8.0_292]
	at com.google.common.util.concurrent.MoreExecutors$ScheduledListeningDecorator.schedule(MoreExecutors.java:630) ~[guava-30.0-jre.jar:?]
	at org.apache.bookkeeper.common.util.BoundedScheduledExecutorService.schedule(BoundedScheduledExecutorService.java:63) ~[classes/:?]
	at org.apache.bookkeeper.common.util.OrderedScheduler$OrderedSchedulerDecoratedThread.schedule(OrderedScheduler.java:317) ~[classes/:?]
	at org.apache.bookkeeper.common.util.OrderedScheduler.schedule(OrderedScheduler.java:273) ~[classes/:?]
	at org.apache.bookkeeper.discover.ZKRegistrationClient$WatchTask.scheduleWatchTask(ZKRegistrationClient.java:115) [classes/:?]
	at org.apache.bookkeeper.discover.ZKRegistrationClient$WatchTask.process(ZKRegistrationClient.java:164) [classes/:?]
	at org.apache.zookeeper.ClientCnxn$EventThread.processEvent(ClientCnxn.java:587) [zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:562) [zookeeper-3.6.2.jar:3.6.2]
19:53:34.674 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Invalidate cache for 127.0.0.1:46029
19:53:34.676 [Time-limited test-SendThread(localhost:43067)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x10001146a4b0005.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x10001146a4b0005, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:34.678 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Removing a node: /default-rack/127.0.0.1:45335
19:53:34.678 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Removing a node: /default-rack/127.0.0.1:46029
19:53:34.679 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (readonly bookie) 127.0.0.1:46029 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:46029, port=46029, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:34.679 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (readonly bookie) 127.0.0.1:45335 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:45335, port=45335, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:34.679 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (readonly bookie) 127.0.0.1:45863 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:45863, port=45863, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:34.740 [GarbageCollectorThread-218-1] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Disk almost full, suspend major compaction to slow down filling disk.
19:53:34.741 [GarbageCollectorThread-218-1] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Disk full, suspend minor compaction to slow down filling disk.
19:53:34.777 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x10001146a4b0005 closed
19:53:34.778 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - TearDown
19:53:34.778 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x10001146a4b0005
19:53:34.880 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x10001146a4b0001
19:53:34.880 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x10001146a4b0001 closed
19:53:34.880 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:34.881 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:34.882 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-46029 with exitCode 0
19:53:34.882 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:34.882 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:34.882 [SyncThread-217-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:34.882 [SyncThread-217-1] ERROR org.apache.bookkeeper.bookie.LedgerDirsManager - All ledger directories are non writable and no reserved space (9223372036854775807) left.
org.apache.bookkeeper.bookie.LedgerDirsManager$NoWritableLedgerDirException: All ledger directories are non writable and no reserved space (9223372036854775807) left.
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getDirsAboveUsableThresholdSize(LedgerDirsManager.java:203) ~[classes/:?]
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getWritableLedgerDirsForNewLog(LedgerDirsManager.java:179) ~[classes/:?]
	at org.apache.bookkeeper.bookie.Journal$LastLogMark.rollLog(Journal.java:206) ~[classes/:?]
	at org.apache.bookkeeper.bookie.Journal.checkpointComplete(Journal.java:750) ~[classes/:?]
	at org.apache.bookkeeper.bookie.CheckpointSourceList$CheckpointList.checkpointComplete(CheckpointSourceList.java:71) ~[classes/:?]
	at org.apache.bookkeeper.bookie.CheckpointSourceList$CheckpointList.access$100(CheckpointSourceList.java:57) ~[classes/:?]
	at org.apache.bookkeeper.bookie.CheckpointSourceList.checkpointComplete(CheckpointSourceList.java:54) ~[classes/:?]
	at org.apache.bookkeeper.bookie.SyncThread.flush(SyncThread.java:137) ~[classes/:?]
	at org.apache.bookkeeper.bookie.SyncThread.lambda$requestFlush$1(SyncThread.java:111) ~[classes/:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_292]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_292]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_292]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_292]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:34.883 [SyncThread-217-1] ERROR org.apache.bookkeeper.bookie.SyncThread - Exception marking checkpoint as complete
org.apache.bookkeeper.bookie.LedgerDirsManager$NoWritableLedgerDirException: All ledger directories are non writable and no reserved space (9223372036854775807) left.
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getDirsAboveUsableThresholdSize(LedgerDirsManager.java:203) ~[classes/:?]
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getWritableLedgerDirsForNewLog(LedgerDirsManager.java:179) ~[classes/:?]
	at org.apache.bookkeeper.bookie.Journal$LastLogMark.rollLog(Journal.java:206) ~[classes/:?]
	at org.apache.bookkeeper.bookie.Journal.checkpointComplete(Journal.java:750) ~[classes/:?]
	at org.apache.bookkeeper.bookie.CheckpointSourceList$CheckpointList.checkpointComplete(CheckpointSourceList.java:71) ~[classes/:?]
	at org.apache.bookkeeper.bookie.CheckpointSourceList$CheckpointList.access$100(CheckpointSourceList.java:57) ~[classes/:?]
	at org.apache.bookkeeper.bookie.CheckpointSourceList.checkpointComplete(CheckpointSourceList.java:54) ~[classes/:?]
	at org.apache.bookkeeper.bookie.SyncThread.flush(SyncThread.java:137) ~[classes/:?]
	at org.apache.bookkeeper.bookie.SyncThread.lambda$requestFlush$1(SyncThread.java:111) ~[classes/:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_292]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_292]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_292]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_292]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:34.883 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:34.883 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:34.883 [BookieJournal-46029] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:34.883 [BookieJournal-46029] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:34.883 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:34.883 [Bookie-46029] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:34.883 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:34.883 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:34.883 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:34.883 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:34.883 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:34.888 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:34.888 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:34.888 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:34.890 [Time-limited test-SendThread(localhost:43067)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x10001146a4b0002.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x10001146a4b0002, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:34.990 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x10001146a4b0002 closed
19:53:34.991 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x10001146a4b0002
19:53:34.991 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:34.991 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:34.993 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-45335 with exitCode 0
19:53:34.993 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:34.993 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:34.994 [SyncThread-226-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:34.994 [SyncThread-226-1] ERROR org.apache.bookkeeper.bookie.LedgerDirsManager - All ledger directories are non writable and no reserved space (9223372036854775807) left.
org.apache.bookkeeper.bookie.LedgerDirsManager$NoWritableLedgerDirException: All ledger directories are non writable and no reserved space (9223372036854775807) left.
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getDirsAboveUsableThresholdSize(LedgerDirsManager.java:203) ~[classes/:?]
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getWritableLedgerDirsForNewLog(LedgerDirsManager.java:179) ~[classes/:?]
	at org.apache.bookkeeper.bookie.Journal$LastLogMark.rollLog(Journal.java:206) ~[classes/:?]
	at org.apache.bookkeeper.bookie.Journal.checkpointComplete(Journal.java:750) ~[classes/:?]
	at org.apache.bookkeeper.bookie.CheckpointSourceList$CheckpointList.checkpointComplete(CheckpointSourceList.java:71) ~[classes/:?]
	at org.apache.bookkeeper.bookie.CheckpointSourceList$CheckpointList.access$100(CheckpointSourceList.java:57) ~[classes/:?]
	at org.apache.bookkeeper.bookie.CheckpointSourceList.checkpointComplete(CheckpointSourceList.java:54) ~[classes/:?]
	at org.apache.bookkeeper.bookie.SyncThread.flush(SyncThread.java:137) ~[classes/:?]
	at org.apache.bookkeeper.bookie.SyncThread.lambda$requestFlush$1(SyncThread.java:111) ~[classes/:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_292]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_292]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_292]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_292]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:34.994 [SyncThread-226-1] ERROR org.apache.bookkeeper.bookie.SyncThread - Exception marking checkpoint as complete
org.apache.bookkeeper.bookie.LedgerDirsManager$NoWritableLedgerDirException: All ledger directories are non writable and no reserved space (9223372036854775807) left.
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getDirsAboveUsableThresholdSize(LedgerDirsManager.java:203) ~[classes/:?]
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getWritableLedgerDirsForNewLog(LedgerDirsManager.java:179) ~[classes/:?]
	at org.apache.bookkeeper.bookie.Journal$LastLogMark.rollLog(Journal.java:206) ~[classes/:?]
	at org.apache.bookkeeper.bookie.Journal.checkpointComplete(Journal.java:750) ~[classes/:?]
	at org.apache.bookkeeper.bookie.CheckpointSourceList$CheckpointList.checkpointComplete(CheckpointSourceList.java:71) ~[classes/:?]
	at org.apache.bookkeeper.bookie.CheckpointSourceList$CheckpointList.access$100(CheckpointSourceList.java:57) ~[classes/:?]
	at org.apache.bookkeeper.bookie.CheckpointSourceList.checkpointComplete(CheckpointSourceList.java:54) ~[classes/:?]
	at org.apache.bookkeeper.bookie.SyncThread.flush(SyncThread.java:137) ~[classes/:?]
	at org.apache.bookkeeper.bookie.SyncThread.lambda$requestFlush$1(SyncThread.java:111) ~[classes/:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_292]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_292]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_292]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_292]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:34.994 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:34.994 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:34.994 [BookieJournal-45335] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:34.994 [BookieJournal-45335] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:34.995 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:34.995 [Bookie-45335] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:34.995 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:34.995 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:34.995 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:34.995 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:34.995 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:34.995 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:34.996 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:34.996 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:34.998 [Time-limited test-SendThread(localhost:43067)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x10001146a4b0003.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x10001146a4b0003, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:35.098 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x10001146a4b0003 closed
19:53:35.099 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:35.099 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:35.099 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x10001146a4b0003
19:53:35.105 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-45863 with exitCode 0
19:53:35.106 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:35.106 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:35.106 [SyncThread-235-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:35.106 [SyncThread-235-1] ERROR org.apache.bookkeeper.bookie.LedgerDirsManager - All ledger directories are non writable and no reserved space (9223372036854775807) left.
org.apache.bookkeeper.bookie.LedgerDirsManager$NoWritableLedgerDirException: All ledger directories are non writable and no reserved space (9223372036854775807) left.
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getDirsAboveUsableThresholdSize(LedgerDirsManager.java:203) ~[classes/:?]
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getWritableLedgerDirsForNewLog(LedgerDirsManager.java:179) ~[classes/:?]
	at org.apache.bookkeeper.bookie.Journal$LastLogMark.rollLog(Journal.java:206) ~[classes/:?]
	at org.apache.bookkeeper.bookie.Journal.checkpointComplete(Journal.java:750) ~[classes/:?]
	at org.apache.bookkeeper.bookie.CheckpointSourceList$CheckpointList.checkpointComplete(CheckpointSourceList.java:71) ~[classes/:?]
	at org.apache.bookkeeper.bookie.CheckpointSourceList$CheckpointList.access$100(CheckpointSourceList.java:57) ~[classes/:?]
	at org.apache.bookkeeper.bookie.CheckpointSourceList.checkpointComplete(CheckpointSourceList.java:54) ~[classes/:?]
	at org.apache.bookkeeper.bookie.SyncThread.flush(SyncThread.java:137) ~[classes/:?]
	at org.apache.bookkeeper.bookie.SyncThread.lambda$requestFlush$1(SyncThread.java:111) ~[classes/:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_292]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_292]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_292]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_292]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:35.107 [SyncThread-235-1] ERROR org.apache.bookkeeper.bookie.SyncThread - Exception marking checkpoint as complete
org.apache.bookkeeper.bookie.LedgerDirsManager$NoWritableLedgerDirException: All ledger directories are non writable and no reserved space (9223372036854775807) left.
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getDirsAboveUsableThresholdSize(LedgerDirsManager.java:203) ~[classes/:?]
	at org.apache.bookkeeper.bookie.LedgerDirsManager.getWritableLedgerDirsForNewLog(LedgerDirsManager.java:179) ~[classes/:?]
	at org.apache.bookkeeper.bookie.Journal$LastLogMark.rollLog(Journal.java:206) ~[classes/:?]
	at org.apache.bookkeeper.bookie.Journal.checkpointComplete(Journal.java:750) ~[classes/:?]
	at org.apache.bookkeeper.bookie.CheckpointSourceList$CheckpointList.checkpointComplete(CheckpointSourceList.java:71) ~[classes/:?]
	at org.apache.bookkeeper.bookie.CheckpointSourceList$CheckpointList.access$100(CheckpointSourceList.java:57) ~[classes/:?]
	at org.apache.bookkeeper.bookie.CheckpointSourceList.checkpointComplete(CheckpointSourceList.java:54) ~[classes/:?]
	at org.apache.bookkeeper.bookie.SyncThread.flush(SyncThread.java:137) ~[classes/:?]
	at org.apache.bookkeeper.bookie.SyncThread.lambda$requestFlush$1(SyncThread.java:111) ~[classes/:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_292]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_292]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_292]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_292]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.68.Final.jar:4.1.68.Final]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:35.107 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:35.107 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:35.107 [BookieJournal-45863] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:35.107 [BookieJournal-45863] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:35.107 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:35.107 [Bookie-45863] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:35.107 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:35.107 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:35.107 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:35.108 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:35.108 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:35.108 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:35.108 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:35.108 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:35.110 [Time-limited test-SendThread(localhost:43067)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x10001146a4b0004.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x10001146a4b0004, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:35.211 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x10001146a4b0004
19:53:35.211 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x10001146a4b0004 closed
19:53:35.214 [Time-limited test-SendThread(localhost:43067)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x10001146a4b0000.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x10001146a4b0000, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:35.314 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x10001146a4b0000 closed
19:53:35.314 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x10001146a4b0000
19:53:35.315 [ConnnectionExpirer] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - ConnnectionExpirerThread interrupted
19:53:35.315 [NIOServerCxnFactory.SelectorThread-0] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - selector thread exitted run method
19:53:35.315 [NIOServerCxnFactory.AcceptThread:/127.0.0.1:0] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - accept thread exitted run method
19:53:35.316 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - shutting down
19:53:35.316 [Time-limited test] INFO  org.apache.zookeeper.server.RequestThrottler - Shutting down
19:53:35.316 [RequestThrottler] INFO  org.apache.zookeeper.server.RequestThrottler - Draining request throttler queue
19:53:35.316 [RequestThrottler] INFO  org.apache.zookeeper.server.RequestThrottler - RequestThrottler shutdown. Dropped 0 requests
19:53:35.316 [Time-limited test] INFO  org.apache.zookeeper.server.SessionTrackerImpl - Shutting down
19:53:35.316 [Time-limited test] INFO  org.apache.zookeeper.server.PrepRequestProcessor - Shutting down
19:53:35.316 [Time-limited test] INFO  org.apache.zookeeper.server.SyncRequestProcessor - Shutting down
19:53:35.316 [ProcessThread(sid:0 cport:43067):] INFO  org.apache.zookeeper.server.PrepRequestProcessor - PrepRequestProcessor exited loop!
19:53:35.316 [SyncThread:0] INFO  org.apache.zookeeper.server.SyncRequestProcessor - SyncRequestProcessor exited!
19:53:35.316 [Time-limited test] INFO  org.apache.zookeeper.server.FinalRequestProcessor - shutdown of request processor complete
19:53:35.317 [Time-limited test] INFO  org.apache.zookeeper.client.FourLetterWordMain - connecting to localhost 43067
19:53:35.319 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Tearing down test testAddFailsWithReadOnlyBookie in 541 ms.
19:53:35.320 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Setting up test class org.apache.bookkeeper.client.MdcContextTest
19:53:35.320 [Time-limited test] INFO  org.apache.zookeeper.server.persistence.FileTxnSnapLog - zookeeper.snapshot.trust.empty : false
19:53:35.320 [Time-limited test] INFO  org.apache.zookeeper.server.watch.WatchManagerFactory - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
19:53:35.320 [Time-limited test] INFO  org.apache.zookeeper.server.watch.WatchManagerFactory - Using org.apache.zookeeper.server.watch.WatchManager as watch manager
19:53:35.320 [Time-limited test] INFO  org.apache.zookeeper.server.ZKDatabase - zookeeper.snapshotSizeFactor = 0.33
19:53:35.320 [Time-limited test] INFO  org.apache.zookeeper.server.ZKDatabase - zookeeper.commitLogCount=500
19:53:35.320 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - minSessionTimeout set to 6000
19:53:35.320 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - maxSessionTimeout set to 60000
19:53:35.320 [Time-limited test] INFO  org.apache.zookeeper.server.ResponseCache - Response cache size is initialized with value 400.
19:53:35.320 [Time-limited test] INFO  org.apache.zookeeper.server.ResponseCache - Response cache size is initialized with value 400.
19:53:35.320 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.slotCapacity = 60
19:53:35.320 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.slotDuration = 15
19:53:35.320 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.maxDepth = 6
19:53:35.320 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.initialDelay = 5
19:53:35.320 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.delay = 5
19:53:35.320 [Time-limited test] INFO  org.apache.zookeeper.server.util.RequestPathMetricsCollector - zookeeper.pathStats.enabled = false
19:53:35.320 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - The max bytes for all large requests are set to 104857600
19:53:35.320 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - The large request threshold is set to -1
19:53:35.320 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 clientPortListenBacklog -1 datadir /tmp/zookeeper6500776736192078763test/version-2 snapdir /tmp/zookeeper6500776736192078763test/version-2
19:53:35.321 [Time-limited test] WARN  org.apache.zookeeper.server.ServerCnxnFactory - maxCnxns is not configured, using default value 0.
19:53:35.322 [Time-limited test] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - Configuring NIO connection handler with 10s sessionless connection timeout, 1 selector thread(s), 4 worker threads, and 64 kB direct buffers.
19:53:35.322 [Time-limited test] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - binding to port /127.0.0.1:0
19:53:35.323 [Time-limited test] INFO  org.apache.zookeeper.server.persistence.FileTxnSnapLog - Snapshotting: 0x0 to /tmp/zookeeper6500776736192078763test/version-2/snapshot.0
19:53:35.323 [Time-limited test] INFO  org.apache.zookeeper.server.ZKDatabase - Snapshot loaded in 1 ms, highest zxid is 0x0, digest is 1371985504
19:53:35.323 [Time-limited test] INFO  org.apache.zookeeper.server.persistence.FileTxnSnapLog - Snapshotting: 0x0 to /tmp/zookeeper6500776736192078763test/version-2/snapshot.0
19:53:35.323 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - Snapshot taken in 0 ms
19:53:35.324 [ProcessThread(sid:0 cport:45271):] INFO  org.apache.zookeeper.server.PrepRequestProcessor - PrepRequestProcessor (sid:0) started, reconfigEnabled=false
19:53:35.324 [Time-limited test] INFO  org.apache.zookeeper.client.FourLetterWordMain - connecting to localhost 45271
19:53:35.326 [NIOWorkerThread-1] INFO  org.apache.zookeeper.server.NIOServerCnxn - Processing stat command from /127.0.0.1:55536
19:53:35.326 [NIOWorkerThread-1] INFO  org.apache.zookeeper.server.command.AbstractFourLetterCommand - Stat command output
19:53:35.326 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:45271 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@5f130652
19:53:35.326 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:35.327 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:35.327 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:45271.
19:53:35.327 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:35.327 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:55538, server: localhost/127.0.0.1:45271
19:53:35.332 [SyncThread:0] INFO  org.apache.zookeeper.server.persistence.FileTxnLog - Creating new log file: log.1
19:53:35.332 [BookieDeathWatcher-45863] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
19:53:35.332 [BookieDeathWatcher-45863] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-45863
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:304) ~[classes/:?]
19:53:35.332 [BookieDeathWatcher-45863] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:35.332 [BookieDeathWatcher-45863] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:35.337 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:45271, session id = 0x100011470c20000, negotiated timeout = 10000
19:53:35.340 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:35.353 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45271/ledgers : zkServers = localhost:45271, ledgersRootPath = /ledgers.
19:53:35.353 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:45271 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@42bea2d9
19:53:35.353 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:35.353 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:35.361 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:45271.
19:53:35.361 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:35.361 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:55540, server: localhost/127.0.0.1:45271
19:53:35.362 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:45271, session id = 0x100011470c20001, negotiated timeout = 10000
19:53:35.364 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:35.366 [Time-limited test] ERROR org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver 
java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
	at org.apache.bookkeeper.net.ScriptBasedMapping$RawScriptBasedMapping.validateConf(ScriptBasedMapping.java:163) ~[classes/:?]
	at org.apache.bookkeeper.net.AbstractDNSToSwitchMapping.setConf(AbstractDNSToSwitchMapping.java:81) ~[classes/:?]
	at org.apache.bookkeeper.net.ScriptBasedMapping.setConf(ScriptBasedMapping.java:123) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:265) [classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:80) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.initializeEnsemblePlacementPolicy(BookKeeper.java:581) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:505) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeperTestClient.<init>(BookKeeperTestClient.java:51) [test-classes/:?]
	at org.apache.bookkeeper.test.BookKeeperClusterTestCase.startBKCluster(BookKeeperClusterTestCase.java:247) [test-classes/:?]
	at org.apache.bookkeeper.test.BookKeeperClusterTestCase.setUp(BookKeeperClusterTestCase.java:160) [test-classes/:?]
	at org.apache.bookkeeper.test.BookKeeperClusterTestCase.setUp(BookKeeperClusterTestCase.java:145) [test-classes/:?]
	at org.apache.bookkeeper.client.MdcContextTest.setUp(MdcContextTest.java:104) [test-classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_292]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292) [junit-4.12.jar:4.12]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:35.366 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
19:53:35.366 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Not weighted
19:53:35.366 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeper - Weighted ledger placement is not enabled
19:53:35.370 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Starting new bookie on port: 0
19:53:35.370 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - {
  "metadataServiceUri" : "zk://localhost:45271/ledgers",
  "numAddWorkerThreads" : "0",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "enableTaskExecutionStats" : "true",
  "diskUsageWarnThreshold" : "0.99",
  "preserveMdcForTaskExecution" : "true",
  "journalFlushWhenQueueEmpty" : "true",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "gcWaitTime" : "1000",
  "allowLoopback" : "true",
  "bookiePort" : "0",
  "tlsEnabledProtocols" : "[TLSv1.2, TLSv1.1]",
  "journalFormatVersionToWrite" : "5",
  "listeningInterface" : "lo",
  "allowEphemeralPorts" : "true",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "entryLogFilePreallocationEnabled" : "false",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore",
  "numReadWorkerThreads" : "0",
  "diskUsageThreshold" : "0.999",
  "minUsableSizeForEntryLogCreation" : "9223372036854775807",
  "journalDirectories" : "/tmp/bookie8228271905576236063test",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "ledgerDirectories" : "/tmp/bookie8228271905576236063test",
  "readOnlyModeEnabled" : "true"
}
19:53:35.371 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Binding bookie-rpc endpoint to /127.0.0.1:0
19:53:35.372 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45271/ledgers : zkServers = localhost:45271, ledgersRootPath = /ledgers.
19:53:35.372 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:45271 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@2ea20d24
19:53:35.372 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:35.373 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:35.373 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:45271.
19:53:35.373 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:35.373 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:55542, server: localhost/127.0.0.1:45271
19:53:35.374 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:45271, session id = 0x100011470c20002, negotiated timeout = 10000
19:53:35.374 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:35.376 [Time-limited test] INFO  org.apache.bookkeeper.discover.ZKRegistrationManager - INSTANCEID not exists in zookeeper. Not considering it for data verification
19:53:35.379 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Stamping new cookies on all dirs [/tmp/bookie8228271905576236063test/current] [/tmp/bookie8228271905576236063test/current]
19:53:35.383 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
19:53:35.384 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie8228271905576236063test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:35.384 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
19:53:35.384 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexPersistenceMgr - openFileLimit = 20000
19:53:35.384 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexInMemPageMgr - maxDirectMemory = 1908932608, pageSize = 8192, pageLimit = 77674
19:53:35.384 [Time-limited test] INFO  org.apache.bookkeeper.bookie.ScanAndCompareGarbageCollector - Over Replicated Ledger Deletion : enabled=true, interval=86400000
19:53:35.385 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
19:53:35.385 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
19:53:35.387 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeperTestClient - Wait for 127.0.0.1:41737 to become writable
19:53:35.393 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished replaying journal in 1 ms.
19:53:35.393 [SyncThread-256-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:35.394 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished reading journal, starting bookie
19:53:35.395 [BookieJournal-41737] INFO  org.apache.bookkeeper.bookie.Journal - Starting journal on /tmp/bookie8228271905576236063test/current
19:53:35.396 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite Thread started
19:53:35.396 [BookieJournal-41737] INFO  org.apache.bookkeeper.bookie.JournalChannel - Opening journal /tmp/bookie8228271905576236063test/current/17ce3497824.txn
19:53:35.404 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:41737 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:41737, port=41737, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:35.404 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:41737
19:53:35.521 [SessionTracker] INFO  org.apache.zookeeper.server.SessionTrackerImpl - SessionTrackerImpl exited loop!
19:53:35.521 [SessionTracker] INFO  org.apache.zookeeper.server.SessionTrackerImpl - SessionTrackerImpl exited loop!
19:53:35.653 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - New bookie '127.0.0.1:41737' has been created.
19:53:35.654 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Starting new bookie on port: 0
19:53:35.655 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - {
  "minUsableSizeForEntryLogCreation" : "9223372036854775807",
  "journalFlushWhenQueueEmpty" : "true",
  "diskUsageWarnThreshold" : "0.99",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore",
  "allowEphemeralPorts" : "true",
  "gcWaitTime" : "1000",
  "allowLoopback" : "true",
  "listeningInterface" : "lo",
  "entryLogFilePreallocationEnabled" : "false",
  "numReadWorkerThreads" : "0",
  "ledgerDirectories" : "/tmp/bookie6092644781089228597test",
  "numAddWorkerThreads" : "0",
  "diskUsageThreshold" : "0.999",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "preserveMdcForTaskExecution" : "true",
  "bookiePort" : "0",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "enableTaskExecutionStats" : "true",
  "readOnlyModeEnabled" : "true",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "tlsEnabledProtocols" : "[TLSv1.2, TLSv1.1]",
  "journalFormatVersionToWrite" : "5",
  "metadataServiceUri" : "zk://localhost:45271/ledgers",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "journalDirectories" : "/tmp/bookie6092644781089228597test"
}
19:53:35.656 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Binding bookie-rpc endpoint to /127.0.0.1:0
19:53:35.658 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45271/ledgers : zkServers = localhost:45271, ledgersRootPath = /ledgers.
19:53:35.658 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:45271 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@2749aa87
19:53:35.659 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:35.659 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:35.662 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:45271.
19:53:35.662 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:35.662 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:55544, server: localhost/127.0.0.1:45271
19:53:35.663 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:45271, session id = 0x100011470c20003, negotiated timeout = 10000
19:53:35.663 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:35.665 [Time-limited test] INFO  org.apache.bookkeeper.discover.ZKRegistrationManager - INSTANCEID not exists in zookeeper. Not considering it for data verification
19:53:35.668 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Stamping new cookies on all dirs [/tmp/bookie6092644781089228597test/current] [/tmp/bookie6092644781089228597test/current]
19:53:35.674 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
19:53:35.675 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie6092644781089228597test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:35.675 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
19:53:35.675 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexPersistenceMgr - openFileLimit = 20000
19:53:35.675 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexInMemPageMgr - maxDirectMemory = 1908932608, pageSize = 8192, pageLimit = 77674
19:53:35.676 [Time-limited test] INFO  org.apache.bookkeeper.bookie.ScanAndCompareGarbageCollector - Over Replicated Ledger Deletion : enabled=true, interval=86400000
19:53:35.676 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
19:53:35.676 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
19:53:35.680 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeperTestClient - Wait for 127.0.0.1:35471 to become writable
19:53:35.681 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished replaying journal in 1 ms.
19:53:35.681 [SyncThread-265-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:35.682 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished reading journal, starting bookie
19:53:35.685 [BookieJournal-35471] INFO  org.apache.bookkeeper.bookie.Journal - Starting journal on /tmp/bookie6092644781089228597test/current
19:53:35.686 [BookieJournal-35471] INFO  org.apache.bookkeeper.bookie.JournalChannel - Opening journal /tmp/bookie6092644781089228597test/current/17ce3497947.txn
19:53:35.688 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite Thread started
19:53:35.693 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:35471 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:35471, port=35471, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:35.694 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:35471
19:53:35.750 [BookieDeathWatcher-46029] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
19:53:35.750 [BookieDeathWatcher-46029] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-46029
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:304) ~[classes/:?]
19:53:35.750 [BookieDeathWatcher-46029] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:35.750 [BookieDeathWatcher-46029] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:35.941 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - New bookie '127.0.0.1:35471' has been created.
19:53:35.942 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Starting new bookie on port: 0
19:53:35.943 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - {
  "journalFormatVersionToWrite" : "5",
  "diskUsageThreshold" : "0.999",
  "allowLoopback" : "true",
  "readOnlyModeEnabled" : "true",
  "entryLogFilePreallocationEnabled" : "false",
  "allocatorPoolingPolicy" : "UnpooledHeap",
  "metastoreImplClass" : "org.apache.bookkeeper.metastore.InMemoryMetaStore",
  "allowEphemeralPorts" : "true",
  "preserveMdcForTaskExecution" : "true",
  "dbStorage_readAheadCacheMaxSizeMb" : "4",
  "journalFlushWhenQueueEmpty" : "true",
  "ledgerStorageClass" : "org.apache.bookkeeper.bookie.InterleavedLedgerStorage",
  "numReadWorkerThreads" : "0",
  "diskUsageWarnThreshold" : "0.99",
  "journalDirectories" : "/tmp/bookie8429490243407169526test",
  "numAddWorkerThreads" : "0",
  "metadataServiceUri" : "zk://localhost:45271/ledgers",
  "tlsEnabledProtocols" : "[TLSv1.2, TLSv1.1]",
  "enableTaskExecutionStats" : "true",
  "ledgerDirectories" : "/tmp/bookie8429490243407169526test",
  "bookiePort" : "0",
  "gcWaitTime" : "1000",
  "dbStorage_writeCacheMaxSizeMb" : "4",
  "listeningInterface" : "lo",
  "minUsableSizeForEntryLogCreation" : "9223372036854775807"
}
19:53:35.945 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Binding bookie-rpc endpoint to /127.0.0.1:0
19:53:35.949 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45271/ledgers : zkServers = localhost:45271, ledgersRootPath = /ledgers.
19:53:35.949 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:45271 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@4af1710c
19:53:35.949 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:35.949 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:35.953 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:45271.
19:53:35.953 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:35.953 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:55546, server: localhost/127.0.0.1:45271
19:53:35.954 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:45271, session id = 0x100011470c20004, negotiated timeout = 10000
19:53:35.954 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:35.956 [Time-limited test] INFO  org.apache.bookkeeper.discover.ZKRegistrationManager - INSTANCEID not exists in zookeeper. Not considering it for data verification
19:53:35.960 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Stamping new cookies on all dirs [/tmp/bookie8429490243407169526test/current] [/tmp/bookie8429490243407169526test/current]
19:53:35.964 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - instantiate ledger manager org.apache.bookkeeper.meta.HierarchicalLedgerManagerFactory
19:53:35.964 [Time-limited test] ERROR org.apache.bookkeeper.bookie.Journal - Problems reading from /tmp/bookie8429490243407169526test/current/lastMark (this is okay if it is the first time starting this bookie
19:53:35.964 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Using ledger storage: org.apache.bookkeeper.bookie.InterleavedLedgerStorage
19:53:35.965 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexPersistenceMgr - openFileLimit = 20000
19:53:35.965 [Time-limited test] INFO  org.apache.bookkeeper.bookie.IndexInMemPageMgr - maxDirectMemory = 1908932608, pageSize = 8192, pageLimit = 77674
19:53:35.965 [Time-limited test] INFO  org.apache.bookkeeper.bookie.ScanAndCompareGarbageCollector - Over Replicated Ledger Deletion : enabled=true, interval=86400000
19:53:35.965 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Minor Compaction : enabled=true, threshold=0.20000000298023224, interval=3600000
19:53:35.965 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Major Compaction : enabled=true, threshold=0.800000011920929, interval=86400000
19:53:35.975 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeperTestClient - Wait for 127.0.0.1:37337 to become writable
19:53:35.975 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished replaying journal in 0 ms.
19:53:35.976 [SyncThread-274-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 0 , logFileOffset - 0]}.
19:53:35.977 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Finished reading journal, starting bookie
19:53:35.980 [BookieJournal-37337] INFO  org.apache.bookkeeper.bookie.Journal - Starting journal on /tmp/bookie8429490243407169526test/current
19:53:35.986 [BookieJournal-37337] INFO  org.apache.bookkeeper.bookie.JournalChannel - Opening journal /tmp/bookie8429490243407169526test/current/17ce3497a72.txn
19:53:35.986 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite Thread started
19:53:36.001 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:37337 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:37337, port=37337, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:36.001 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:37337
19:53:36.037 [BookieDeathWatcher-45335] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
19:53:36.038 [BookieDeathWatcher-45335] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-45335
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:304) ~[classes/:?]
19:53:36.038 [BookieDeathWatcher-45335] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:36.038 [BookieDeathWatcher-45335] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:36.246 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - New bookie '127.0.0.1:37337' has been created.
19:53:36.247 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Setup testcase testAddFailsDuplicateEntry @ metadata service zk://localhost:45271/ledgers in 927 ms.
19:53:36.248 [Time-limited test] INFO  org.apache.bookkeeper.meta.zk.ZKMetadataDriverBase - Initialize zookeeper metadata driver at metadata service uri zk://localhost:45271/ledgers : zkServers = localhost:45271, ledgersRootPath = /ledgers.
19:53:36.249 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Initiating client connection, connectString=localhost:45271 sessionTimeout=10000 watcher=org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase@476182af
19:53:36.249 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxnSocket - jute.maxbuffer value is 1048575 Bytes
19:53:36.249 [Time-limited test] INFO  org.apache.zookeeper.ClientCnxn - zookeeper.request.timeout value is 0. feature enabled=false
19:53:36.250 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server localhost/127.0.0.1:45271.
19:53:36.250 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - SASL config status: Will not attempt to authenticate using SASL (unknown error)
19:53:36.251 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - Socket connection established, initiating session, client: /127.0.0.1:55548, server: localhost/127.0.0.1:45271
19:53:36.252 [Time-limited test-SendThread(localhost:45271)] INFO  org.apache.zookeeper.ClientCnxn - Session establishment complete on server localhost/127.0.0.1:45271, session id = 0x100011470c20005, negotiated timeout = 10000
19:53:36.252 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.zookeeper.ZooKeeperWatcherBase - ZooKeeper client is connected now.
19:53:36.254 [Time-limited test] ERROR org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Failed to initialize DNS Resolver org.apache.bookkeeper.net.ScriptBasedMapping, used default subnet resolver 
java.lang.RuntimeException: No network topology script is found when using script based DNS resolver.
	at org.apache.bookkeeper.net.ScriptBasedMapping$RawScriptBasedMapping.validateConf(ScriptBasedMapping.java:163) ~[classes/:?]
	at org.apache.bookkeeper.net.AbstractDNSToSwitchMapping.setConf(AbstractDNSToSwitchMapping.java:81) ~[classes/:?]
	at org.apache.bookkeeper.net.ScriptBasedMapping.setConf(ScriptBasedMapping.java:123) ~[classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:265) [classes/:?]
	at org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl.initialize(RackawareEnsemblePlacementPolicyImpl.java:80) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.initializeEnsemblePlacementPolicy(BookKeeper.java:581) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:505) [classes/:?]
	at org.apache.bookkeeper.client.BookKeeper.<init>(BookKeeper.java:344) [classes/:?]
	at org.apache.bookkeeper.client.MdcContextTest.setUp(MdcContextTest.java:111) [test-classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_292]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_292]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_292]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_292]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292) [junit-4.12.jar:4.12]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:36.254 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Initialize rackaware ensemble placement policy @ <Bookie:127.0.1.1:0> @ /default-rack : org.apache.bookkeeper.client.TopologyAwareEnsemblePlacementPolicy$DefaultResolver.
19:53:36.254 [Time-limited test] INFO  org.apache.bookkeeper.client.RackawareEnsemblePlacementPolicyImpl - Not weighted
19:53:36.254 [Time-limited test] INFO  org.apache.bookkeeper.client.BookKeeper - Weighted ledger placement is not enabled
19:53:36.257 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:41737 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:41737, port=41737, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:36.257 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:35471 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:35471, port=35471, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:36.257 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.discover.ZKRegistrationClient - Update BookieInfoCache (writable bookie) 127.0.0.1:37337 -> BookieServiceInfo{properties={}, endpoints=[EndpointInfo{id=127.0.0.1:37337, port=37337, host=127.0.0.1, protocol=bookie-rpc, auth=[], extensions=[]}]}
19:53:36.258 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:35471
19:53:36.258 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:37337
19:53:36.258 [BookKeeperClientScheduler-OrderedScheduler-0-0] INFO  org.apache.bookkeeper.net.NetworkTopologyImpl - Adding a new node: /default-rack/127.0.0.1:41737
19:53:36.258 [Time-limited test] INFO  org.apache.bookkeeper.client.MdcContextTest - creating ledger
19:53:36.259 [Time-limited test] WARN  org.apache.bookkeeper.client.BookieWatcherImpl - New ensemble: [127.0.0.1:37337, 127.0.0.1:35471, 127.0.0.1:41737] is not adhering to Placement Policy. quarantinedBookies: []
19:53:36.272 [Time-limited test-EventThread] INFO  org.apache.bookkeeper.client.LedgerCreateOp - Ensemble: [127.0.0.1:37337, 127.0.0.1:35471, 127.0.0.1:41737] for ledger: 0
19:53:36.282 [bookkeeper-io-280-2] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Successfully connected to bookie: 127.0.0.1:35471 [id: 0xffd7eac5, L:/127.0.0.1:32802 - R:127.0.0.1/127.0.0.1:35471]
19:53:36.283 [bookkeeper-io-280-2] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - connection [id: 0xffd7eac5, L:/127.0.0.1:32802 - R:127.0.0.1/127.0.0.1:35471] authenticated as BookKeeperPrincipal{ANONYMOUS}
19:53:36.284 [bookie-io-260-2] INFO  org.apache.bookkeeper.proto.AuthHandler - Authentication success on server side
19:53:36.285 [bookie-io-260-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channel connected  [id: 0x3167b22c, L:/127.0.0.1:35471 - R:/127.0.0.1:32802]
19:53:36.286 [bookie-io-260-2] INFO  org.apache.bookkeeper.bookie.EntryLogManagerBase - Creating a new entry log file because current active log channel has not initialized yet
19:53:36.286 [bookie-io-260-2] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Created new entry log file /tmp/bookie6092644781089228597test/current/0.log for logId 0.
19:53:36.287 [bookie-io-269-2] INFO  org.apache.bookkeeper.proto.AuthHandler - Authentication success on server side
19:53:36.288 [bookie-io-269-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channel connected  [id: 0x173d2834, L:/127.0.0.1:37337 - R:/127.0.0.1:41026]
19:53:36.293 [bookkeeper-io-280-1] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Successfully connected to bookie: 127.0.0.1:37337 [id: 0xfc11eb8d, L:/127.0.0.1:41026 - R:127.0.0.1/127.0.0.1:37337]
19:53:36.294 [bookkeeper-io-280-1] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - connection [id: 0xfc11eb8d, L:/127.0.0.1:41026 - R:127.0.0.1/127.0.0.1:37337] authenticated as BookKeeperPrincipal{ANONYMOUS}
19:53:36.296 [bookie-io-269-2] INFO  org.apache.bookkeeper.bookie.EntryLogManagerBase - Creating a new entry log file because current active log channel has not initialized yet
19:53:36.296 [bookie-io-269-2] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Created new entry log file /tmp/bookie8429490243407169526test/current/0.log for logId 0.
19:53:36.297 [bookkeeper-io-280-3] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Successfully connected to bookie: 127.0.0.1:41737 [id: 0xd85546a9, L:/127.0.0.1:47732 - R:127.0.0.1/127.0.0.1:41737]
19:53:36.298 [bookkeeper-io-280-3] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - connection [id: 0xd85546a9, L:/127.0.0.1:47732 - R:127.0.0.1/127.0.0.1:41737] authenticated as BookKeeperPrincipal{ANONYMOUS}
19:53:36.299 [bookie-io-251-2] INFO  org.apache.bookkeeper.proto.AuthHandler - Authentication success on server side
19:53:36.300 [bookie-io-251-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channel connected  [id: 0x16ccfd23, L:/127.0.0.1:41737 - R:/127.0.0.1:47732]
19:53:36.300 [bookie-io-251-2] INFO  org.apache.bookkeeper.bookie.EntryLogManagerBase - Creating a new entry log file because current active log channel has not initialized yet
19:53:36.302 [bookie-io-251-2] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Created new entry log file /tmp/bookie8228271905576236063test/current/0.log for logId 0.
19:53:36.316 [Time-limited test] ERROR org.apache.bookkeeper.client.LedgerHandleAdv - Trying to re-add duplicate entryid:0
19:53:36.316 [Time-limited test] ERROR org.apache.bookkeeper.client.PendingAddOp - Write of ledger entry to quorum failed: L0 E0
19:53:36.318 [Time-limited test] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Closing the per channel bookie client for 127.0.0.1:41737
19:53:36.319 [Time-limited test] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Closing the per channel bookie client for 127.0.0.1:35471
19:53:36.319 [bookkeeper-io-280-3] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Disconnected from bookie channel [id: 0xd85546a9, L:/127.0.0.1:47732 ! R:127.0.0.1/127.0.0.1:41737]
19:53:36.319 [bookkeeper-io-280-2] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Disconnected from bookie channel [id: 0xffd7eac5, L:/127.0.0.1:32802 ! R:127.0.0.1/127.0.0.1:35471]
19:53:36.319 [bookie-io-251-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channels disconnected: [id: 0x16ccfd23, L:/127.0.0.1:41737 ! R:/127.0.0.1:47732]
19:53:36.319 [bookie-io-260-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channels disconnected: [id: 0x3167b22c, L:/127.0.0.1:35471 ! R:/127.0.0.1:32802]
19:53:36.320 [Time-limited test] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Closing the per channel bookie client for 127.0.0.1:37337
19:53:36.320 [bookkeeper-io-280-1] INFO  org.apache.bookkeeper.proto.PerChannelBookieClient - Disconnected from bookie channel [id: 0xfc11eb8d, L:/127.0.0.1:41026 ! R:127.0.0.1/127.0.0.1:37337]
19:53:36.320 [bookie-io-269-2] INFO  org.apache.bookkeeper.proto.BookieRequestHandler - Channels disconnected: [id: 0x173d2834, L:/127.0.0.1:37337 ! R:/127.0.0.1:41026]
19:53:36.326 [Time-limited test-SendThread(localhost:45271)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x100011470c20005.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x100011470c20005, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:36.426 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x100011470c20005
19:53:36.426 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x100011470c20005 closed
19:53:36.427 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - TearDown
19:53:36.429 [Time-limited test-SendThread(localhost:45271)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x100011470c20001.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x100011470c20001, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:36.530 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x100011470c20001 closed
19:53:36.530 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x100011470c20001
19:53:36.530 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:36.530 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:36.531 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-41737 with exitCode 0
19:53:36.531 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:36.531 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:36.542 [SyncThread-256-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1635900815396 , logFileOffset - 1536]}.
19:53:36.551 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:36.551 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:36.551 [BookieJournal-41737] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:36.551 [BookieJournal-41737] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:36.551 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:36.551 [Bookie-41737] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:36.551 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:36.551 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:36.551 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:36.551 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:36.551 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:36.552 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:36.552 [pool-180-thread-1] ERROR org.apache.zookeeper.server.NIOServerCnxnFactory - Thread Thread[pool-180-thread-1,5,FailOnTimeoutGroup] died
java.lang.NullPointerException: null
	at org.apache.bookkeeper.bookie.EntryLoggerAllocator.closePreAllocateLog(EntryLoggerAllocator.java:191) ~[classes/:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:36.553 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:36.553 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:36.660 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x100011470c20002 closed
19:53:36.660 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:36.660 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:36.660 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x100011470c20002
19:53:36.667 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-35471 with exitCode 0
19:53:36.667 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:36.667 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:36.678 [SyncThread-265-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1635900815687 , logFileOffset - 1024]}.
19:53:36.687 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:36.687 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:36.687 [BookieJournal-35471] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:36.687 [BookieJournal-35471] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:36.687 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:36.687 [Bookie-35471] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:36.687 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:36.687 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:36.687 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:36.687 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:36.687 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:36.688 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:36.688 [pool-186-thread-1] ERROR org.apache.zookeeper.server.NIOServerCnxnFactory - Thread Thread[pool-186-thread-1,5,FailOnTimeoutGroup] died
java.lang.NullPointerException: null
	at org.apache.bookkeeper.bookie.EntryLoggerAllocator.closePreAllocateLog(EntryLoggerAllocator.java:191) ~[classes/:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:36.693 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:36.693 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:36.795 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x100011470c20003 closed
19:53:36.796 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:36.796 [Time-limited test] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:36.796 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x100011470c20003
19:53:36.799 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Shutting down Bookie-37337 with exitCode 0
19:53:36.799 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Bookie - Turning bookie to read only during shut down
19:53:36.799 [Time-limited test] INFO  org.apache.bookkeeper.bookie.SyncThread - Shutting down SyncThread
19:53:36.810 [SyncThread-274-1] INFO  org.apache.bookkeeper.bookie.SyncThread - Flush ledger storage at checkpoint CheckpointList{checkpoints=[LogMark: logFileId - 1635900815986 , logFileOffset - 1024]}.
19:53:36.819 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Shutting down Journal
19:53:36.819 [ForceWriteThread] INFO  org.apache.bookkeeper.bookie.Journal - ForceWrite thread interrupted
19:53:36.819 [BookieJournal-37337] INFO  org.apache.bookkeeper.bookie.Journal - Journal exits when shutting down
19:53:36.819 [BookieJournal-37337] INFO  org.apache.bookkeeper.bookie.Journal - Journal exited loop!
19:53:36.819 [Time-limited test] INFO  org.apache.bookkeeper.bookie.Journal - Finished Shutting down Journal thread
19:53:36.820 [Bookie-37337] INFO  org.apache.bookkeeper.bookie.Bookie - Journal thread(s) quit.
19:53:36.820 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down InterleavedLedgerStorage
19:53:36.820 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down GC thread
19:53:36.820 [Time-limited test] INFO  org.apache.bookkeeper.bookie.GarbageCollectorThread - Shutting down GarbageCollectorThread
19:53:36.820 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Shutting down entry logger
19:53:36.820 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLogger - Stopping EntryLogger
19:53:36.822 [Time-limited test] INFO  org.apache.bookkeeper.bookie.EntryLoggerAllocator - Stopped entry logger preallocator.
19:53:36.822 [Time-limited test] INFO  org.apache.bookkeeper.bookie.InterleavedLedgerStorage - Complete shutting down Ledger Storage
19:53:36.823 [Time-limited test] INFO  org.apache.bookkeeper.bookie.LedgerDirsMonitor - Shutting down LedgerDirsMonitor
19:53:36.823 [pool-192-thread-1] ERROR org.apache.zookeeper.server.NIOServerCnxnFactory - Thread Thread[pool-192-thread-1,5,FailOnTimeoutGroup] died
java.lang.NullPointerException: null
	at org.apache.bookkeeper.bookie.EntryLoggerAllocator.closePreAllocateLog(EntryLoggerAllocator.java:191) ~[classes/:?]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_292]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_292]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_292]
19:53:36.828 [Time-limited test-SendThread(localhost:45271)] WARN  org.apache.zookeeper.ClientCnxn - An exception was thrown while closing send thread for session 0x100011470c20004.
org.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x100011470c20004, likely server has closed socket
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350) ~[zookeeper-3.6.2.jar:3.6.2]
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275) [zookeeper-3.6.2.jar:3.6.2]
19:53:36.928 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x100011470c20004 closed
19:53:36.928 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x100011470c20004
19:53:36.997 [BookieDeathWatcher-37337] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher noticed the bookie is not running any more, exiting the watch loop!
19:53:36.997 [BookieDeathWatcher-37337] INFO  org.apache.bookkeeper.proto.BookieServer - BookieDeathWatcher exited loop due to uncaught exception from thread BookieDeathWatcher-37337
java.lang.RuntimeException: Bookie is not running any more
	at org.apache.bookkeeper.proto.BookieServer$DeathWatcher.run(BookieServer.java:304) ~[classes/:?]
19:53:36.997 [BookieDeathWatcher-37337] INFO  org.apache.bookkeeper.proto.BookieServer - Shutting down BookieServer
19:53:36.997 [BookieDeathWatcher-37337] INFO  org.apache.bookkeeper.proto.BookieNettyServer - Shutting down BookieNettyServer
19:53:37.030 [Time-limited test] INFO  org.apache.zookeeper.ZooKeeper - Session: 0x100011470c20000 closed
19:53:37.030 [Time-limited test-EventThread] INFO  org.apache.zookeeper.ClientCnxn - EventThread shut down for session: 0x100011470c20000
19:53:37.031 [ConnnectionExpirer] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - ConnnectionExpirerThread interrupted
19:53:37.031 [NIOServerCxnFactory.AcceptThread:/127.0.0.1:0] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - accept thread exitted run method
19:53:37.031 [NIOServerCxnFactory.SelectorThread-0] INFO  org.apache.zookeeper.server.NIOServerCnxnFactory - selector thread exitted run method
19:53:37.032 [Time-limited test] INFO  org.apache.zookeeper.server.ZooKeeperServer - shutting down
19:53:37.032 [Time-limited test] INFO  org.apache.zookeeper.server.RequestThrottler - Shutting down
19:53:37.032 [RequestThrottler] INFO  org.apache.zookeeper.server.RequestThrottler - Draining request throttler queue
19:53:37.032 [RequestThrottler] INFO  org.apache.zookeeper.server.RequestThrottler - RequestThrottler shutdown. Dropped 0 requests
19:53:37.032 [Time-limited test] INFO  org.apache.zookeeper.server.SessionTrackerImpl - Shutting down
19:53:37.032 [Time-limited test] INFO  org.apache.zookeeper.server.PrepRequestProcessor - Shutting down
19:53:37.032 [Time-limited test] INFO  org.apache.zookeeper.server.SyncRequestProcessor - Shutting down
19:53:37.032 [ProcessThread(sid:0 cport:45271):] INFO  org.apache.zookeeper.server.PrepRequestProcessor - PrepRequestProcessor exited loop!
19:53:37.032 [SyncThread:0] INFO  org.apache.zookeeper.server.SyncRequestProcessor - SyncRequestProcessor exited!
19:53:37.032 [Time-limited test] INFO  org.apache.zookeeper.server.FinalRequestProcessor - shutdown of request processor complete
19:53:37.033 [Time-limited test] INFO  org.apache.zookeeper.client.FourLetterWordMain - connecting to localhost 45271
19:53:37.036 [Time-limited test] INFO  org.apache.bookkeeper.test.BookKeeperClusterTestCase - Tearing down test testAddFailsDuplicateEntry in 609 ms.
